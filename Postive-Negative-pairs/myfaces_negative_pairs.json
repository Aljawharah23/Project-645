[
    [
        "MYFACES-1186",
        "MYFACES-2788",
        "incorrect use of getValueBinding or does not complement UIComponentTagUtils Unless I'm mistaken, I believe the following holds true even in the current 1.1.3-SNAPSHOT\n\nIn HtmlDataScrollerTag there is:\n\nsetBooleanProperty(component, JSFAttr.IMMEDIATE_ATTR, _immediate);\n\nAnd then in HtmlDataScroller there is:\n\n    public boolean isImmediate()\n    {\n        if (_immediate != null)\n            return _immediate.booleanValue();\n        ValueBinding vb = getValueBinding(\"immediate\");\n        Boolean v = vb != null ? (Boolean) vb.getValue(getFacesContext()) : null;\n        return v != null ? v.booleanValue() : DEFAULT_IMMEDIATE;\n    }\n\nBut getValueBinding is returning null as it is not (also?) looking in UIComponentBase._attributesMap.",
        "setRowIndex still uses getClientId instead of getContainerClientId for saving and restoring row states getClientId was replaced with getContainerClientId but method setRowIndex was not fit to this changes and so saving and restoring of row states doesn't work!"
    ],
    [
        "MYFACES-3736",
        "MYFACES-2756",
        "Occasional ResourceHandlerImpl Error trying to load resource jsf.js with library javax.faces From time to time I encountered the following error:\r\n\r\nERROR http-apr-80-exec-2 ResourceHandlerImpl:425: Error trying to load resource jsf.js with library javax.faces :null\r\n\r\nThat is all I have. I can't tell what the exact request details or what is the IOException.\r\n\r\nCan you please also make it possible to log the IOException stacktrace?\r\n\r\nThanks.",
        "@JSFProperty has \"inheritTag\" property, and it should be \"inheritedTag\" Doing some stuff on tomahawk, I saw a typo error. The property inheritedTag is used in tomahawk for jsf 1.1 and it is used on very special cases, when it is necessary to override the default code added on a jsp tag. Since in tomahawk for jsf 1.1 we use doclets that code fall \"out of the radar\". The solution is use the same name as in the doclets.\r\n\r\nWith this commit I also added some attributes for @JSFJspProperty."
    ],
    [
        "MYFACES-3296",
        "MYFACES-2139",
        "Allow custom attributes within jsf-components It would be good, if all jsf-components allow the usage of custom attributes:\r\nExample: <h:inputText id=\"testcomponent\" value=\"value\"  myattribute=\"test\" />\r\n\r\nA common usecase for this issue is the usage of HTML5 data-* attributes ( http://dev.w3.org/html5/spec/elements.html#custom-data-attribute )\r\n\r\nCurrently all custom attributes are ignored and not rendered.",
        "h:messages don't use styleClass attribute when rendering MyFaces breaks compatibility with Sun RI as the styleClass attribute is not rendered for h:messages.\r\nThe styleClass attribute should be applied to the <ul> element (or the <table> element if in table layout)."
    ],
    [
        "MYFACES-2081",
        "MYFACES-3044",
        "Implement tag ui:repeat  Create tag ui:repeat for Facelets",
        "Resource jsf.js not found when using the OSGi bundle First there is a\r\nWARNING: Resource referenced by resourceName jsf.js and libraryName javax.faces not found in call to ResourceHandler.createResource. It will be silenty ignored.\r\nand later a NullPointerException\r\n\r\nUsing javax.faces.PROJECT_STAGE=Development, the class loader was trying to load META-INF/internal-resources/javax.faces/jsf-uncompressed-full.js (so I added the \"package\" META-INF.internal-resources.javax.faces to the list of exported packages of myfaces-bundle.jar). But then I changed it from Development to Production, and myfaces tried to load something else (and I decided to write a bug)."
    ],
    [
        "MYFACES-344",
        "MYFACES-3597",
        "component method's visibility review The extension of the components by inherintance is impossible, because the important functions and fields are defined as private, or visible only from the original package. It would be nice, if you could review the visiblity settings of the most components.\n",
        "Wrong message indicating ri or myfaces in the classpath Reported by Jon Bionda on dev list:\r\n\r\nmyfaces-core-2.1.8 source\r\n\r\n    org.apache.myfaces.webapp.WebConfigParamsLogger.logWebContextParams()\r\n\r\n \r\n\r\nNot a big deal but it caused me a few hours of scratching my head so thought I would subscribe and post this.\r\n\r\n \r\n\r\nI am getting the \"Starting up Tomahawk on the RI-JSF-Implementation.\" message on startup with JBoss 7.1.1 when using the org.jboss.jbossfaces.WAR_BUNDLES_JSF_IMPL context parm to stop it from loading the JSF RI.  I see lots of myfaces initialization msgs in the log so I was pretty sure(hopeful) the message was wrong so I downloaded and looked at the code and think I see a reverse logic error in the source file identified at the top of this email.\r\n\r\n \r\n\r\nHere\u2019s the code and I think the wrong message is being issued for when it checks for availability of both the RI and myfaces classes.\r\n\r\n \r\n\r\n        if (myfacesConfig.isTomahawkAvailable())\r\n\r\n        {\r\n\r\n            if(myfacesConfig.isMyfacesImplAvailable())\r\n\r\n            {\r\n\r\n                if(log.isLoggable(Level.INFO))\r\n\r\n                {\r\n\r\n                    log.info(\"Starting up Tomahawk on the RI-JSF-Implementation.\");   \u00dfmsg should be MyFaces\r\n\r\n                }\r\n\r\n            }\r\n\r\n \r\n\r\n            if(myfacesConfig.isRiImplAvailable())\r\n\r\n            {\r\n\r\n                if(log.isLoggable(Level.INFO))\r\n\r\n                {\r\n\r\n                    log.info(\"Starting up Tomahawk on the MyFaces-JSF-Implementation\");  \u00df msg should be RI\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }"
    ],
    [
        "MYFACES-364",
        "MYFACES-2648",
        "datatable should render the footer after the header according to http://www.w3.org/TR/html4/struct/tables.html#h-11.2.3 it is recomendet to render the footer right after the header and before the table body.",
        "AbstractMyFacesListener is not needed anymore This class is not needed anymore, because of the changes applied in MYFACES-2396."
    ],
    [
        "MYFACES-357",
        "MYFACES-1637",
        "id attribute not correctly rendered in some cases I was getting javascript errors with the tree2 component due to img tags not having their id attribute rendered.  My experience with MyFaces is about two hours, so I'm not sure about this but my fix was to \n\nmodify HtmlRenderUtils.writeIdifNecessary from\n\nif(component.getId()!=null && !component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }\n\nto\n\nif(component.getId()!=null && component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }",
        "ClassCastException in UIComponentClassicTagBase.createVerbatimComponent Wrong cast to set, instead of list"
    ],
    [
        "MYFACES-2732",
        "MYFACES-3026",
        "ValidatorTagHandlerDelegate should ignore binding, disabled and for on its MetaRuleset While writing some tests for <f:validateBean> I found out that currently the MetaRuleset of ValidatorTagHandlerDelegate does only ignore binding, but not disabled and for. Thus the following log message:\r\n\r\nSCHWERWIEGEND: /testValidateBean.xhtml at line 24 and column 66 disabled=\"#{validateBeanDisabled}\" Unhandled by MetaTagHandler for type javax.faces.validator.BeanValidator\r\n\r\nThe solution is very easy: ValidatorTagHandlerDelegate should also ignore disabled and for, because these attributes are (implicitly) handled by ValidatorHandler (implicitly, because the super classes of it handle the attributes).",
        "jsf.js: add the italian, russian, french and spanish message localisations to the jsf.js scripts "
    ],
    [
        "MYFACES-1851",
        "MYFACES-3261",
        "the hidden field form:_link_hidden_ not works anymore (changed by form:_idcl on MYFACES-1539). This should be removed \nThe hidden field _link_hidden_ was replaced with _idcl, but actually on 1.2 this field does nothing.\n\nThe better option is remove this field from rendering.",
        "jsf.js: window.execScript handling call bug Our code which handles the global eval for browsers which implement execScript is never called. This is not a big issue because the code is never called anyway, because the browsers who apparently have this functionality have auto eval anyway, nevertheless this needs to be fixed.\r\n"
    ],
    [
        "MYFACES-2941",
        "MYFACES-3538",
        "Facelets classpath does not always properly decode filesystem paths The current implementation of _getAlternativeJarFile(URL url) in org.apache.myfaces.view.facelets.Classpath does not currently decode the filesystem path to remove escaped white-space prior to calling the JarFile constructor.  This can cause FileNotFoundExceptions on Windows if the jar's path is under a directory like \"Program Files\" or \"Documents and Settings\".  \r\n\r\nPlanning to re-use the decodeUrl method from the commons-io FileUtils class to make sure that this is handled properly.  Initial testing looks good.  ",
        "Boguous implementation of the HTTP OPTIONS method My colleague Christoph Ledl found the following issue in MyFaces:\r\n\r\n----\r\nWrong implementation of the OPTIONS method\r\n\r\nFacesServlet does not handle OPTIONS (and possilby other methods) correctly.\r\nIt looks like these request are processed like a GET, which is wrong.\r\n\r\nthe implementation of FacesServlet.service() does not deal with methods.\r\none cheap fix would be to send 405 (SC_METHOD_NOT_ALLOWED) for all unsupported methods like TRACE and OPTIONS.\r\n\r\nanother approach would to extend HttpServlet (instead of implementing Servlet)\r\nand implement only required methods like GET and POST (this would leave the other methods to the default implementation)\r\n\r\nciteation of HttpServlet java doc:\r\nThere's almost no reason to override the \"service\" method.\r\n\r\nLikewise, there's almost no reason to override the \"doOptions\" and \"doTrace\" methods.\r\n---\r\n\r\nThis materializes in the following Exception:\r\n\r\nFeb 28 17:48:13 j04 [http-8080-exec-14]   ERROR log.LogFilter j04 0 43396625FA6E47DF1C03B12B60BF request done OPTIONS /events/ical.xhtml?locale=de&token=488d-1-b7da-f29fcf074 time=749.16ms cpu=610ms ex=IllegalStateException msg=null UA=Microsoft-WebDAV-MiniRedir/6.1.7601\r\nFeb 28 17:48:13 j04 [http-8080-exec-14]   INFO  log.LogFilter params: token=48b0368d-b7da-f2974 locale=de\r\nFeb 28 17:48:13 j04 [http-8080-exec-14]   ERROR [/events].[Faces Servlet] Servlet.service() for servlet Faces Servlet threw exception\r\nFeb 28 17:48:13 j04 java.lang.IllegalStateException\r\nFeb 28 17:48:13 j04      at org.apache.catalina.connector.ResponseFacade.sendRedirect(ResponseFacade.java:435)\r\nFeb 28 17:48:13 j04      at org.apache.myfaces.context.servlet.ServletExternalContextImpl.redirect(ServletExternalContextImpl.java:465)\r\nFeb 28 17:48:13 j04      at org.apache.myfaces.extensions.cdi.jsf.impl.scope.conversation.DefaultWindowHandler.sendRedirect(DefaultWindowHandler.java:104)\r\nFeb 28 17:48:13 j04      at sun.reflect.GeneratedMethodAccessor1600.invoke(Unknown Source)\r\nFeb 28 17:48:13 j04      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\nFeb 28 17:48:13 j04      at java.lang.reflect.Method.invoke(Method.java:597)\r\nFeb 28 17:48:13 j04      at org.apache.webbeans.intercept.InterceptorHandler.invoke(InterceptorHandler.java:329)\r\nFeb 28 17:48:13 j04      at org.apache.webbeans.intercept.NormalScopedBeanInterceptorHandler.invoke(NormalScopedBeanInterceptorHandler.java:122)\r\n\r\n\r\nMost times this method gets used by mobile browsers in smartphones. \r\n"
    ],
    [
        "MYFACES-3970",
        "MYFACES-2593",
        "11.4.2.1 topic Each <contract-mapping> element can have  one or more <contract> elements. JSF specification says that <contract-mapping> can have one or more url-pattern with one or more contracts. So Many to many option is possible. \r\n\r\n11.4.2.1\r\n\r\n The <resource-library-contracts> element is contained with in the <application> element and contains\r\none or more <contract-mapping> elements. Each <contract-mapping> element must one or more <urlpattern>\r\nelements and one or more <contract> elements.\r\n\r\nIn my testing on Myfaces 2.2.7 it always keeps the second entry in the list overwriting the first one. \r\n\r\ne.g. for this url-pattern the contract assigned is \"team\" . It does not consider \"testContract\".\r\n\r\n\t\t\t<contract-mapping>\r\n\t\t\t\t<url-pattern>/user/*</url-pattern>\t\t\t\t\r\n\t\t  \t\t<contracts>testContract</contracts> \r\n\t\t  \t\t<contracts>team</contracts>\r\n\t\t\t</contract-mapping>\r\n\r\n\r\nTested on reference implementation Mojarra , it assigns to testContract correctly.\r\n",
        "styles are escaped so that @import *.css doesn't work This one doesn't pull the script with MyFaces 2.0:\r\n\r\n\t\t<style type=\"text/css\">\r\n\t\t\t@import \"test.css\"\r\n\t\t</style>\r\n\r\nNo problem with Mojarra here."
    ],
    [
        "MYFACES-2260",
        "MYFACES-4012",
        "Dom replacement code in javax.faces.ViewRoot und javax.faces.ViewBody is incorrect The problem here is that the old code with document.documentElement.innerHtml respectively\r\nthe replaceElement does not work out neither on head nor on body.\r\nThis issue will receive a fixup immediately!\r\n",
        "Documentation wrong about Error handling https://cwiki.apache.org/confluence/display/MYFACES/Handling+Server+Errors\r\n\r\nCurrent version:\r\n{quote}\r\n*Provide an error page*\r\nThe default ExceptionHandler in Production stage or when myfaces error handling is disabled just throw an exception. So you can still setup an error page adding something like this in your web.xml file:\r\n{code}<error-page>\r\n    <error-code>500</error-code>\r\n    <location>/somepage.jsp</location>\r\n</error-page>{code}\r\n{quote}\r\n\r\nShould be:\r\n{quote}\r\n*Provide an error page*\r\nIf org.apache.myfaces.ERROR_HANDLING is set to \"false\", or if it is undefined and the project stage is \"Development\", the default ExceptionHandler just throws an exception. So you can still setup an error page by adding something like this in your web.xml file:\r\n{code}<error-page>\r\n    <error-code>500</error-code>\r\n    <location>/somepage.jsp</location>\r\n</error-page>{code}\r\n{quote}\r\n\r\nChanges\r\n- Corrected the explanation of the behavior of the default ExceptionHandler.\r\n- Improved the grammar.\r\n"
    ],
    [
        "MYFACES-3685",
        "MYFACES-435",
        "Implement f:attributes facelet tag Implement f:attributes facelet tag as described in JSF 2.2 spec",
        "Unicode encoding I wish HtmlResponseWriterImpl will render the unicode text as jsp, not encode as &#XXXXX;, it's difficult to view the html source.  especially not encoded to javascipt."
    ],
    [
        "MYFACES-267",
        "MYFACES-1517",
        "selectItemGroup doesn't render correctly in selectOneListbox or selectManyCheckbox In a form like the following:\n \n<h:form>\n  <h:selectManyCheckbox>\n    <f:selectItems value=\"#{test.items}\"/>\n  </h:selectManyCheckbox>\n</h:form>\n \nwhere test.items is an ArrayList with a number of SelectItemGroup objects, each one containing some SelectItem objects, the following happens: Only the SelectItemGroup labels are rendered together with a checkbox before each label. The selectItem objects inside the selectItemGroup objects aren't rendered. \n\nThe same is true when using selectOneRadio instead of selectManyChexkbox.\n\nTo reproduce create a jsf page containing the above form and hook the #{test} managed bean to the following class:\n \npublic class Test {\n  private Collection items; \n\n  public Test() {\n    items = new ArrayList(2);\n\n    SelectItem options1[] = {\n      new SelectItem(\"200\", \"Duke's Quarterly\", \"\"),\n      new SelectItem(\"202\", \"Duke's Diet and Exercise Journal\", \"\"),\n    };\n    SelectItem options2[] = {\n      new SelectItem(\"201\", \"Innovator's Almanac\", \"\"),\n      new SelectItem(\"203\", \"Random Ramblings\", \"\"),\n      };\n\n    SelectItemGroup g1 = new SelectItemGroup(\"Duke's\", null, true, options1);\n    SelectItemGroup g2 = new SelectItemGroup(\"General Interest\", null, false, options2);\n    items.add(g1);\n    items.add(g2);\n  }\n\n  public Collection getItems() {\n    return items;\n  }\n\n}",
        "ExternalContext.getRequestParameterMap() doesn't comply with the JSF specification According to the jsf-1_0-fr-spec-apidocs (JavaDocs for jsf-api: http://java.sun.com/javaee/javaserverfaces/download.html --> JavaServer Faces v1.0 Specification Final Release), considered part of the JSF specification, the method getRequestParameterMap() in javax.faces.context.ExternalContext must return an immutable Map:\n\"Return an immutable Map whose keys are the set of request parameters names included in the current request, and whose values (of type String) are the first (or only) value for each parameter name returned by the underlying request.\" (http://java.sun.com/javaee/javaserverfaces/1.1_01/docs/api/javax/faces/context/ExternalContext.html)\n\nThe org.apache.myfaces.context.servlet.ServletExternalContextImpl, however, returns a mutable Map. This is not conform to the JSF specification."
    ],
    [
        "MYFACES-2886",
        "MYFACES-1385",
        "UIData: push and pop row component to and from EL during broadcast() UIData should push and pop row component in/from EL when brodcasting is performed.\r\nCurrently this is omitted and when for example ActionEvent from a UICommand in UIData is delivered, CURRENT_COMPONENT is UIData but obviously it should be UICommand.\r\n\r\n",
        "Remove all of the unused code, variables, and import statements identified by Eclipse 3.1.2 Clean up of dead code, imports, and unused variables"
    ],
    [
        "MYFACES-3843",
        "MYFACES-2652",
        "Download page must not link to snapshots / nightly builds Nightly builds / snapshots which are not formal releases should not be linked from the main download page.\r\n\r\nSuch builds have not been voted on and should only be used by developers who should be made aware that the code is without any guarantees,\r\n\r\nNightly builds are not formal ASF releases, and must not be promoted to the general public.\r\n\r\nSee [1] second para. The second sentence states:\r\n\r\n\"Do not include any links on the project website that might encourage non-developers to download and use nightly builds, snapshots, release candidates, or any other similar package.\"\r\n\r\n[1] http://www.apache.org/dev/release.html#what",
        "Update of some plugins in myfaces master pom makes myfaces-impl site fail When it was released myfaces master pom v7, some dependencies were updated, specially maven site plugin and maven surefire report.\r\n\r\nUse the newer versions usually causes a lot of problems, specifically with myfaces-impl. It is very important before update this dependencies check if everything runs fine, because it is common have this kind of problems and it takes a lot of time and effort find and solve them.\r\n\r\nThat's the reason why update to latest maven version is not a good idea (I'm still using 2.0.10 at april 2010). It seems we have to wait a little bit more time to see this kind of problems solved.\r\n\r\nThe solution is update myfaces core pom.xml to use the older versions instead.\r\n\r\n        <plugin>\r\n          <artifactId>maven-site-plugin</artifactId>\r\n          <version>2.0-beta-6</version>\r\n        </plugin>\r\n        <plugin>\r\n          <artifactId>maven-surefire-plugin</artifactId>\r\n          <version>2.3.1</version>\r\n        </plugin>\r\n        <plugin>\r\n          <artifactId>maven-surefire-report-plugin</artifactId>\r\n          <version>2.3.1</version>\r\n        </plugin>"
    ],
    [
        "MYFACES-2090",
        "MYFACES-3566",
        "Add AfterRestoreStateEvent class JSF 2.0 EDR2 specifies some new event types, like AfterRestoreStateEvent.",
        "Add random token option for server side state saving It could be good to add a random token option to the generated token embedded in the view when server side state saving is enabled."
    ],
    [
        "MYFACES-2495",
        "MYFACES-3937",
        "Old MyFaces version in current12/test-webapp On testing the new myfaces builder plugin I saw that current12/test-webapp still uses version 1.2.8-SNAPSHOT of myfaces. I guess this should be 1.2.9-SNAPSHOT.",
        "Set default for org.apache.myfaces.NUMBER_OF_SEQUENTIAL_VIEWS_IN_SESSION to 4 With JSF 2.2 client window API, it has sense to change the default value for\r\norg.apache.myfaces.NUMBER_OF_SEQUENTIAL_VIEWS_IN_SESSION from null to 4.\r\n\r\nSince we have already the default of org.apache.myfaces.NUMBER_OF_VIEWS_IN_SESSION to 20, with this we will have by default 20 / 4 = 5 slots to hold client windows."
    ],
    [
        "MYFACES-2066",
        "MYFACES-1010",
        "Implement tag fn:substring()  Create tag fn:substring() for Facelets",
        "Extended Data Table: Action Event delivered more than one time Hi,\nI'm trying using Tomahawk t:dataTable and it seems to me that its behaviour is very different from the standard  JSF h:dataTable.\nConsider a column which contains a command button and a table with two rows. When the user clicks on the button of the first row, two action events are generated!\n\nFor example, look at this very simple code:\n\n<f:view>\n   <h:form>\n       <h:dataTable value=\"#{testBean.persons}\" var=\"item\" binding=\"#{testBean.uiData}\">\n           <h:column>\n               <h:commandButton value=\"Test\" action=\"#{testBean.test}\"></h:commandButton>\n           </h:column>\n           <h:column>\n               <h:outputText value=\"#{item.name}\"></h:outputText>\n           </h:column>\n           <h:column>\n               <h:outputText value=\"#{item.surname}\"></h:outputText>\n           </h:column>\n       </h:dataTable>\n             <t:dataTable value=\"#{testBean.persons}\" var=\"item\" binding=\"#{testBean.htmlDataTable}\" preserveDataModel=\"false\">\n           <t:column>\n               <h:commandButton value=\"Test\" action=\"#{testBean.test2}\"></h:commandButton>\n           </t:column>\n           <t:column>\n               <h:outputText value=\"#{item.name}\"></h:outputText>\n           </t:column>\n           <t:column>\n               <h:outputText value=\"#{item.surname}\"></h:outputText>\n           </t:column>\n       </t:dataTable>\n   </h:form>\n</f:view>\n\nWhen the user clicks the \"Test\" button of the h:dataTable, the \"testBean.test\" method is executed just one time.\nBut when the user clicks the \"Test\" button of the t:dataTable the \"testBean.test2\" method is executed twice ( or three times if the table has 3 rows, and so on...).\n\nI suppose  that the problem is that the elements of  t:dataTable which belongs to differnt rows have the same ID, and during the processDecode phase the same event is broadcasted more than one time.\nIn fact, this is the html code which is generated by Tomahawk extended datatable:\n\n<table>\n<tbody id=\"_id0:_id8:tbody_element\">\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id8:_id10\" value=\"Test\" /></td>\n<td>John</td>\n<td>Smith</td>\n</tr>\n<tr><td><input type=\"submit\" name=\"_id0:_id8:_id10\" value=\"Test\" /></td>\n<td>Mark</td>\n<td>Greene</td>\n</tr></tbody>\n</table>\n\n\nand this is the html code which is generated by RI h:dataTable:\n\n<table>\n<tbody>\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id1:0:_id3\" value=\"Test\" /></td>\n<td>John</td>\n<td>Smith</td>\n</tr>\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id1:1:_id3\" value=\"Test\" /></td>\n<td>Mark</td>\n<td>Greene</td>\n</tr>\n</tbody>\n</table>\n\n\n\n\n"
    ],
    [
        "MYFACES-3642",
        "MYFACES-1551",
        "enable console output for checkstyle maven-checkstyle-plugin has an option to output checkstyle errors to the console.\r\n\r\nThat makes it easier to fix them.\r\nI'll enable this configuration in our master pom.",
        "UIViewRoot.getPhaseListeners() must not be generated The 1.2 RI API does not define the method UIViewRoot.getPhaseListeners(). But this method is generated into the myfaces 1.2 UIViewRoot class."
    ],
    [
        "MYFACES-2124",
        "MYFACES-3589",
        "Enforce new API on UIViewRoot ",
        "Allow multiple resolutions of cc into the same EL expression See MYFACES-2651.\r\nIn particular, there is still a case in which the proposed solution won't work.\r\nConsider the component test 1  slightly modified:\r\n\r\n<cc:interface name=\"test1\">\r\n    <cc:attribute name=\"test\" required=\"true\" />\r\n</cc:interface>\r\n<cc:implementation>\r\n    test1\r\n    <t2:test2 test=\"#{myLibrary:myFunction(...) or cc.attrs.test}\" />\r\n</cc:implementation>\r\n\r\nIn that case the regex expression looking for cc.attrs will exclude the expression because cc.attrs is preceded by a left parenthesis (as stated in CompositeComponentELUtils).\r\n\r\nChanging to\r\n <t2:test2 test=\"#{cc.attrs.test or myLibrary:myFunction(...)}\" />\r\nwill work. "
    ],
    [
        "MYFACES-2210",
        "MYFACES-2711",
        "Improve the modularity of the code by adding new adapters for hard references ",
        "Application.createComponent(FacesContext,Resource) register listeners twice and call createComponent(String) directly In the method Application.createComponent(FacesContext,Resource), it does not take into account that Application.createComponent(String) scan for annotations and register listeners attached to the component. At the end of the method, we have a code that scan again for annotations, duplicate them.\r\n\r\nIt was also found another bug. If it is used a wrapper for Application object, the method calls createComponent(String) directly. It should retrieve the Application instance from FacesContext and call the one of that instance, to ensure proper wrapping"
    ],
    [
        "MYFACES-3970",
        "MYFACES-3074",
        "11.4.2.1 topic Each <contract-mapping> element can have  one or more <contract> elements. JSF specification says that <contract-mapping> can have one or more url-pattern with one or more contracts. So Many to many option is possible. \r\n\r\n11.4.2.1\r\n\r\n The <resource-library-contracts> element is contained with in the <application> element and contains\r\none or more <contract-mapping> elements. Each <contract-mapping> element must one or more <urlpattern>\r\nelements and one or more <contract> elements.\r\n\r\nIn my testing on Myfaces 2.2.7 it always keeps the second entry in the list overwriting the first one. \r\n\r\ne.g. for this url-pattern the contract assigned is \"team\" . It does not consider \"testContract\".\r\n\r\n\t\t\t<contract-mapping>\r\n\t\t\t\t<url-pattern>/user/*</url-pattern>\t\t\t\t\r\n\t\t  \t\t<contracts>testContract</contracts> \r\n\t\t  \t\t<contracts>team</contracts>\r\n\t\t\t</contract-mapping>\r\n\r\n\r\nTested on reference implementation Mojarra , it assigns to testContract correctly.\r\n",
        "Is it possible to provide some way of specifying your own javax.faces.ViewState param? Hi,\r\n\r\nI\u00b4m trying to write a really lightweight portal implementation based on JSF and one thing that\u00b4s quite limiting is that you can\u00b4t specify more than one view state. Wouldn\u00b4t it be possible to work around this issue by having a context-param which states the ViewState-id?\r\n\r\nI\u00b4m writing the portal as a separate war-module and the portlet applications are deployed as seperate war-modules so they are not sharing context and should therefore be able to specify different view states.\r\n\r\nI can work around this issue by not letting the portal handle any postback requests but it seems like an easy thing to do?\r\n\r\nGreat implementation BTW\r\n\r\nRegards,\r\nHampus"
    ],
    [
        "MYFACES-3620",
        "MYFACES-3348",
        "jsf.js: @this results in a javascript error If you pass down an explicit @this in f:ajax as execute part (which is not needed since it is appended automatically) we will get a javascript error, due to the fact that the param resolution resolves only one @this to the issuing component id. This needs to be fixed.",
        "Length Validator Message in Messages.properties In Messages.properties, the following standard message text\r\n\r\njavax.faces.validator.LengthValidator.MAXIMUM = {1}: Validation Error: Value is greater than allowable maximum of ''{0}''\r\njavax.faces.validator.LengthValidator.MINIMUM = {1}: Validation Error: Value is less than allowable minimum of ''{0}''\r\n\r\nshould be\r\n\r\njavax.faces.validator.LengthValidator.MAXIMUM = {1}: Validation Error: Length is greater than allowable maximum of ''{0}''\r\njavax.faces.validator.LengthValidator.MINIMUM = {1}: Validation Error: Length is less than allowable minimum of ''{0}''"
    ],
    [
        "MYFACES-2232",
        "MYFACES-3139",
        "FacesConfig.getCurrentInstance and externalContext references should work before set application instance on facesContext init Stack trace:\r\n\r\njava.lang.NullPointerException\r\n\tat org.apache.myfaces.application.ApplicationImpl.internalGetRuntimeConfig(ApplicationImpl.java:150)\r\n\tat org.apache.myfaces.application.ApplicationImpl.(ApplicationImpl.java:130)\r\n\tat org.apache.myfaces.application.ApplicationFactoryImpl.createAndLogNewApplication(ApplicationFactoryImpl.java:52)\r\n\tat org.apache.myfaces.application.ApplicationFactoryImpl.(ApplicationFactoryImpl.java:48)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n\tat java.lang.Class.newInstance0(Class.java:355)\r\n\tat java.lang.Class.newInstance(Class.java:308)\r\n\tat javax.faces.FactoryFinder.newFactoryInstance(FactoryFinder.java:170)\r\n\tat javax.faces.FactoryFinder.getFactory(FactoryFinder.java:136)\r\n\tat org.apache.myfaces.context.servlet.FacesContextImpl.(FacesContextImpl.java:95)\r\n\tat org.apache.myfaces.context.servlet.FacesContextImpl.(FacesContextImpl.java:88)\r\n\tat org.apache.myfaces.context.FacesContextFactoryImpl.getFacesContext(FacesContextFactoryImpl.java:63)\r\n\r\nThe solution is change constructor to this:\r\n\r\n    private FacesContextImpl(final ReleaseableExternalContext externalContext)\r\n    {\r\n        _externalContext = externalContext;\r\n        FacesContext.setCurrentInstance(this);  //protected method, therefore must be called from here\r\n        _application = ((ApplicationFactory)FactoryFinder.getFactory(FactoryFinder.APPLICATION_FACTORY))\r\n                .getApplication();\r\n        _renderKitFactory = (RenderKitFactory) FactoryFinder.getFactory(FactoryFinder.RENDER_KIT_FACTORY);\r\n    }",
        "jsf.js: various ie fixes of the final pre release testing round "
    ],
    [
        "MYFACES-3988",
        "MYFACES-182",
        "An empty tag in a custom tag-lib causes an Exception While developing a custom tag library we added an empty renderer-type tag like this:\r\n\r\n<tag>\r\n     <tag-name>myinput</tag-name>\r\n     <component>\r\n           <component-type>my.test.MyInput</component-type>\r\n          <renderer-type></renderer-type>\r\n     </component>\r\n</tag>\r\n\r\nThis causes the following exception:\r\n\r\nCaused by: java.lang.Exception: Value Cannot be Empty\r\n\tat org.apache.myfaces.view.facelets.compiler.TagLibraryConfigUnmarshallerImpl$LibraryHandler.endElement(TagLibraryConfigUnmarshallerImpl.java:395)\r\n\tat org.apache.xerces.parsers.AbstractSAXParser.endElement(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanEndElement(Unknown Source)\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\r\n...\r\n\r\nThis appears to be expected based on the code in TagLibraryConfigUnmarshallerImpl. From what I can see the exception appears to be thrown on elements which are used in another spot. If any of them are empty they will throw the above exception. Wildfly/Glassfish does not have the same behavior, so my assumption is they just ignore it.\r\n\r\nShould the MyFaces code be modified to just continue on without the exception, based on the reference implementation? I can quickly create something if so, I just wanted to bring this up to the community at large since I don't know the reasoning behind the difference of the implementations.",
        "HtmlJSCookMenuRenderer throws NullPointerException when deploying myfaces-examples.war Deploying myfaces-examples.war and pointing the browser to http://localhost:8080/myfaces-examples Results in a NullPointerException.\n\nHere is a partial stack trace:\n\n11:08:13,036 INFO  [STDOUT] java.lang.NullPointerException\n11:08:13,037 INFO  [STDOUT] \tat org.apache.myfaces.custom.navmenu.jscookmenu.HtmlJSCookMenuRenderer.encodeNavigationMenuItems(HtmlJSCookMenuRenderer.java:253)\n11:08:13,038 INFO  [STDOUT] \tat org.apache.myfaces.custom.navmenu.jscookmenu.HtmlJSCookMenuRenderer.encodeChildren(HtmlJSCookMenuRenderer.java:169)\n11:08:13,038 INFO  [STDOUT] \tat javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:329)\n11:08:13,038 INFO  [STDOUT] \tat org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:488)\n11:08:13,038 INFO  [STDOUT] \tat org.apache.myfaces.renderkit.html.HtmlGridRenderer.renderChildren(HtmlGridRenderer.java:253)\n11:08:13,038 INFO  [STDOUT] \tat org.apache.myfaces.renderkit.html.HtmlGridRenderer.encodeEnd(HtmlGridRenderer.java:131)\n"
    ],
    [
        "MYFACES-507",
        "MYFACES-2284",
        "No Exception thrown when an invalid index was provided to PropertyResolver.getType(Object, int) Acording to the spec (javadocs), an EvaluationException must be thrown if an exception is thrown while testing the property (the thrown exception must be included as the cause property of this exception)",
        "Allow h:outputLink \"fragment\" property to append text to url after '#' "
    ],
    [
        "MYFACES-3375",
        "MYFACES-3040",
        "MyFaces can incorrectly determine that Portlets are not supported There are two issues I'd like to report here.\r\n\r\n1) Bridge Class is specific to Apache\r\n\r\norg.apache.myfaces.shared.util.ExternalContextUtils.java / isPortlet(ExternalContext ec) does the following:\r\n\r\nreturn getRequestType(ec).isPortlet();\r\n\r\nThis class. contains the logic to determine if Portlet is supported by finding a Bridge class  and can return the incorrect value when a Bridge other than the Apache Bridge is available.  For instance in \r\nWebSphere Application Server (WAS) when running in a Portlet environment the MyFaces code incorrectly returns a Servlet RequestType.\r\n\r\nAfter looking at the code I see why this is:\r\n\t//Summary of values obtained\r\n\tjavax.portlet.PortletContext =  _PORTLET_CONTEXT_CLASS\r\n\tjavax.portlet.ActionRequest = _PORTLET_ACTION_REQUEST_CLASS\r\n\tjavax.portlet.RenderRequest =  PORTLET_RENDER_REQUEST_CLASS\r\n\tjavax.portlet.ResourceRequest = _PORTLET_RESOURCE_REQUEST_CLASS\r\n\r\n//Find bridge to tell if portal is supported\r\nClass<?> bridge = ClassLoaderUtils.loadClass(\"javax.portlet.faces.Bridge\");\r\n\r\nIf the above javax.portlet.faces.Bridge Class is not found then PortletSupported variables are set to false.  There needs to be a better way to determine if a Bridge is \r\navailable and therefore determine if Portlets are supported in this environment.\r\n\r\n\r\n2) Portlet support is determined globally which is not always the case, a more granular determination is needed at the application level.\r\n",
        "@PreDestroy Has Called 2 times When session is invalidated, session scoped bean @PreDestroy method has called two times\r\n\r\n - When StartupServletcontextListener # sessionDestroyed\r\n - When StartupServletcontextListener # attributeRemoved\r\n"
    ],
    [
        "MYFACES-1221",
        "MYFACES-2820",
        "JSR-252 Issue #50: Allow an application to specify multiple render kits by introducing an optional \"renderKitId\" attribute on \"<f:view>\". Allow an application to specify multiple render kits by introducing an optional \"renderKitId\" attribute on \"<f:view>\".  It is no longer required to write a customer ViewHandler to incorporate a different render kit.  Please refer to Section 8.3 \"ResponseStateManager\" and Section 9.4.20 \"<f:view>\" for more details.\n\nAlso see https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=50",
        "jsf.js new auto eval detection does not entirely work out The auto eval detection via appending a script element does not entirely work out how we do it, the issue is that mozilla seems to auto eval the appended value after finishing the current function setting it, hence the first time a automatically false is given back.\r\nI am going to move the auto eval code over to an onLoad handler. This is a minor issue anyway, only the first ppr is affected if not executed properly."
    ],
    [
        "MYFACES-999",
        "MYFACES-3580",
        "Submitting form with selectOneMenu on it gives error \"Value is not a valid option\" A selectOneMenu that I have been using successfully in MyFaces 1.0.9 is now broken. Whenever I try to submit my form I get the error \"Value is not a valid option\"\n\nThe code looks legal to me and is as follows:\n\n<h:selectOneMenu id=\"prioritySrc\" value=\"#{taskList.priority}\">\n<f:selectItems value=\"#{taskForm.priorityItems}\"/>\n</h:selectOneMenu>\n\nThe backing bean code is:\n\nprivate static SelectItem[] priorityItems = {\nnew SelectItem(new Integer(1), \"High\"),\nnew SelectItem(new Integer(2), \"Medium\"),\nnew SelectItem(new Integer(3), \"Low\"),\n};\n\npublic SelectItem[] getPriorityItems() {\nreturn priorityItems;\n}\n\nI have confirmed that this problem does go away when I switch back to 1.0.9",
        "Searching for JAR in RAR by facelets Claspath util causes FileNotFoundException We have an EAR which contains a WAR and a RAR (Resource Adapter). The RAR archive contains a JAR with Resource Adapter classes.\r\n\r\nThe problem is that trying to deploy such an EAR in Weblogic 10.3.5 causes a FileNotFoundException to be thrown."
    ],
    [
        "MYFACES-179",
        "MYFACES-177",
        "UIInput.updateModel(...) hides a RuntimeException If a RuntimeException is thrown in the Method UIInput.updateModel(FacesContext) an error message is generated but without any stacktrace. This causes a lot of trouble for the user to find the cause of the error.\n\nHere is a patch to write the stacktrace:\n\nIndex: UIInput.java\n===================================================================\nRCS file: /home/cvspublic/incubator-myfaces/src/jsfapi/javax/faces/component/UIInput.java,v\nretrieving revision 1.16\ndiff -u -r1.16 UIInput.java\n--- UIInput.java\t4 Mar 2005 00:28:45 -0000\t1.16\n+++ UIInput.java\t12 Apr 2005 11:13:34 -0000\n@@ -252,6 +252,7 @@\n         catch (RuntimeException e)\n         {\n         \t//Object[] args = {getId()};\n+          \tcontext.getExternalContext().log(e.getMessage(), e);\n             _MessageUtils.addErrorMessage(context, this,CONVERSION_MESSAGE_ID,new Object[]{getId()});\n             setValid(false);\n         }\n",
        "NumberConverter expects \"percent\" rather than \"percentage\" in type attribute The sun API specifies that numberConverter expects type to be \"number\", \"currency\", or \"percentage\".  myfaces is looking for \"percent\", making a jsf app incompatible between the myfaces and sun's RI."
    ],
    [
        "MYFACES-2322",
        "MYFACES-2407",
        "Implement <f:metadata> tag handler This tag handler is only used on facelets mode",
        "_ComponentChildrenList does not implement all List methods The following methods:\r\n\r\nset(int index, UIComponent value)\r\nadd(int index, UIComponent value)\r\naddAll(int index, Collection<? extends UIComponent> c)\r\n\r\nare not handled correctly. Suppose the case one component is already on the list and it is added again using add(int index, UIComponent value). If the component is after the index the effect is the component is not changed from place, because _ComponentChildrenList.updateParent(UIComponent) do two things: remove from children collection and set parent.\r\n\r\nWe need to ensure the following from _ComponentChildrenList\r\n\r\n- Implement all methods from List (or make sure every method works as expected).\r\n- Implement Serializable interface. (done)\r\n- If a null value is added throw NullPointerException (done in checkValue(Object))\r\n- If it is added a value not implementing UIComponent throws ClassCastException (done in checkValue(Object))\r\n\r\nIn theory, before add or set we should remove, but only after this one is added we should call setParent() to trigger PostAddToViewEvent and PreRemoveFromViewEvent.\r\n\r\nAlso, it could be good to create several junit tests."
    ],
    [
        "MYFACES-2765",
        "MYFACES-601",
        "Dom findById fails on firefox with javax.faces.ViewState see topic",
        "Bug in org.apache.myfaces.custom.date.HtmlInputDate (misinterprets 12:xx ) In method parse() the date is parsed as follows: \nSimpleDateFormat fullFormat = new SimpleDateFormat( \"dd MM yyyy HH mm ss\" ); \nif (timeZone != null) \n        fullFormat.setTimeZone(timeZone); \nreturn fullFormat.parse(day+\" \"+month+\" \"+year+\" \"+hours+\" \"+minutes+\" \"+seconds); \n\nThis is normally no problem, but when the variable \"hours\" is \"12\", SimpleDateFormat \"misinterprets\" this value and thinks it's 12 AM, but the user normally intendet 12 PM (using a 24h clock). This can be solved by using the following routine instead: \n          \nCalendar tempCalendar=Calendar.getInstance(); \nif (timeZone != null) \n        tempCalendar.setTimeZone(timeZone); \ntempCalendar.set(Calendar.DAY_OF_MONTH,Integer.parseInt(day)); \ntempCalendar.set(Calendar.MONTH,Integer.parseInt(month)-1); \ntempCalendar.set(Calendar.YEAR,Integer.parseInt(year)); \ntempCalendar.set(Calendar.HOUR_OF_DAY,Integer.parseInt(hours)); \ntempCalendar.set(Calendar.MINUTE,Integer.parseInt(minutes)); \nreturn tempCalendar.getTime(); \n} "
    ],
    [
        "MYFACES-98",
        "MYFACES-3659",
        "Allow x:dataTable to store its data model in the component tree I'm proposing a new attribute (saveModel) for x:dataTable that can be true/false (default is false).  \n\nWhen \"true\", the bean that is associated with the \"value\" attribute would be stored in the component tree.  I'm going to look to the <x:saveState> tag for guidance on this, but the idea would be that you do not have to use <x:saveState> tag for this purpose once the feature is implemented.\n\nThe saved value of the data model would be restored during the Restore View phase.  Among other things, this would allow actions to be applied to the component with the row index corresponding to the one the user clicked even if the data store used has since changed.  Just before the Render Response phase, the component could use the binding expression combined with the bean management facility to create an updated version of the data model which is then saved to the client state and rendered.  \n\nThis way you have the best of both worlds.  You can have value change and action events based on a comparisson of the same data that was used for the original response and the user will still see the latest data when the response is encoded.",
        "Conditional include of scripts and stylesheets  I am inserting a script 'X.js' dependent on a condition (c:if). The default case is to include it. If I change the underlying value within an action so that the condition evaluates to false, the script is still included. Also after any other following action.\r\n\r\nUsing F5 in Firefox the page is now rendered without the script.\r\n\r\nThe script 'X.js' was added to the view root and is never 'forgot' or removed. It is the same if the script is included in a composite component. In that case I even observed that the order of the scripts changes and the script 'X.js' is included before other basic scripts like jQuery on which 'X.js' depends.\r\n\r\n----\r\n<h:form id=\"form\">\r\n  <c:set var=\"sessionScope\" value=\"#{facesContext.externalContext.sessionMap}\" />\r\n    \r\n  <h:commandButton value=\"deactivate\"\r\n      rendered=\"#{empty sessionScope.__isActive_ or sessionScope.__isActive_}\">\r\n      <f:setPropertyActionListener target=\"#{sessionScope.__isActive_}\" value=\"#{false}\" />\r\n  </h:commandButton>\r\n  <h:commandButton value=\"activate\"\r\n      rendered=\"#{not empty sessionScope.__isActive_ and not sessionScope.__isActive_}\">\r\n      <f:setPropertyActionListener target=\"#{sessionScope.__isActive_}\" value=\"#{true}\" />\r\n  </h:commandButton>\r\n    \r\n  <h:commandButton value=\"do nothing\" />\r\n    \r\n  <h:outputScript library=\"js\" name=\"jQuery.js\" target=\"body\" />\r\n    \r\n  <c:if test=\"#{empty sessionScope.__isActive_ or sessionScope.__isActive_}\">\r\n    BLA\r\n    <h:outputScript library=\"js\" name=\"X.js\" target=\"body\" />\r\n    </c:if>      \r\n</h:form>\r\n\r\n----\r\n\r\nAm I doing something wrong? Is there another (or better) way to include scripts conditionally?\r\n\r\n(\r\nIf I change 'HtmlOutputScriptHandler' to set the script transient, it works in the first glance, but I don't know the impact...\r\n\r\n@Override\r\npublic void onComponentPopulated(FaceletContext ctx, UIComponent c, UIComponent parent) {\r\n    super.onComponentPopulated(ctx, c, parent);\r\n    c.setTransient(true);\r\n}\r\n)"
    ],
    [
        "MYFACES-40",
        "MYFACES-3439",
        "x:dataScroller does NOT scroll with Struts (was: SF#999543 by Alexander Manes - bluecubs) SF issue at:\nhttp://sourceforge.net/tracker/index.php?func=detail&aid=999543&group_id=69709&atid=525508\n------------------------\n\nBasically I built a WebApp around the well working\nStruts-Faces example app, integrated MyFaces and try to\nuse some components.\n\nHere's the problem:\n\nI display data in a x:dataTable with x:dataScoller,\neverything works fine, BUT when I hit the arrow to scroll\nto a different page I get an exception:\n\njavax.servlet.ServletException: org.apache.jasper.\nJasperException\njavax.faces.webapp.FacesServlet.service(FacesServlet.\njava:122)\nnet.sourceforge.myfaces.custom.fileupload.\nMultipartFilter.doFilter(MultipartFilter.java:91)\n\n...and also...\n\n\njava.lang.NullPointerException\nat org.apache.struts.taglib.tiles.InsertTag.\nprocessAttribute(InsertTag.java:689)\nat org.apache.struts.taglib.tiles.InsertTag.\ncreateTagHandler(InsertTag.java:489)\nat org.apache.struts.taglib.tiles.InsertTag.\ndoStartTag(InsertTag.java:451)\nat org.apache.jsp.layout_jsp.\n_jspx_meth_t_insert_0(layout_jsp.java:288)\nat org.apache.jsp.layout_jsp.\n_jspx_meth_f_subview_0(layout_jsp.java:268)\nat org.apache.jsp.layout_jsp.\n_jspx_meth_s_html_0(layout_jsp.java:181)\nat org.apache.jsp.layout_jsp.\n_jspx_meth_f_view_0(layout_jsp.java:121)\nat org.apache.jsp.layout_jsp.\n_jspService(layout_jsp.java:83)\nat org.apache.jasper.runtime.HttpJspBase.\nservice(HttpJspBase.java:133)\nat javax.servlet.http.HttpServlet.\n[..........................]\n\nThese exceptions don't mean anything to me!!!\n\nSame thing happens when I use x:tree and do \"drag &\ndrop\", basically whenever some sort of event is\ntriggered!!!\n\nThe MyFaces-DataScroller-Example works fine even\nwithin my WebApp, but here's a difference I noticed:\n\nThe example opens and closes the f:view tag within the\nHTML body and the hidden form that x:dataScroller uses\nfor event-handling is placed after closing x:view and\ntherefore WITHIN HTML body!\nIn my WebApp the form was places outside of the HTML\nhtml tag.\nI changed f:view to be encapsulated within my body tag,\nbut still got the same error!\n\nQuestion: Is this a bug or do the MyFaces components\nNOT work with Struts / Tiles / Struts-Faces???\nHow could I still use the components with my Struts /\nJSF scenario?\n\nThanks for your help......!?!",
        "[perf] ApplicationImpl: use cached info about ResourceDependecies for behaviors, converters and validators Solution is simple: ApplicationImpl has already method _handleResourceDependencyAnnotations for renderers and components. This method caches infos about ResourceDependecies annotations."
    ],
    [
        "MYFACES-3974",
        "MYFACES-1782",
        "Ajax delay attribute with a value of  \"none\" does not work In JSF 2.2 there \"delay\" attribute of the f:ajax component should accept a value of \"none\".\r\n\r\nThe tag library documentation here:\r\nhttps://docs.oracle.com/javaee/7/javaserver-faces-2-2/vdldocs-facelets/f/ajax.html\r\n\r\nstates that the delay attributes can:\r\n\"...If this option is not specified, or if the value of delay is the literal string 'none' without the quotes, no delay is used. \"\r\n\r\nHowever, in MyFaces 2.2.7 this is not working.  It results in the ajax action to not be called at all.  \r\n\r\nThis same test works with Mojarra 2.2.10.  \r\n\r\nI will upload a simple test case to demonstrate this issue.\r\nSimply access:\r\nlocalhost:<port>/AjaxDelayTest/ajaxDelayNone.jsf\r\n\r\nAlso, a working scenario with a value of 400 is here:\r\nlocalhost:<port>/AjaxDelayTest/ajaxDelay400.jsf\r\n\r\nAnd a working scenario with a value of zero (\"0\")  is here:\r\nlocalhost:<port>/AjaxDelayTest/ajaxDelayZero.jsf\r\n\r\nIn these tests, Enter \"joh\" in the field.  You should see the results displayed below but they are not in the \"none\" test.  Also, you do not see three calls in the logs to the backing bean.  \r\n\r\nI would expect that using either \"none\" or \"0\" as the value would give you the same behavior.",
        "France Locale and NumberConverter doesn't work well with currency strings This test-case shows, that there is a failure inside the standard NumberConverter (MyFaces):\n\nprotected void setUp() throws Exception\n{\n   super.setUp();\n\n   mock = new NumberConverter();\n   mock.setLocale(Locale.FRANCE);\n   FacesContext.getCurrentInstance().getViewRoot().setLocale(Locale.GERMANY);\n}\n\npublic void testFranceLocale()\n{\n   UIInput input = new UIInput();\n    mock.setType(\"currency\");\n    Number number = (Number)\nmock.getAsObject(FacesContext.getCurrentInstance(), input, \"12 345,68\n\u20ac\");\n    assertNotNull(number);\n}\n\nthe grouping_sep should be a nb-space..."
    ],
    [
        "MYFACES-1835",
        "MYFACES-416",
        "Units Test require Java 1.5 MessageUtilsTest uses autoboxing",
        "StringIndexOutOfBoundsException in AddResource The method writeWithFullHeader() in AddResource throws \n\nStringIndexOutOfBoundsException: String index out of range: -1  \n\non the line:\n\nwriter.write(originalResponse.substring(insertPosition));\n\nThe rest of the method contains checks for insertPosition to be >= 0, therefore the line should be changed to something like:\n\nwriter.write(insertPosition > 0 ? originalResponse.substring(insertPosition) : originalResponse);\n"
    ],
    [
        "MYFACES-2800",
        "MYFACES-1856",
        "navigation-case/redirect/include-view-params is not picked up and has a wrong default value Tthe <redirect> element of a <navigation-case> has an attribute called include-view-params. This attribute is currently not picked up due to a wrong configuration of DigesterFacesConfigUnmarshallerImpl. Furthermore its default value should be false instead of true.",
        "h:commandLink with target=\"_blank\" does not work The problem is here:\n\n\tfunction oamSubmitForm(formName, linkId, target, params)\n\t{\t\t\n               /*......................*/\n\t\tif((typeof target=='function') && target != null)\n\t\t{\n\t\t\toldTarget=document.forms[formName].target;\n\t\t\tdocument.forms[formName].target=target;\n\t\t}\n\nmaybe we should do this instead\n\n\t\tif( target != null)\n\nor maybe\n         \n\t\tif(typeof target!='undefined')\n\nI will take a look to see what is better"
    ],
    [
        "MYFACES-2160",
        "MYFACES-1599",
        "The action in tr:commandButton is not fired if you use the trinidad jsf library (in 1.1.5 it works). I can provide an example. If I change in my pom file\n\n\t\t<dependency>\n\t\t\t<groupId>org.apache.myfaces.core</groupId>\n\t\t\t<artifactId>myfaces-impl</artifactId>\n\t\t\t<version>1.1.5</version>\n\t\t\t<scope>runtime</scope>\n\t\t</dependency>\n\nto \n\n\t\t<dependency>\n\t\t\t<groupId>org.apache.myfaces.core</groupId>\n\t\t\t<artifactId>myfaces-impl</artifactId>\n\t\t\t<version>1.1.6</version>\n\t\t\t<scope>runtime</scope>\n\t\t</dependency>\n\nit doesn't work anymore. I only change the version from 1.1.5 to 1.1.6 and the commandButton doesn't work anymore. It should navigate to an other page but it doesn't work anymore.\n",
        "JSF 1.2 TLD compliance: attribute \"action\" with wrong deferred-method signature  The expected deferred-method for the attribute \"action\" is  'java.lang.Object action()',\n\nNow we have 'java.lang.String myMethod()' - wrong"
    ],
    [
        "MYFACES-1837",
        "MYFACES-2757",
        "ValidatorImplTag: Unnecessary Thread.dumpStack()     protected Validator createValidator() throws javax.servlet.jsp.JspException\n    {\n        Thread.dumpStack();\n        if (_validatorIdString != null)\n        {\n            return this.createClassicValidator();\n        }        \n        if (_validatorId != null && _validatorId.isLiteralText())\n        {\n            return this.createClassicValidator();\n        }        \n        \n        return new DelegateValidator(_validatorId, _binding,\n                _validatorIdString);\n    }",
        "Provide a FacesContext instance during startup Some frameworks call FacesContext.getCurrentInstance()  during web application startup (JBoss WELD for example).\r\n\r\nMyfaces should provide a \"mock\" FacesContext during application startup (as mojarra does)."
    ],
    [
        "MYFACES-1097",
        "MYFACES-2902",
        "Duplicated id generation for jsf_tree, jsf_state and jsf_viewid The forms included in the resulting HTML page contains the same value for the id attributes.\n\nF.ex:\n\n <input type=\"hidden\" name=\"jsf_tree_64\" id=\"jsf_tree_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_state_64\" id=\"jsf_state_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_viewid\" id=\"jsf_viewid\" value=\"...\"/>\n\nare used for all forms on the page.\n\nThis make the page fail W3C/HTMLvalidation.\n\n Line 239 column 2703: ID \"jsf_state_64\" already defined.\n Line 165 column 2703: ID \"jsf_state_64\" first defined here.\n",
        "Removal of YUI code due to project participants internal demand We have had one line of code coming from the YUI library, while from an ASF standpoint the code was clear, there was a wish from the IBM people involved in the project to remove it otherwise they needed legal clearance.\r\nThis issue will cover the commit, which was one line in the iFrame handling for the ajax fileupload which was introduced post 2.0.1.\r\n"
    ],
    [
        "MYFACES-2640",
        "MYFACES-2917",
        "(JSF.js) Ajax Render component problem, replace with whole fragment not one element. after ajax submit, jsf.js will re-render some element depending on jsf.ajax.request({render:\" some elements \"});\r\nbut this js code will cause some problem.\r\n\r\njsf.js:\r\n\r\nmyfaces._impl._util._Utils.replaceHtmlItem = function (request, context, itemIdToReplace, newTag, form) {\r\n......\r\n                    var fragment = range.createContextualFragment(newTag);\r\n                    evalNode = item.parentNode.replaceChild(fragment, item)\r\n.....\r\n}\r\n\r\nsometime fragment will has more than one childNodes, or the childNode not has clientId, but the childNode of childNode has clientId.\r\n\r\nthis will cause html unstable.\r\n\r\nPlease fix it.\r\n\r\n\r\nthis is my suggestion:\r\n\r\nmyfaces._impl._util._Utils.replaceHtmlItem = function (request, context, itemIdToReplace, newTag, form) {\r\n\r\n           .............\r\n              Orginal:\r\n                    var fragment = range.createContextualFragment(newTag);\r\n                    evalNode = item.parentNode.replaceChild(fragment, item)\r\n\r\n              fix:\r\n                    var fragment = range.createContextualFragment(newTag);\r\n                    var replaceItem = myfaces._impl._util._Utils.findHtmlItemFromFragment(fragment, itemIdToReplace);\r\n                    if(replaceItem == null)replaceItem = fragment;\r\n                    evalNode = item.parentNode.replaceChild(replaceItem, item)\r\n       ..................\r\n}\r\n\r\n\r\n\r\n\r\n    myfaces._impl._util._Utils.findHtmlItemFromFragment = function(fragment, itemId){\r\n    \tif(fragment.childNodes == null)\r\n    \t\treturn null;\r\n    \tfor(var i = 0; i < fragment.childNodes.length ; i++ ){\r\n    \t\tvar c = fragment.childNodes[i];\r\n    \t\tif(c.id == itemId)\r\n    \t\t\treturn c;\r\n    \t}\r\n    \tfor(var i = 0; i < fragment.childNodes.length ; i++ ){\r\n    \t\tvar c = fragment.childNodes[i];\r\n    \t\tvar item = myfaces._impl._util._Utils.findHtmlItemFromFragment(c, itemId);\r\n    \t\tif(item != null)\r\n    \t\t\treturn item;\r\n    \t}\r\n    \treturn null;\r\n    };\r\n\r\n\r\n\r\n\r\n",
        "misspelt in Messages_es.properties in Messages_es.properties, key:\r\njavax.faces.convert.DateTimeConverter.CONVERSION_detail\r\nchange:\r\n \"{1}\": El valor espefificado no es una fecha/hora v\u00e1lida.\r\nfor\r\n \"{1}\": El valor especificado no es una fecha/hora v\u00e1lida.\r\n"
    ],
    [
        "MYFACES-1933",
        "MYFACES-63",
        "Implement JSF 2.0 logic at TODO #24 In class: javax.faces.context.ExternalContext\nImplement: public String getMimeType(String file)",
        "[PATCH] L10N for Japanese "
    ],
    [
        "MYFACES-2791",
        "MYFACES-1821",
        "render view params not working for EL expressions     \t<navigation-case>\r\n    \t\t<from-action>#{blog.addBlog}</from-action>\r\n    \t\t<if>#{true}</if>\r\n    \t\t<to-view-id>/view.xhtml</to-view-id>\r\n    \t\t<redirect>\r\n    \t\t\t<view-param>\r\n    \t\t\t\t<name>id</name>\r\n    \t\t\t\t<value>#{blog.idm}</value>\r\n    \t\t\t</view-param>\r\n    \t\t</redirect>\r\n    \t</navigation-case>\r\n\r\n@ManagedBean(name=\"blog\")\r\n@SessionScoped\r\npublic class Blog {\r\n\r\n\tprivate String content;\r\n\t\r\n\tprivate static AtomicInteger id = new AtomicInteger(0);\r\n\t\r\n\tprivate String idm;\r\n\t\r\n\tpublic static AtomicInteger getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic static void setId(AtomicInteger id) {\r\n\t\tBlog.id = id;\r\n\t}\r\n\r\n\tpublic String getIdm() {\r\n\t\treturn idm;\r\n\t}\r\n\r\n\tpublic void setIdm(String idm) {\r\n\t\tthis.idm = idm;\r\n\t}\r\n\r\n\tpublic String addBlog(){\r\n\t\tthis.idm = Integer.toString(id.incrementAndGet());\r\n                return null;\r\n\t}\r\n\r\n\tpublic String getContent() {\r\n\t\t\r\n\t\treturn content;\r\n\t}\r\n\r\n\tpublic void setContent(String content) {\r\n\t\tthis.content = content;\r\n\t}\r\n}\r\n\r\nProduces http://localhost:8080/session_1_blog/view.jsf?id=%23{blog.idm}",
        "rendered IDs are not of the shape \"formName:componentName\" rendered IDs on client are not \"formName:componentName\" shaped by given IDs. It looks like \"formNamej_id_1:componentNamej_id_1\" which makes my javascripts useless... Are there known workarounds?"
    ],
    [
        "MYFACES-1255",
        "MYFACES-2812",
        "JSR-252 Issue #152: Specified EL coercion usage in API javadocs UISelectOne/UISelectMany (when items are compared in validation) and standard html renderkit docs during encoding of select components. Specified EL coercion usage in API javadocs UISelectOne/UISelectMany (when items are compared in validation) and standard html renderkit docs during encoding of select components.\n\nSee https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=152\n",
        "Problem with nested CDATA sections in scripts in a PPR I have a partial response that contains invalid syntax because CDATA\r\nsections are nested. For example, in my app this code is generated in\r\nthe partial response:\r\n\r\n<?xml version=\"1.0\"\r\nencoding=\"UTF-8\"?><partialResponse><components><component><id>editorForm</id><output><![CDATA[<form\r\nid=\"editorForm\" name=\"editorForm\" method=\"post\"\r\naction=\"/editor/curate/publication.jsf?conversationContext=2\"\r\nenctype=\"application/x-www-form-urlencoded\"><span\r\nid=\"growl\"></span><script type=\"text/javascript\">//<![CDATA[\r\njQuery.gritter.add({title:'Publication saved',text:'AC:\r\nEBI-2637354',image:'/editor/primefaces_resource/2.0.3-SNAPSHOT/primefaces/growl/assets/info.png?conversationContext=2',sticky:false});\r\n\r\n//]]></script>\r\n\r\n\r\n...\r\n\r\nI use Primefaces, which is generating the script section inside the\r\npartial response (in this case, the growl renderer). MyFaces wraps the\r\nscript content in a CDATA section. However, because the output section\r\nitself has the CDATA this is provoking the problem. The agent thinks\r\nthat the first CDATA is closed when it reachs the end of the nested\r\nCDATA, creating an invalid response."
    ],
    [
        "MYFACES-2808",
        "MYFACES-2994",
        "jsf.js <error> tagged response causes hanging queue see topic",
        "faces-config.xml referenced in webAppConfig <absolute-ordering> could not be on the classpath Reported by David Jencks\r\n\r\nI'm finding a tck problem around FacesConfig ordering.  I haven't figured out if this is caused by the geronimo integration or myfaces itself but I think there's something odd in the myfaces code.\r\n\r\nDefaultFacesConfigurationProvider line 461 has\r\n\r\n                   getDispenser().feed(getFacesConfig(appConfigResources, nameSlot.getName()));\r\n\r\n\r\ngetFacesConfig can return null if it doesn't find a FacesConfig with the supplied name:\r\n\r\n   private FacesConfig getFacesConfig(List<FacesConfig> appConfigResources, String name)\r\n   {\r\n       for (FacesConfig cfg: appConfigResources)\r\n       {\r\n           if (cfg.getName() != null && name.equals(cfg.getName()))\r\n           {\r\n               return cfg;\r\n           }\r\n       }\r\n       return null;\r\n   }\r\n\r\n\r\nbut the feed method starts off:\r\n\r\n   public void feed(FacesConfig config)\r\n   {\r\n       for (Factory factory : config.getFactories())\r\n\r\n\r\nassuming a non-null argument.\r\n\r\nWhatever the cause of the null I'm seeing returned from getFacesConfig this doesn't seem right.\r\n"
    ],
    [
        "MYFACES-190",
        "MYFACES-3671",
        "HtmlTreeRenderer (tree2) should use renderChild method Should use the renderChild method of RendererUtils instead of the encodeRecursive method in HtmlTreeRenderer which does the same thing.  No need to duplicate this code.",
        "jsf-uncompressed.js contains 'import' of not existing file '_FinalizeableObj.js' The 'jsf-uncompressed.js' tries to load the script '_FinalizeableObj.js' that seams not to exist?\r\n\r\n  _ls(\"#{resource['org.apache.myfaces.core.impl.xhrCore:_FinalizeableObj.js']}\", null, null, \"UTF-8\", false);\r\n\r\nThis results in an empty string for the load:\r\n\r\n  _ls(\"\", null, null, \"UTF-8\", false); \r\n\r\nwhich causes a second request to the original page in my browser.\r\n\r\n"
    ],
    [
        "MYFACES-1372",
        "MYFACES-3138",
        "<h:messages> not shown (-> not working) Adding a \"global\" message in a backing bean goed fine;with the MyFaces log level set to DEBUG, it shows it is indeed added.\nLog extrait:\"2006-07-26 10:48:02,296 DEBUG [org.apache.myfaces.shared_impl.util.MessageUtils] - adding message Global Security Test for clientId null\"\n\nCode: I've tried both the Std way & the MyFaces way: (from http://wiki.apache.org/myfaces/Displaying_Errors/Infos/Warnings_in_JSF_Pages)\nFacesContext ctx = FacesContext.getCurrentInstance();\nctx.addMessage(null, new FacesMessage(\"Test Summary\",\"Test\" ));\n& MessageUtils.addMessage(FacesMessage.SEVERITY_ERROR,\"secMsg_test\" , null);\n\n& In the page just this: ( & variations: I've tried to put all before </h:form> but not any order made a difference.\n<t:messages id=\"errors\" errorStyle=\"error\"/>\n</h:form>\n<h:messages id=\"errors\" errorClass=\"error\" />\n\nYet, when I ask to show teh source of the actual webpage, I found out it is not renderen. (no component with that ID found) Couldn't believe it so I manually searched for it, knowing its place. But it was true: it's just not on the page. This is particularily weird as -also in debug mode- this fragment passes the revue:\n\" <html.HtmlMessages id=\"errors\" forceIdIndex=\"true\" errorClass=\"NULL\" errorStyle=\"NULL\" family=\"javax.faces.Messages\" fatalClass=\"NULL\" fatalStyle=\"NULL\" globalOnly=\"false\" infoClass=\"NULL\" infoStyle=\"NULL\" layout=\"list\" rendered=\"true\" rendererType=\"javax.faces.Messages\" rendersChildren=\"false\" showDetail=\"false\" showSummary=\"true\" style=\"NULL\" styleClass=\"error\" title=\"NULL\" tooltip=\"false\" transient=\"false\" warnClass=\"NULL\" warnStyle=\"NULL\"/>\"\n\n(= in the logs ONLY, NOT in the page)\n\nFinally: \nThis seems t be an old issue: (April 12, 2005)\nhttp://mail-archives.apache.org/mod_mbox/myfaces-users/200504.mbox/%3C20050412060343.85397.qmail@web31109.mail.mud.yahoo.com%3E\n\n<h:messages> is core to JSF. One of the few basic tags. It's strange it suffers from this many bugs. (searched old bugs before posting this one, did my homework ;-)\nHope someone can rectify it for good. \n\nWolf\n",
        "Simplify ResponseStateManager implementation code ResponseStateManager implementation deals with state / structure logic, but this is not valid anymore, because that is now an implementation detail. \r\n\r\nWe need to clean up all that code and just let a simple and efficient implementation there, so we can move to the next step.\r\n\r\nAdditionally, it could be good to create StateCacheFactory abstraction to deal with client /server differences, and divide StateCacheImpl into two, apply strategy pattern (because now we understand clearly how the algorithm should work).\r\n\r\nNow StateCache is StateCache<K,V> where K is the token that allow it to restore the state V."
    ],
    [
        "MYFACES-3814",
        "MYFACES-376",
        "Allow ServiceProviderFinder to be initialized at startup The code inside ServiceProviderFinder usually involves classpath scanning and read files from different locations. That code is ok, but it would be great if we can put that into FacesConfig as a configuration information.\r\n\r\nThe idea is just list all SPI interfaces we are using in MyFaces Core, and do the scanning of everything we need right at startup and finally store that information into FacesConfig, just like it was done for Facelet tag lib configuration.\r\n\r\nIf FacesConfig is serialized and deserialized, that scanning will not be necessary and the startup will be faster.",
        "HTML Renderkit doesn't choose correct ContentType The contract between ViewHandler and RenderKit for creating a ResponseWriter is that the ViewHandler should suggest a list of supported contentTypes.  It is the RenderKit's job to pick the appropriate one based on it's output-- not just any of them.\n\nIn the case of Firefox, the first item it sends is 'text/xml, ....', the HtmlRenderKit in MyFaces just says, use the first item returned, so the response is set to be contentType of 'text/xml'.\n\nThis causes issues since the browser gets a response, renders it, but treats the content with comments <!-- --> as XML-- so that means the css isn't used, and commented JavaScript isn't seen.\n\nThis is a major blocker."
    ],
    [
        "MYFACES-1856",
        "MYFACES-2440",
        "h:commandLink with target=\"_blank\" does not work The problem is here:\n\n\tfunction oamSubmitForm(formName, linkId, target, params)\n\t{\t\t\n               /*......................*/\n\t\tif((typeof target=='function') && target != null)\n\t\t{\n\t\t\toldTarget=document.forms[formName].target;\n\t\t\tdocument.forms[formName].target=target;\n\t\t}\n\nmaybe we should do this instead\n\n\t\tif( target != null)\n\nor maybe\n         \n\t\tif(typeof target!='undefined')\n\nI will take a look to see what is better",
        "org.apache.myfaces.shared_impl.webapp.webxml.WebXmlParser parse Unable to parse web.xml Hi,\r\n\r\nim getting the following exception when im deplying one of my webapplication and run the server\r\n\r\norg.apache.myfaces.shared_impl.webapp.webxml.WebXmlParser parse Unable to parse web.xml\r\njava.net.ConnectException: A remote host did not respond within the timeout period.\r\n\r\nthanks"
    ],
    [
        "MYFACES-2777",
        "MYFACES-499",
        "Remove VISITED_FACET_COUNT from component attributes map In order to reduce the saved state, the ErrorPageWriter.VISITED_FACET_COUNT should not be included in the component attributes map, as this is only an intermediate parameter used in the current request.",
        "No Exception thrown when passing an invalid encoding to the RenderKit.createResponseWriter() method. According to the spec (javadocs), a java.lang.IllegalArgumentException must be thrown if no matching character encoding can be found for the argument characterEncoding."
    ],
    [
        "MYFACES-1250",
        "MYFACES-2285",
        "JSR-252 Issue #131: Specified that a compliant implementation must allow the registration of a converter for class java.lang.String and java.lang.String.TYPE that will be used to convert values for these types. Specified that a compliant implementation must allow the registration of a converter for class java.lang.String and java.lang.String.TYPE that will be used to convert values for these types.\n\nSee See https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=131\n",
        "Add ExternalContextFactory Implementation Add ExternalContextFactory implementation and use it by FacesContext implementation"
    ],
    [
        "MYFACES-1455",
        "MYFACES-624",
        "Implement JSR-252 core tag: LoadBundleTag ",
        "selectOneMenu calls converter getAsString() with String value instead of object We use a SelectOneMenu to set a City object on a Person. City's are records in our DB with a Long primary key we use as value in the select. A Converter converts the PK to objects with getAsObject (getAsString simply return the PK from the object). We have seen indeed that the getAsObject is called on submit, then followed by a getAsString during the render phase BUT WITH the Long PK as THE VALUE. The component is asking to convert the String value into the String value!\n\nWhat is particularly weird is that, in the previous request/response phase, the select renders ok, which also requires a getAsString of course.\n\nTo be sure,  we switched back to the nightly we were using before (20050821), and the select worked ok again. So, as far as we are concerned, this is a serious bug, at least in SelectOneMenu!. We also tried to workaround the issue, checking in the converter if the \"value\" argument for getAsString is a String, and then just returning it, but that didn't work either."
    ],
    [
        "MYFACES-79",
        "MYFACES-2806",
        "i18n error Use tag with escape=\"false\" (for example <h:outputText escape=\"false\" ...>),i18n don't work properly with Simplified-Chinese. It work properly without escape=\"false\" or with escape=\"true\" , and it work properly with myfaces-1.0.7beta. ",
        "possible bug in shared ClassLoader scenarios There is some code (mostly checked the facelets part yet) which is not aware of Multi-ClassLoader scenarios like one has in J2EE environments where MyFaces is installed inside the containers SharedClassLoader.\r\n\r\nAn example: if you look at MetaRulesetImpl, you will see \r\nprivate final static WeakHashMap<String, MetadataTarget> _metadata = new WeakHashMap<String, MetadataTarget>();\r\n\r\nAssuming that myfaces-impl.jar gets shared between multiple WebApps, this is utterly evil since this map only exists once for all WebApps.\r\n\r\nI found this issue because I got weird ClassCastExceptions in my project which contains 2 WAR files in an EAR and those WAR files both contains primefaces.jar. \r\n\r\nI first hit a page from webapp1 which loads Watermark.class via webapp1 WebAppClassLoader.\r\nIf you access a page from webapp2 after that and this also uses p:watermark, it will find the cached method for Watermark, but this still is the class loaded via the webapp1 ClassLoader. So on evaluating the EL it creates a ClassCastException because WaterMark loaded via ClassLoader of webapp1 !=  WaterMark loaded via ClassLoader of webapp2."
    ],
    [
        "MYFACES-157",
        "MYFACES-3375",
        "Null pointer exception in selectManyListbox when using converter I believe that this is a new bug in 1.0.9. It seems to not exist in 1.0.8.\n\nWhen I have jsp code like this:\n\n  <f:view>\n    <h:form>\n      <h:panelGrid columns=\"1\">\n        <h:selectManyListbox>\n          <f:selectItem itemLabel=\"one\" itemValue=\"one\" />\n          <f:selectItem itemLabel=\"two\" itemValue=\"two\" />\n          <f:selectItem itemLabel=\"three\" itemValue=\"three\" />\n          <f:converter converterId=\"converter\" />\n        </h:selectManyListbox>\n        <h:commandButton value=\"submit\"\n          actionListener=\"#{controller.submit}\" />\n      </h:panelGrid>\n    </h:form>\n  </f:view>\n\nI get a NullPointerException when I submit the form without selecting anything in the list box (no problem when a selection is made).\n\nHere is the stack trace:\n\njava.lang.NullPointerException\n\tat org.apache.myfaces.renderkit._SharedRendererUtils.getConvertedUISelectManyValue(_SharedRendererUtils.java:151)\n\tat org.apache.myfaces.renderkit.RendererUtils.getConvertedUISelectManyValue(RendererUtils.java:792)\n\tat org.apache.myfaces.renderkit.html.HtmlListboxRendererBase.getConvertedValue(HtmlListboxRendererBase.java:143)\n\tat javax.faces.component.UISelectMany.getConvertedValue(UISelectMany.java:295)\n\tat javax.faces.component.UIInput.validate(UIInput.java:291)\n\tat javax.faces.component.UISelectMany.validate(UISelectMany.java:284)\n\tat javax.faces.component.UIInput.processValidators(UIInput.java:166)\n\tat javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:427)\n\tat javax.faces.component.UIForm.processValidators(UIForm.java:66)\n\tat javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:427)\n\tat javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:162)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.processValidations(LifecycleImpl.java:208)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:92)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:109)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n\tat org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)\n\tat java.lang.Thread.run(Thread.java:534)\n",
        "MyFaces can incorrectly determine that Portlets are not supported There are two issues I'd like to report here.\r\n\r\n1) Bridge Class is specific to Apache\r\n\r\norg.apache.myfaces.shared.util.ExternalContextUtils.java / isPortlet(ExternalContext ec) does the following:\r\n\r\nreturn getRequestType(ec).isPortlet();\r\n\r\nThis class. contains the logic to determine if Portlet is supported by finding a Bridge class  and can return the incorrect value when a Bridge other than the Apache Bridge is available.  For instance in \r\nWebSphere Application Server (WAS) when running in a Portlet environment the MyFaces code incorrectly returns a Servlet RequestType.\r\n\r\nAfter looking at the code I see why this is:\r\n\t//Summary of values obtained\r\n\tjavax.portlet.PortletContext =  _PORTLET_CONTEXT_CLASS\r\n\tjavax.portlet.ActionRequest = _PORTLET_ACTION_REQUEST_CLASS\r\n\tjavax.portlet.RenderRequest =  PORTLET_RENDER_REQUEST_CLASS\r\n\tjavax.portlet.ResourceRequest = _PORTLET_RESOURCE_REQUEST_CLASS\r\n\r\n//Find bridge to tell if portal is supported\r\nClass<?> bridge = ClassLoaderUtils.loadClass(\"javax.portlet.faces.Bridge\");\r\n\r\nIf the above javax.portlet.faces.Bridge Class is not found then PortletSupported variables are set to false.  There needs to be a better way to determine if a Bridge is \r\navailable and therefore determine if Portlets are supported in this environment.\r\n\r\n\r\n2) Portlet support is determined globally which is not always the case, a more granular determination is needed at the application level.\r\n"
    ],
    [
        "MYFACES-3542",
        "MYFACES-3166",
        "The render attribute of AjaxBehavior should support late value expression evaluation The render attribute of AjaxBehavior should evaluated during post-back after 'Invoke Application' and before 'Render Response'. It's easly to add this feature with a own PartialViewContext. But there is no call to processPartial with 'Invoke Application'. The Phase 'Render Response' is too late if you are using c:if to skip components from the component tree. See attached example app and pictures.",
        "org.apache.myfaces.el.VariableResolverImpl throws java.lang.IllegalStateException when it unsets the scope as null I am running an application in Geronimo 2.1.7 that requires valid scope and it fails with the following exception\r\n\r\nServlet.service() for servlet jsp  threw exception                                                          \r\njava.lang.IllegalStateException: unknown scope defined: null             \r\n        at                                                               \r\norg.apache.myfaces.el.VariableResolverImpl.resolveVariable(VariableResol \r\nverImpl.java:71)                                                         \r\n        at                                                               \r\norg.apache.myfaces.el.convert.VariableResolverToELResolver.getValue(Vari \r\nableResolverToELResolver.java:93)                                        \r\n        at                                                               \r\njavax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)       \r\n---------------                                                          \r\n---------------                                                          \r\nServlet.service() for servlet jsp  threw exception                                                          \r\njava.lang.NullPointerException                                           \r\n        at                                                               \r\njavax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)       \r\n        at                                                               \r\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.access$3 \r\n01(FacesCompositeELResolver.java:46)                                     \r\n        at                                                               \r\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver$4.invoke \r\n(FacesCompositeELResolver.java:108)                                      \r\n        at                                                               \r\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.invoke(F \r\nacesCompositeELResolver.java:148)                                        \r\n        at                                                               \r\norg.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue \r\n(FacesCompositeELResolver.java:104)                                      \r\n        at                                                               \r\njavax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)       \r\n\r\nAfter investigating on codebase i see that the following is the code snippet where one thread sets the scope and some other thread on the same context unsets scope to null before a call made to  org.apache.myfaces.el.VariableResolverImpl.resolveVariable and it leads the above exception\r\n\r\ntry\r\n        {\r\n            setScope(requestMap);\r\n            super.setValue(context, base, property, val);\r\n        }\r\n        finally\r\n        {\r\n            unsetScope(requestMap);\r\n        }\r\n\r\nSo to fix the scope i have changed the following code snippet in the FacesCompositeELResolver to put back previous scope value\r\n\r\ntry\r\n        {\r\n            tmpScope = getScope(requestMap);\r\n            setScope(requestMap);\r\n            super.setValue(context, base, property, val);\r\n        }\r\n        finally\r\n        {\r\n            if( tmpScope != null){\r\n               setScope(requestMap, tmpScope);\r\n            }else{\r\n\t       unsetScope(requestMap);\r\n            }\r\n        }\r\n\r\nI am attaching the code with all the changes to fix this issue.Please review and provide your comments."
    ],
    [
        "MYFACES-2975",
        "MYFACES-2164",
        "NamedEventManager should be configured per web application, and do not use a static instance NamedEventManager should be configured per web application, and do not use a static instance. The best way to do that is attach it on RuntimeConfig",
        "concurrent  issue in initializing myfaces "
    ],
    [
        "MYFACES-4010",
        "MYFACES-1240",
        "MyFaces 2.2 throws UnsupportedOperationException with an eager ManagedBean with ManagedProperty This seems to be a regression from another issue, https://issues.apache.org/jira/browse/MYFACES-3116, which was resolved in 2.0 and 2.1.\r\n\r\nGiven a bean similar to the following:\r\n\r\n@ManagedBean(eager=true, name=\"eagerBean\")\r\n@ApplicationScoped\r\npublic class EagerBean implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@ManagedProperty(value=\"#{message}\")\r\n\tprivate MessageBean messageBean;\r\n\r\n    @PostConstruct\r\n    public void postConstruct() {\r\n             ...\r\n    }\r\n...\r\n}\r\n\r\nThe following exception is thrown with MyFaces 2.2.8 on Tomcat 8:\r\n19-Aug-2015 12:48:32.443 SEVERE [localhost-startStop-1] org.apache.myfaces.webapp.AbstractFacesInitializer.initFaces An error occured while initializing MyFaces: This method is not supported during startup\r\n java.lang.UnsupportedOperationException: This method is not supported during startup\r\n        at org.apache.myfaces.context.servlet.StartupServletExternalContextImpl.getSession(StartupServletExternalContextImpl.java:187)\r\n        at org.apache.myfaces.view.impl.DefaultViewScopeHandler.generateViewScopeId(DefaultViewScopeHandler.java:128)\r\n        at org.apache.myfaces.view.ViewScopeProxyMap.getWrapped(ViewScopeProxyMap.java:76)\r\n        at org.apache.myfaces.view.ViewScopeProxyMap.get(ViewScopeProxyMap.java:109)\r\n        at org.apache.myfaces.config.ManagedBeanBuilder.getScope(ManagedBeanBuilder.java:560)\r\n        at org.apache.myfaces.config.ManagedBeanBuilder.getNarrowestScope(ManagedBeanBuilder.java:464)\r\n        at org.apache.myfaces.config.ManagedBeanBuilder.isInValidScope(ManagedBeanBuilder.java:435)\r\n        at org.apache.myfaces.config.ManagedBeanBuilder.initializeProperties(ManagedBeanBuilder.java:319)\r\n        at org.apache.myfaces.config.ManagedBeanBuilder.buildManagedBean(ManagedBeanBuilder.java:163)\r\n        at org.apache.myfaces.webapp.AbstractFacesInitializer._createEagerBeans(AbstractFacesInitializer.java:303)\r\n        at org.apache.myfaces.webapp.AbstractFacesInitializer.initFaces(AbstractFacesInitializer.java:193)\r\n        at org.apache.myfaces.webapp.StartupServletContextListener.contextInitialized(StartupServletContextListener.java:119)\r\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\r\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5167)\r\n\r\nNote, the app does not throw this Exception in MyFaces 2.0.  The regression in 2.2 is caused by a spec update to UIViewRoot.getViewMap(boolean): that map is now backed by the session, which is not available during startup (which was addressed by MYFACES-3116): https://javaserverfaces.java.net/docs/2.2/javadocs/javax/faces/component/UIViewRoot.html#getViewMap%28boolean%29\r\n\r\nOne solution is to make sure we don't call getViewMap(true) during startup; I'll attach a patch demonstrating that route.",
        "JSR-252 Issue #85: Add new tag: f:setPropertyActionListener.  Useful for pushing values into managed beans without allowing modification of the value. Add new tag: f:setPropertyActionListener.  Useful for pushing values into managed beans without allowing modification of the value.\n\nSee https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=85"
    ],
    [
        "MYFACES-2381",
        "MYFACES-3380",
        "Broken link: \"Core JSF-2.0\"  \"Core JSF-2.0\" in the section \"MyFaces Projects\" in the left column links to the page\r\nhttp://myfaces.apache.org/core20/index.html\r\nwhich does not exist. \r\n",
        "system-event-listener source-class should be optional but is not Per the JSF 2.0 and 2.1 specs, this element is minOccurs=\"0\""
    ],
    [
        "MYFACES-3442",
        "MYFACES-809",
        "Infinite loop when calling ApplicationImpl._handleListenerForAnnotations under heavy load Hi,\r\n\r\nwhen doing Load Tests, we  recognize that we sometimes got stuck in an infinite loop, when calling the _handleListenerForAnnotations method of the ApplicationImpl class. According to our analysis, this is related to the _classToListenerForMap attribute that is is defined as plain HashMap, so no synchronisation takes place when it is accessed from several threads. Our suggestion would be, to define it as a ConcurrentHashMap instead, because according to our experience, such kind of infinite loops due to concurrency don't occur with ConcurrentHashMaps.\r\n\r\nKind regards,\r\n\r\nMichael",
        "Code reformat of ReducedHTMLParser class When I originally submitted the new ReducedHTMLParser I used Sun coding style.\nThis patch updates the class to use the MyFaces coding style.\n\nThere are no functional changes of any sort in this patch, just:\n* brace layout changes.\n* removing trailing whitespace\n* use leading underscore on member vars"
    ],
    [
        "MYFACES-1304",
        "MYFACES-2430",
        "DigesterFacesConfigDispenserImpl shuld respect order of registered renderkits org.apache.myfaces.config.impl.digester.DigesterFacesConfigDispenserImpl uses HashMap instance for registered renderkits. But when calling method getRenderKitIds() returned render kid ids are in unexpected order - HTML_BASIC is not the first! \n\nThis doesnt work with ADF faces, because creating oracle.adfinternal.view.faces.renderkit.core.CoreRenderKit requires HTML_BASIC already registered!",
        "Button image url rendered wrong for resources If the image url of a command button contains a value expression which resolves to a resource url (via implicit object resource) the url is not rendered correctly. In this case the context path is rendered twice."
    ],
    [
        "MYFACES-188",
        "MYFACES-231",
        "Tabbed pane behaviour When using tabbed pane all tabs are rendered each time. No matter if it is hidden or not. \nThis cause problems with form submitting because all hidden forms are validated.\nStep to reproduce. In myfaces-examples web application do following\n1. go to page /myfaces-examples/tabbedPane.jsf\n2. select Tab2\n3. Click common submit button\nYou'll see validation error that occures on the Tab1 pane. I think it is rather strange behaviour. \nI have no idea how to resolve it but we need to have tabs in our application and these bags must be independent. \nThe question is following is it a bug or a feature?\n\nThanks.",
        "java.lang.InstantiationException with inputHidden Tag An abstract class is specified for the inputHidden tag in the myfaces_html.tld and an InstantiationException is being thrown on the JSP because it cannot instantiate an abstract class.\n\njava.lang.InstantiationException\n\tat sun.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:30)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:274)\n\n--- myfaces_html.tld fragment ---\n\n<!-- input_hidden -->\n    <tag>\n        <name>inputHidden</name>\n        <tag-class>org.apache.myfaces.taglib.html.HtmlInputHiddenTagBase</tag-class>\n        <body-content>JSP</body-content>\n        &ui_input_attributes;\n        <!-- HiddenRenderer attributes -->\n    </tag>\n\nThe only implementation of the abstract HtmlInputHiddenTagBase that i could find is org.apache.myfaces.taglib.html.ext.HtmlInputHiddenTag. I am assuming this is suppossed to be specified as the tag-class rather than the HtmlInputHiddenTagBase.\n\nThanks"
    ],
    [
        "MYFACES-2769",
        "MYFACES-127",
        "Resource should expire immediately in javax.faces.PROJECT_STAGE=Development In PROJECT_STAGE=Development it would be useful to force browse not cache resources like .css or .js. The most annyoing during web development is clearing cache somewhere in Preferences ->  Advanced  ->  Cache -> Clear Cache in browsers which don't have Clear Cache plugin like Firefox does.\r\n\r\n",
        "dataTable (or h:column rendered=) confuses its var with previous instances of dataTable I suspect this is probably the same underlying cause as some of the other issues reported against datatable:\n\nI have:\n\n <%-- address(es) --%>\n            <f:subview id=\"addresses\" rendered=\"#{! empty ctrl.entitySc.addresses.currentList}\">\n                <h:outputText value=\"Addresses\"/>\n                <f:verbatim><br></f:verbatim>\n                <h:dataTable var=\"item\" value=\"#{ctrl.entitySc.addresses.currentList}\">\n                    <h:column>\n                        <jsp:directive.include file=\"/jspf/Entity2Address/addressesOnly.jspf\"/>\n                    </h:column>\n                </h:dataTable>\n            </f:subview>\n\nThen later (via a jsp.include directive) I have:\n\n<f:subview id=\"statusLogs\" rendered=\"#{! empty ctrl.ticketSc.statusLogList}\">\n    <h:dataTable var=\"item\" value=\"#{ctrl.ticketSc.statusLogList}\"\n    >\n        <h:column rendered=\"#{item.externalVisible}\">\n...\n\nAnd the following error occurs:\njavax.faces.el.PropertyNotFoundException: Bean: package.path.here.Entity2Address, property: externalVisible\n\nEntity2Address is the class type of the FIRST datatable \"item\"\nThe second datatable \"item\" is a different class type which does have an \"externalVisible\" property.\n\nIf I change all \"item\" to \"item2\" in the second datatable, all is well.\n\nAlso, specifically its on the rendered= attribute of the column tag where the problem is occurring. I have other instances of repeated datatables that seem to work fine, and the only difference seems to be that those other instances aren't doing conditional rendering.\n\nThe workaround is to use unique var names in each datatable, but this is inconvenient when trying to reuse (especially via jsp:include) jsp code.\n"
    ],
    [
        "MYFACES-1197",
        "MYFACES-2227",
        "Docs for ifMessage component Here is a patch with docs for the ifMessage component I donated.",
        "Update ResponseWriter/ResponseWriterWrapper to latest spec The latest spec adds the startCDATA() and endCDATA() methods to ResponseWriter/ResponseWriterWrapper."
    ],
    [
        "MYFACES-2926",
        "MYFACES-1699",
        "Some nodes not removed on ajax request when IE6 is used We have two bugs:\r\n\r\n- node.innerHTML = \"\" throw an exception on IE8 and compatibility mode is used\r\n- The node is not removed correctly on IE6. \r\n\r\nThere is a code that catch the exception on _Dom._removeChildNodes() method, but on _Dom. _removeNode we don't have it, and in some cases, it is expected to replace <tr> or <img> or other nodes when an ajax occur. In this case we need to force node removal using removeChild() method to make sure it works well on this case. When nodes like div, this bug is not present.",
        "converter-for-class not working on selectManyListbox <h:selectManyListbox\n\tvalue=\"#{debtorView.debtorService.sortOrders}\">\n\t<x:selectItems value=\"#{sortOrderView.sortOrders}\"\n\t   var=\"sortOrder\" itemLabel=\"#{sortOrder.name}\"\n\t   itemValue=\"#{sortOrder}\" />\n</h:selectManyListbox>\n\nDoes not work using default converter-for-class from faces-config.xml. \n\nUsing a specific converter (i.e. <h:selectManyListbox converter=\"SortOrderConverter\"...) it does work. \n"
    ],
    [
        "MYFACES-402",
        "MYFACES-1563",
        "Can't put f:param or f:attribute tag nest in CommandButton I want put f:param or f:attribute inside CommandButton, but it return nothing. I can't find define form.elements[param]=value javascipt in CommandButton that exist in commandLink ",
        "Re-rendered input components redisplay their locale value on non-immediate action Since the component was previously not rendered, its submitted value is null. The local value that is set in restoreState is not null.  This does not get reset by validation since non-rendered components are not validated (processValidators). Therefore the associated value-binding expression is not evaluated in getValue,and hence the local value is returned. \n\nIt seems to me that restoreState should set the local value to null. This would result in the value-binding expression being evaluated and displayed.\n\nExample:\n\nI have a number of input text fields and a select-one-menu (which has an immedate valueChangeListener) a command button (with an non-immedate action). The menu switches the rendered mode of some display fields. The button saves the entered text and clears the input fields.\n\nIn addition I have a data-table which displays the saved data and contains a column with a button, whose on-immediate action puts the selected data item into the input fields.   \n\nI enter data in the input fields and save the data. It is displayed in the table. Then I use the menu to select a mode in which some of the input text fields are no longer rendered. I then select the original data from the table. The fields which remain rendered are displayed and filled correctly. However the fields which were previously NOT rendered are displayed but are EMPTY.\n\nThis bug does not occur with Sun's reference implementation."
    ],
    [
        "MYFACES-628",
        "MYFACES-1744",
        "Current Lifecycle implementation violates JSF Spec 1.1 If a PhaseListener.beforePhase() calles FacesContext.renderResponse() or FacesContext.responseComplete(), then the LifeCycleImpl should not execute the functionality required for the current phase. (see JSF Spec 1.1 section 11-1 page 296f.)  LifeCycleImpl is not taking care about this. \n\nThis is important for us, because we'd like to make a redirect in the before render response phase. And at the moment an Illegal State exception is thrown, because the renderResponse is executed although responseComplete has been called.\n",
        "Validation messages is shown for SelectOneMenu in case first child is not SelectItems or SelectItem If SelectOneMenu has child of another type than SelectItems or SelectItem at first place in the children list (e.g. itomahawk jsValueChangeListener), validation of combobox fails with message \"Value is not a valid option.\" Value range is empty in this case because _SelectItemsIterator hasNext() method returns false if first child is not of type SelectItems or SelectItem. It should just skip such children, and should continue looking for values. Right?"
    ],
    [
        "MYFACES-601",
        "MYFACES-3717",
        "Bug in org.apache.myfaces.custom.date.HtmlInputDate (misinterprets 12:xx ) In method parse() the date is parsed as follows: \nSimpleDateFormat fullFormat = new SimpleDateFormat( \"dd MM yyyy HH mm ss\" ); \nif (timeZone != null) \n        fullFormat.setTimeZone(timeZone); \nreturn fullFormat.parse(day+\" \"+month+\" \"+year+\" \"+hours+\" \"+minutes+\" \"+seconds); \n\nThis is normally no problem, but when the variable \"hours\" is \"12\", SimpleDateFormat \"misinterprets\" this value and thinks it's 12 AM, but the user normally intendet 12 PM (using a 24h clock). This can be solved by using the following routine instead: \n          \nCalendar tempCalendar=Calendar.getInstance(); \nif (timeZone != null) \n        tempCalendar.setTimeZone(timeZone); \ntempCalendar.set(Calendar.DAY_OF_MONTH,Integer.parseInt(day)); \ntempCalendar.set(Calendar.MONTH,Integer.parseInt(month)-1); \ntempCalendar.set(Calendar.YEAR,Integer.parseInt(year)); \ntempCalendar.set(Calendar.HOUR_OF_DAY,Integer.parseInt(hours)); \ntempCalendar.set(Calendar.MINUTE,Integer.parseInt(minutes)); \nreturn tempCalendar.getTime(); \n} ",
        "Implement \"role\" attribute in related components and renderers "
    ],
    [
        "MYFACES-1034",
        "MYFACES-2671",
        "Allow customisable AddResource implementations I use an alternative version of the AddResource. class \n\nThe two areas which I have customised are the getResourceUri() method (which rewrites the URL to call resources through a forwarding controller servlet) and writeWithFullHeader() (which has different rules as to where insertions will take place when there is no <head> or <body> tags, as the applications only output HTML fragments).\n\nCurrently to do this a custom MyFaces has to be built.\n\nIdeally, AddResource would be an interface. An AddResourceFactory class would provide the getInstance() method (or equivalent). This method would check for a context parameter specifying the implementation class to use. If not specified, an instance of DefaultAddResource would be used. DefaultAddResource would be non-final and would therefore be subclassed to provide the customisations described above.\n\nWould this be a suitable change? If so, I would be happy to implement the change and supply a patch.\n\nThanks",
        "MYFACES-2633 regresses the ezcomp spinner example The change to CompositeComponentRule committed by MYFACES-2633 actually does break the ezcomp RI sample.  Specifically, in the spinner example it is causing the last value submitted to not be updated when you click the reload button.  It has reverted to the same behavior that was fixed by MYFACES-2340.  \r\n\r\nI did some playing around, and it seems that both adding the ValueExpression directly to the map AND calling instance.setValueExpression() seems to resolve both cases.  \r\n      ((UIComponent) instance).getAttributes().put(_name, _attr.getValueExpression(ctx, _type));  //right now this first line is commented out\r\n       ((UIComponent) instance).setValueExpression(_name, _attr.getValueExpression(ctx, _type));\r\n\r\nAs far as I can tell, I haven't seen any repercussions to leaving both calls in place, but it feels like there should be a more elegant solution.   I'll leave this open for discussion for a few days in case someone has another idea for a resolution before I check in the change.   \r\n\r\nIn the meantime, I'll do some additional testing to make sure there aren't any side affects of making both calls.  "
    ],
    [
        "MYFACES-3899",
        "MYFACES-135",
        "Messages missing after reload with CACHE_EL_EXPRESSIONS = alwaysRecompile When CACHE_EL_EXPRESSIONS is set to alwaysRecompile in the web.xml, after reloading sometimes all values loaded from a resource bundle come in blank.  For example, in a page like below the first time everything looks fine, if you reload the page all you see is a blank page (actually everything is working except the outputText):\r\n\r\n{code:xml}\r\n<!DOCTYPE html>\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\">\r\n\t\r\n\t\r\n\t<f:view>\r\n\t\t<f:loadBundle basename=\"Messages\" var=\"msg\" />\r\n\t\t\r\n\t\t<h:body>\r\n\t\r\n\t\t\t<h1><h:outputText value=\"#{msg.hello}\" /></h1>\r\n\t\t\r\n\t\t</h:body>\r\n\t</f:view>\r\n\t\r\n</html>\r\n{code}\r\n\r\nI will attach a full example project.",
        "MyFaces does not work on Resin MyFaces does not work with resin due to taglib's namespace. Here is a patch to support resin. Please fix it.\n\nTakashi Okamoto\n\nIndex: tlds/myfaces_ext.tld\n===================================================================\nRCS file: /home/cvspublic/incubator-myfaces/tlds/myfaces_ext.tld,v\nretrieving revision 1.180\ndiff -u -r1.180 myfaces_ext.tld\n--- tlds/myfaces_ext.tld\t15 Mar 2005 21:11:39 -0000\t1.180\n+++ tlds/myfaces_ext.tld\t18 Mar 2005 16:45:18 -0000\n@@ -65,7 +65,7 @@\n <!ENTITY alt_location_attributes             SYSTEM \"entities/alt_location_attributes.xml\">\n ]>\n \n-<taglib xmlns=\"http://java.sun.com/xml/ns/j2ee\">\n+<taglib>\n \n     <tlib-version>0.9.0</tlib-version>\n     <jsp-version>1.2</jsp-version>\n"
    ],
    [
        "MYFACES-3204",
        "MYFACES-2592",
        "h:panelGrid sometimes renders invalid html If you use the following xhtml tags...\r\n\r\n\ufeff\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE html\r\n        PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\r\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"\r\n        xmlns:h=\"http://java.sun.com/jsf/html\">\r\n<body>\r\n\r\n<h:form>\r\n        <h:panelGrid>\r\n            <div id=\"presetRanges\">\r\n                <h:panelGrid columns=\"1\" rendered=\"false\">\r\n                    <!--<h:outputText value=\"bar\"/>-->\r\n                </h:panelGrid>\r\n            </div>\r\n        </h:panelGrid>\r\n    </h:form>\r\n</body>\r\n\r\n</html>\r\n\r\n \r\nIt renders as...\r\n\r\n \r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\r\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\" >\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\r\n    <body>\r\n        <form id=\"j_id1140648439_43fce9ed\" name=\"j_id1140648439_43fce9ed\" method=\"post\"\r\n             action=\"/testJSF2Web/testPage2.jsf\" enctype=\"application/x-www-form-urlencoded\">\r\n            <table>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>\r\n                            <div id=\"presetRanges\">\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n        <input type=\"hidden\" name=\"j_id1140648439_43fce9ed_SUBMIT\" value=\"1\"/>\r\n        <input type=\"hidden\" name=\"javax.faces.ViewState\" id=\"javax.faces.ViewState\"\r\n               value=\"q6SajcUugOiXkLYISx+QCHdiiJQJaJ0Jp3CJQ1RG4fxGBST1c3AxMgaZV3YCFzI9Zw0w96iHAnAMsgzyz8pgbdtPf62LeHqDS/XPyF4aZcRgRL6/wBvcghc1G/wLNvr2cnNRNw==\"/>\r\n    </form>\r\n    <div id=\"javax_faces_developmentstage_messages\"></div>\r\n</body>\r\n</html>\r\n\r\n \r\nNotice that the <div> tag's closing is placed in the incorrect location in the table, resulting in invalid HTML.",
        "UIViewParameter.decode() should set the submitted value only if it is not null Otherwise the latest non null value would be overwritten if the parameter is absent in a request."
    ],
    [
        "MYFACES-2979",
        "MYFACES-836",
        "Session invalidation in Development Stage causes error in OpenWebBeans I have a logout method, shown below:\r\n\r\n    public String logout() {\r\n        final FacesContext fc = FacesContext.getCurrentInstance();\r\n        final ExternalContext externalContext = fc.getExternalContext();\r\n        try {\r\n            externalContext.invalidateSession();\r\n            externalContext.redirect(\"http://www.google.nl\");\r\n        } catch (IOException e) {\r\n            log.error(\"Error redirecting after logout\", e);\r\n        } finally {\r\n            fc.responseComplete();\r\n        }\r\n        return null;\r\n    }\r\n\r\nWhen I invoke this method, I get the following Exception from OpenWebBeans:\r\n\r\njavax.enterprise.context.ContextNotActiveException: WebBeans context with scope type annotation @SessionScoped does not exist within current thread\r\n\tat org.apache.webbeans.container.BeanManagerImpl.getContext(BeanManagerImpl.java:309)\r\n\tat org.apache.webbeans.intercept.NormalScopedBeanInterceptorHandler.getContextualInstance(NormalScopedBeanInterceptorHandler.java:124)\r\n\tat org.apache.webbeans.intercept.NormalScopedBeanInterceptorHandler.invoke(NormalScopedBeanInterceptorHandler.java:95)\r\n\tat org.apache.myfaces.examples.ebanking.web.bean.SessionBean_$$_javassist_2.getCustomer(SessionBean_$$_javassist_2.java)\r\n\tat sun.reflect.GeneratedMethodAccessor37.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:302)\r\n\tat javax.el.CompositeELResolver.getValue(CompositeELResolver.java:175)\r\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:142)\r\n\tat org.apache.el.parser.AstValue.getValue(AstValue.java:123)\r\n\tat org.apache.el.parser.AstEmpty.getValue(AstEmpty.java:45)\r\n\tat org.apache.el.parser.AstNot.getValue(AstNot.java:42)\r\n\tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:186)\r\n\tat org.apache.webbeans.el.WrappedValueExpression.getValue(WrappedValueExpression.java:68)\r\n\tat org.apache.myfaces.view.facelets.el.TagValueExpression.getValue(TagValueExpression.java:85)\r\n\tat javax.faces.component._DeltaStateHelper.eval(_DeltaStateHelper.java:260)\r\n\tat javax.faces.component.UIComponentBase.isRendered(UIComponentBase.java:1007)\r\n\tat javax.faces.component.UIComponent.isVisitable(UIComponent.java:289)\r\n\tat javax.faces.component.UIComponent.visitTree(UIComponent.java:752)\r\n\tat javax.faces.component.UIComponentBase.visitTree(UIComponentBase.java:991)\r\n\tat javax.faces.component.UIComponent.visitTree(UIComponent.java:778)\r\n\tat javax.faces.component.UIComponentBase.visitTree(UIComponentBase.java:991)\r\n\tat org.apache.myfaces.view.facelets.tag.ui.DebugPhaseListener._doTreeVisit(DebugPhaseListener.java:310)\r\n\tat org.apache.myfaces.view.facelets.tag.ui.DebugPhaseListener.afterPhase(DebugPhaseListener.java:286)\r\n\tat org.apache.myfaces.lifecycle.PhaseListenerManager.informPhaseListenersAfter(PhaseListenerManager.java:111)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:185)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:189)\r\n\r\nThis happens because the DebugPhaseListener starts visiting the tree and, in the process, needs to resolve a value expression, which points to an OWB session bean.\r\n\r\nIt only happens when the DebugPhaseListener is installed. In production mode everything is fine.",
        "ESCAPE_ATTR for <h:inputText When using border attribute in <h:graphicImage its giving following exception \n\njavax.servlet.ServletException: ServletException in '/common/header.jsp': /common/header.jsp(16,16) Attribute border invalid for tag graphicImage according to TLD\n\nSimilarly for escape attribute in <h:inputeText its throwing similar exception\n\njavax.servlet.ServletException: ServletException in '/XYZ.jsp': /ABC.jsp(37,22) Attribute escape invalid for tag inputText according to TLD\n\nWhen I have cecked the HtmlImageRenderer.java ,in that HTML.IMG_PASSTHROUGH_ATTRIBUTES, in which BORDER_ATTR is there in both of the version (1.0.9 and 1.1.1) of Java Classes but in tld border attribute is not  defined.\n\nSimilar thing applies to HtmlTextRendererBase.java, ESCAPE_ATTR which is there in renderer but not in tld.\nFor boder we can use CSS, but for escape attribute what is the alternate?\n\nBecause I am prepopulating value ,and value is an ascii character , so when I use escape =false, it shows that properly, otherwise it dont."
    ],
    [
        "MYFACES-2072",
        "MYFACES-3519",
        "Implement tag ui:component  Create tag ui:component for Facelets",
        "Could not load Javascript-Sources in 'Package' org.apache.myfaces.core.impl.xhrCore.engine Hi,\r\n\r\nI am testing MyFaces 2.1.6 with ProjectStage=Development. And I have an Javascript-error: Firefox showes me that 'myfaces.core.impl.xhrCore.engine' is undefined. After looking around I found that the jsf-uncompressed.js loads some libraries, i.e.:\r\n\r\n    _ls(\"#{resource['org.apache.myfaces.core.impl.xhrCore.engine:XhrConst.js']}\", null, null, \"UTF-8\", false);\r\n    _ls(\"#{resource['org.apache.myfaces.core.impl.xhrCore.engine:FormData.js']}\", null, null, \"UTF-8\", false);\r\n    _ls(\"#{resource['org.apache.myfaces.core.impl.xhrCore.engine:Xhr1.js']}\", null, null, \"UTF-8\", false);\r\n    _ls(\"#{resource['org.apache.myfaces.core.impl.xhrCore.engine:IFrame.js']}\", null, null, \"UTF-8\", false);\r\n\r\n\r\nThe replaced JS in Firefox for these entries looks like the following:\r\n\r\n    _ls(\"\", null, null, \"UTF-8\", false);\r\n\r\nThe resources are packaged under:\r\n\r\nMETA-INF/internal-resources/org.apache.myfaces.core.impl.xhrCore/engine\r\n\r\nThe ResourceLoader expects them to be in:\r\n\r\nMETA-INF/internal-resources/org.apache.myfaces.core.impl.xhrCore.engine\r\n\r\nAfter changing it in my local myfaces-jar all libraries could be loaded.\r\n"
    ],
    [
        "MYFACES-2409",
        "MYFACES-2540",
        "c:choose renders every option Testing the mojarra bean-validation sample, I found out that c:choose does not work correctly, because it renders every possible option.\r\n\r\nFor example: The following facelet code will result in \"when_false when_true otherwise\", but should result in \"when_true\".\r\n\r\n<c:choose>\r\n        <c:when test=\"#{false}\">\r\n            when_false\r\n        </c:when>\r\n        <c:when test=\"#{true}\">\r\n            when_true\r\n        </c:when>\r\n        <c:otherwise>\r\n            otherwise\r\n        </c:otherwise>\r\n</c:choose>",
        "Facelets server state saving does not work Facelets server state saving does not work:  StateManager.saveView in not called during ViewDeclarationLanguage.renderView in case of server state saving. Please  see attached patch for details."
    ],
    [
        "MYFACES-3381",
        "MYFACES-659",
        "Add @JSFFaceletFunction annotation Add @JSFFaceletFunction annotation, so that all information related to a JSF module can be stored on myfaces-metadata.xml file.",
        "Most components 'overuse' encodeEnd Most of the component rendering implementations make use only of the encodeEnd method.\n\nIf this is the case, why do encodeBegin and encodeChildren exist in the first place?\n\nI believe that encodeBegin should be used to validate parameters and children prerequisites, prepare the component for rendering (e.g computing a model or something), and rendering the start tag(s), encodeChildren should take care of any child components (i.e. the actual body) and encodeEnd should finish off by closing the tags opened in encodeBegin.\n\nYes, this will create an overhead for sharing data between the methods, but it would make the operations clearer (intutitive method names?)"
    ],
    [
        "MYFACES-1843",
        "MYFACES-2803",
        "Configuration cleanup fail on some specific machine configurations When you load a new application and some time has passed, this message appears on the log:\n\nSEVERE: Error during configuration clean-upnull\n\nThe error description using e.printStackTrace on org.apache.myfaces.config.FacesConfigurator.update()\n\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.apache.myfaces.config.FacesConfigurator.purgeConfiguration(FacesConfigurator.java:237)\n    at org.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:214)\n    at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:72)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:148)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n    at java.lang.Thread.run(Thread.java:619)\nCaused by: java.lang.IllegalStateException: The runtime config instance which is created while initialize myfaces must be set through ApplicationImpl.setInitializingRuntimeConfig\n    at org.apache.myfaces.application.ApplicationImpl.internalGetRuntimeConfig(ApplicationImpl.java:134)\n    at org.apache.myfaces.application.ApplicationImpl.<init>(ApplicationImpl.java:127)\n    at org.apache.myfaces.application.ApplicationFactoryImpl.createAndLogNewApplication(ApplicationFactoryImpl.java:48)\n    at org.apache.myfaces.application.ApplicationFactoryImpl.purgeApplication(ApplicationFactoryImpl.java:53)\n    ... 23 more\n\nMyfaces has a feature controlled by the param org.apache.myfaces.CONFIG_REFRESH_PERIOD, that update the configuration when the refresh period has been reached since las update.\n\nThis problem is caused by the behavior of this variable:\n\npublic class ApplicationImpl extends Application\n{\n\n    // recives the runtime config instance during initializing\n    private final static ThreadLocal<RuntimeConfig> initializingRuntimeConfig = new ThreadLocal<RuntimeConfig>();\n\nthis is a variable local per thread, but on a web container you don't control what thread are accessing this variable. The result is when he try to refresh the configuration with a different thread, this variable is null, so the call of the constructor ApplicationImpl() fails.\n\nThe solution is instead this:\n\n    private static RuntimeConfig internalGetRuntimeConfig()\n    {\n        if (initializingRuntimeConfig.get() == null)\n        {\n            throw new IllegalStateException(\"The runtime config instance which is created while initialize myfaces \"\n                    + \"must be set through ApplicationImpl.setInitializingRuntimeConfig\");\n        }\n        return initializingRuntimeConfig.get();\n    }\n\ndo this:\n\n    private static RuntimeConfig internalGetRuntimeConfig()\n    {\n        if (initializingRuntimeConfig.get() == null)\n        {\n            //It may happen that the current thread value\n            //for initializingRuntimeConfig is not set \n            //(note that this value is final, so it just \n            //allow set only once per thread).\n            //So the better for this case is try to get\n            //the value using RuntimeConfig.getCurrentInstance()\n            //instead throw an IllegalStateException (only fails if\n            //the constructor is called before setInitializingRuntimeConfig).\n            //From other point of view, AbstractFacesInitializer do \n            //the same as below, so there is not problem if\n            //we do this here and this is the best place to do\n            //this.\n            //log.info(\"initializingRuntimeConfig.get() == null, so loading from ExternalContext\");\n            ApplicationImpl.setInitializingRuntimeConfig(\n                    RuntimeConfig.getCurrentInstance(\n                            FacesContext.getCurrentInstance()\n                            .getExternalContext()));\n\n            //throw new IllegalStateException(\"The runtime config instance which is created while initialize myfaces \"\n            //        + \"must be set through ApplicationImpl.setInitializingRuntimeConfig\");\n        }\n        return initializingRuntimeConfig.get();\n    }\n\nWith this code we ensure correct initialization of this value, like in AbstractFacesInitializer\n",
        "jsf.js multipart form request, multi transport method support We need iframe support for multipart form request (aka fileupload handling), we also might have to deliver different transport mechanisms outside of the existing one - Already working on it.\r\n"
    ],
    [
        "MYFACES-63",
        "MYFACES-2324",
        "[PATCH] L10N for Japanese ",
        "Add ViewDeclarationLanguage.retargetAttachedObjects and ViewDeclarationLanguage.retargetMethodExpressions "
    ],
    [
        "MYFACES-2287",
        "MYFACES-1837",
        "getting the myfaces 1.2 simple example app running on 2.0 impl trying some very basic impl testing with 1.1/1.2 apps.  will use this issue for checking in related fixes.  ",
        "ValidatorImplTag: Unnecessary Thread.dumpStack()     protected Validator createValidator() throws javax.servlet.jsp.JspException\n    {\n        Thread.dumpStack();\n        if (_validatorIdString != null)\n        {\n            return this.createClassicValidator();\n        }        \n        if (_validatorId != null && _validatorId.isLiteralText())\n        {\n            return this.createClassicValidator();\n        }        \n        \n        return new DelegateValidator(_validatorId, _binding,\n                _validatorIdString);\n    }"
    ],
    [
        "MYFACES-1644",
        "MYFACES-3427",
        "API signature error with UIComponentTagBase JSF 1.2 javadoc for UIComponentTagBase requires \n\nprotected static Logger log = Logger.getLogger(\"javax.faces.webapp\");",
        "[perf] Use only one StringBuilder for generate unique facelets identifiers The code that generate unique identifiers, like UIComponentBase.getClientId() and others inside facelets are operations that are called very frequent, so it is necessary to ensure that code is as fast as possible and use few memory resources\r\n\r\nAlso, doing some performance tests I notice Long.toString(long, radix) is too expensive. It creates a lot of unnecessary String objects.\r\n\r\nIn practice, we should prevent create object instances in such locations, and use only one StringBuffer if possible."
    ],
    [
        "MYFACES-4018",
        "MYFACES-2803",
        "FacesComponent Property \"not found on type javax.faces.component.UINamingContainer\" When dynamically adding a composite control to a page, any custom FacesComponent in the composite control can't access its properties.\r\n(BTW, I found this issue in MyFaces 2.2.8, but both scenarios below work fine in Mojarra 2.2)\r\n(Also, the issue occurs early on postback in MyFaces framework so I'm not seeing any errors in logs, other than in the HTTP response and the exception it shows on the web page. I can breakpoint on the FacesComponent instantiation, but nowhere else do I get control.)\r\n\r\n******* This works *******\r\nEnter value, hit Refresh button.\r\n[ Note: This has the CustComp FacesComponent statically on the page.\r\nAlso note:\txmlns:cvc=\"http://java.sun.com/jsf/composite/com/aadhoc/cvc/spikes/extensionsapproach/components\"]\r\n\r\n\t<h:form id=\"modelerForm\">\r\n\t\t<h:commandButton value=\"Refresh\" type=\"submit\"/>\r\n\t\t<h:outputText value=\"CustProp:\"/>\r\n\t\t<cvc:CustComp/>\r\n\t</h:form>\r\n\r\n******* This breaks *******\r\nHit Add button, then hit Refresh button.\r\n[Note: This dynamically adds a CompTestChild composite, which contains the CustComp FacesComponent]\r\n\t<h:form id=\"modelerForm\">\r\n\t\t<h:commandButton value=\"Refresh\" type=\"submit\"/>\r\n\t\t<h:commandButton value=\"Add\" actionListener=\"#{modelerController.compTestOnAdd}\"/>\r\n\t\t<cvc:CustComp/>\r\n\t\t<h1>Controls</h1>\r\n\t\t<h:panelGrid id=\"controlsPanel\"/>\r\n\t</h:form>\r\n\r\nError:\r\njavax.el.PropertyNotFoundException: Property 'prop' not found on type javax.faces.component.UINamingContainer\r\n\r\nviewId=/modeler.xhtml\r\nlocation=M:\\home\\eclipse\\workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\CVC Spike Extensions Approach\\modeler.xhtml\r\nphaseId=PROCESS_VALIDATIONS(3)\r\n\r\nCaused by:\r\njavax.el.PropertyNotFoundException - Property 'prop' not found on type javax.faces.component.UINamingContainer\r\n at javax.el.BeanELResolver$BeanProperties.get(BeanELResolver.java:268)\r\n\r\n/resources/com/aadhoc/cvc/spikes/extensionsapproach/components/CustComp.xhtml at line 20 and column 36 value=\"#{cc.prop}\"\r\n\r\n\r\nThis is my custom FacesComponent (CustComp.xhtml):\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?>\r\n<html\r\n\txmlns=\"http://www.w3.org/1999/xhtml\"\r\n\txmlns:cc=\"http://java.sun.com/jsf/composite\" \r\n\txmlns:h=\"http://java.sun.com/jsf/html\"\r\n\t>\r\n\t<cc:interface componentType=\"com.aadhoc.cvc.spikes.extensionsapproach.CustComp\">\r\n\t</cc:interface>\r\n\t<cc:implementation>\r\n\t\t<h:outputText value=\"Prop:\"/>\r\n\t\t<h:inputText value=\"#{cc.prop}\"/>\r\n\t</cc:implementation>\r\n</html>\r\n\r\nBacking:\r\n@FacesComponent(value = \"com.aadhoc.cvc.spikes.extensionsapproach.CustComp\", createTag = false)\r\npublic class CustComp extends UIInput implements NamingContainer {\r\n\tprivate String prop;\r\n\tpublic CustComp() {\r\n\t}\r\n\tpublic String getProp() {\r\n\t\treturn prop;\r\n\t}\r\n\tpublic void setProp(String prop) {\r\n\t\tthis.prop = prop;\r\n\t}\r\n\t@Override\r\n\tpublic String getFamily() {\r\n\t\treturn UINamingContainer.COMPONENT_FAMILY;\r\n\t}\r\n}\r\n\r\nmodelerController:\r\n    public void compTestOnAdd() {\r\n        UIViewRoot viewRoot = FacesContext.getCurrentInstance().getViewRoot();\r\n        UIComponent topGroup = viewRoot.findComponent(\":modelerForm:controlsPanel\");\r\n\t    FacesContext context = FacesContext.getCurrentInstance();\r\n\t    UIComponent composite = context.getApplication().getViewHandler()\r\n\t        .getViewDeclarationLanguage(context, context.getViewRoot().getViewId())\r\n\t        .createComponent(context, \"http://xmlns.jcp.org/jsf/composite/com/aadhoc/cvc/spikes/extensionsapproach/components\", \"CompTestChild\", new HashMap<>());\r\n\t    topGroup.getChildren().add(composite);\r\n    }\r\n\r\nCompTestChild.xhtml:\r\n<?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?>\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n\txmlns:cc=\"http://java.sun.com/jsf/composite\"\r\n    xmlns:h=\"http://java.sun.com/jsf/html\"\r\n\txmlns:cvc=\"http://java.sun.com/jsf/composite/com/aadhoc/cvc/spikes/extensionsapproach/components\"\r\n\t>\r\n\t<cc:interface>\r\n\t</cc:interface>\r\n\t<cc:implementation>\r\n\t\t<h:panelGrid columns=\"2\">\r\n\t\t\t<h:outputText value=\"CustProp:\"/>\r\n\t\t\t<cvc:CustComp/>\r\n\t\t</h:panelGrid>\r\n\t</cc:implementation>\r\n</html>\r\n\r\n\r\nweb.xml includes:\r\n  <resource-env-ref>\r\n    <!-- Enable Weld CDI, also needs META-INF/context.xml entry -->\r\n    <resource-env-ref-name>BeanManager</resource-env-ref-name>\r\n    <resource-env-ref-type>javax.enterprise.inject.spi.BeanManager</resource-env-ref-type>\r\n  </resource-env-ref>\r\n  <context-param>\r\n    <param-name>javax.faces.PROJECT_STAGE</param-name>\r\n    <param-value>Development</param-value>\r\n  </context-param>\r\n  <context-param>\r\n    <param-name>org.apache.myfaces.STRICT_JSF_2_ALLOW_SLASH_LIBRARY_NAME</param-name>\r\n    <param-value>true</param-value>\r\n  </context-param>\r\n  <servlet>\r\n    <servlet-name>Faces Servlet</servlet-name>\r\n    <servlet-class>javax.faces.webapp.FacesServlet</servlet-class>\r\n    <load-on-startup>1</load-on-startup>\r\n  </servlet>\r\n\r\n\r\n",
        "jsf.js multipart form request, multi transport method support We need iframe support for multipart form request (aka fileupload handling), we also might have to deliver different transport mechanisms outside of the existing one - Already working on it.\r\n"
    ],
    [
        "MYFACES-2792",
        "MYFACES-2546",
        "Redirect with include-view-params in faces-config.xml I have a bean \r\n\r\n@ManagedBean(name=\"blog\")\r\n@SessionScoped\r\npublic class Blog {\r\n\r\n\tprivate String content;\r\n\t\r\n\tprivate static AtomicInteger id = new AtomicInteger(0);\r\n\t\r\n\tprivate String idm;\r\n\r\n\tpublic String addBlog(){\r\n\t\tthis.idm = Integer.toString(id.incrementAndGet());\r\n\t\treturn \"view?faces-redirect=true&amp;includeViewParams=true\";\r\n\t}\r\n}\r\n\r\nThis is result view\r\n<h:body>\r\n\t\r\n\t<f:view>\r\n\t\t<f:metadata>\r\n\t\t\t<f:viewParam name=\"id\" value=\"#{blog.idm}\"></f:viewParam>\r\n\t\t</f:metadata>\r\n\t</f:view>\r\n\t\r\n\t<h:outputText value=\"#{blog.content}\"></h:outputText>\r\n\t\r\n</h:body>\r\n\r\nThis works! Changed to following and adding faces-config.xml\r\n\tpublic String addBlog(){\r\n\t\tthis.idm = Integer.toString(id.incrementAndGet());\r\n\t\treturn \"ok\";\r\n\t}\r\n\r\n    <navigation-rule>\r\n    \t\r\n    \t<navigation-case>\r\n    \t\t<from-action>#{blog.addBlog}</from-action>\r\n    \t\t<from-outcome>ok</from-outcome>\r\n    \t\t<to-view-id>/view.xhtml</to-view-id>\r\n    \t\t<redirect include-view-params=\"true\"/>\r\n    \t</navigation-case>\r\n    \t\r\n    </navigation-rule>\r\n\r\nNot working! \r\n\r\nWhat can be the problem? (I think doing some wrong actions!)\r\n",
        "Conversion rules for obtaing renderable String from the \"value\" property of SelectItem <h:selectOneMenu>\r\n        <f:selectItems value=\"#{model.selectItemsWithNonStringValue}\" />\r\n</h:selectOneMenu>\r\n\r\nif SelectItem.getValue() returns other type than String and there is no converter for that type, myfaces throw exception: java.lang.IllegalArgumentException: Value is no String\r\nat org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:633)\r\n\tat org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:652)\r\n\tat org.apache.myfaces.shared_impl.renderkit.html.HtmlRendererUtils.renderSelectOptions(HtmlRendererUtils.java:538)\r\n\r\n\r\nRI does not throw a exception but with quietness outputs toString() as <option> value."
    ],
    [
        "MYFACES-704",
        "MYFACES-3327",
        "Misleading error message: \"a context listener is not setup in your web.xml\" Prior to 1.1.0 it was necessary to specify a custom context listener in the web.xml file to enable JSF.\nSince 1.10 this has been defined automatically.\n\nHowever class \"javax/faces/FactoryFinder.java\" still outputs this message whenever anything goes wrong with MyFaces initialisation:\n  No Factories configured for this Application - typically this is because a context listener is not setup in your web.xml.\n  A typical config looks like this;\n  <listener>\n    <listener-class>org.apache.myfaces.webapp.StartupServletContextListener</listener-class>\n  </listener>\n\nI think this message is now misleading; no such entry is needed in the web.xml file.\n",
        "Spaces between markup and component are trimmed by facelets algorithm Checking some examples I notice that facelets algorithm swallow spaces between markup and component. This comes from original facelets algorithm, but in some point it was fixed by Mojarra. See these links for details:\r\n\r\nhttp://java.net/jira/browse/JAVASERVERFACES-959\r\nhttp://java.net/jira/browse/JAVASERVERFACES-1208\r\n\r\nI review the provided and the solution done in Mojarra is correct. Additionally, to keep compatibility with Mojarra, this issue becomes relevant, because applications moving from Mojarra to MyFaces will notice this."
    ],
    [
        "MYFACES-2327",
        "MYFACES-2341",
        "Move facelets test code to myfaces Testing code inside facelets is ASL 2.0, so we can add it to myfaces core. This will help us to keep facelets code inside myfaces core 2.0 more stable and prevent introduce bugs",
        "facelet tag lib parser includes <behavior> section Facelet tag lib parser (in TagLibraryConfig) should deal with <behavior> section."
    ],
    [
        "MYFACES-2031",
        "MYFACES-803",
        "cleanup /www/www.apache.org/dist/myfaces/ From infrastructure:\n\nHi,\n\n the apache.org infrastucture team is worried about the increase\n in size of '/www/www.apache.org/dist/' ; it doubled in a year.\n Also, the size of '/dist/' matters to our mirrors and mirroring\n resources.\n\n I have looked at\n\n   http://www.apache.org/dist/myfaces/\n\n and if I'm not misstaken, I see a lot of old releases.\n\n Please see the ASF policy regarding mirrored releases in '/dist/' :\n\n   http://www.apache.org/dev/mirrors.html\n\n Directory '/dist/' should contain only reasonably 'current releases' ;\n for instance the ones you point to in\n\n   http://myfaces.apache.org/download.html\n\n and maybe some previous releases.\n\n Note that all releases are automatically archived in\n\n   http://archive.apache.org/dist/\n\n and that you can easily refer to previous releases in\n a 'README.html' in\n\n   http://www.apache.org/dist/myfaces/\n\n Currently the size of '/dist/myfaces/' is 1944 Mb.\n\n Thanks for the fix, regards,\n\n Henk Penning\n",
        "Same problem with the t:datatable ... Same problem with dataTable: iteration is not done within facet - here: benef.description is always the first element of the list.\n\n(Bug-Code)\n<t:dataTable value=\"#{projectBenefitBean.data11}\" var=\"benef\">\n\t<h:column>\n\t\t<x:popup styleClass=\"popup\">\n    \t<h:outputText value=\"#{benef.description}\"/>\n\t\t     <f:facet name=\"popup\">\n     \t\t\t<h:panelGroup>\n\t\t    \t\t<h:outputText value=\"#{benef.description}\"/>\n\t\t\t\t\t<h:commandLink rendered=\"#{projectBenefitBean.mode == 0}\"  styleClass=\"BENEFITBUTTON\">\n\t\t\t\t\t\t<f:param value=\"1\" name=\"col\"/>\n\t\t\t\t\t\t<f:param value=\"1\" name=\"row\"/>\t\n\t\t\t\t\t\t<h:outputText value=\"changes\"/>\n\t\t\t\t\t</h:commandLink>\n\t     \t\t</h:panelGroup>\n\t\t      </f:facet>\n\t\t  </x:popup>\n\t  </h:column>\n</t:dataTable>\n\nThis code works fine ... (using h:datatable instead of t:datatable):\n\n<h:dataTable value=\"#{projectBenefitBean.data11}\" var=\"benef\">\n\t<h:column>\n\t\t<x:popup styleClass=\"popup\">\n    \t<h:outputText value=\"#{benef.description}\"/>\n\t\t     <f:facet name=\"popup\">\n     \t\t\t<h:panelGroup>\n\t\t    \t\t<h:outputText value=\"#{benef.description}\"/>\n\t\t\t\t\t<h:commandLink rendered=\"#{projectBenefitBean.mode == 0}\"  styleClass=\"BENEFITBUTTON\">\n\t\t\t\t\t\t<f:param value=\"1\" name=\"col\"/>\n\t\t\t\t\t\t<f:param value=\"1\" name=\"row\"/>\t\n\t\t\t\t\t\t<h:outputText value=\"changes\"/>\n\t\t\t\t\t</h:commandLink>\n\t     \t\t</h:panelGroup>\n\t\t      </f:facet>\n\t\t  </x:popup>\n\t  </h:column>\n</h:dataTable>\n"
    ],
    [
        "MYFACES-3786",
        "MYFACES-420",
        "Web Container injection support should be provided for additional lifecycle artifacts (not just managed beans)  This issue is all about how to inject beans into jsf artifacts.\r\n\r\nSee JSF 2.2 section 5.4.1\r\n\r\nThe problem here is in some point we need to give the control to the underlying environment to inject beans into the artifacts, but we don't know much about how to properly do it, so we need to try with examples.\r\n\r\n",
        "InputText isn't refreshed after valueChangeListener I use the following valueChangeListener and submit on blur via javascript:\n\n<h:inputText id=\"EAN\" value=\"#{LpChooseTypeForm.a_LpObject.a_niGloWa.a_EAN}\" valueChangeListener=\"#{LpChooseTypeForm.a_LpObject.a_niGloWa.getSkuDetails}\" \nonblur=\"this.form.submit();\">\n\nIn the valueChangeListener I set some sku details and fill up new input fields:\n\n<h:outputText id=\"SkuNr\" value=\"#{LpChooseTypeForm.a_LpObject.a_niGloWa.a_skuNo}\" />\n<h:inputText id=\"SkuDescription\" value=\"#{LpChooseTypeForm.a_LpObject.a_niGloWa.a_skuDesc}\"  />\n\nbut the \"SkuDescription\" inputText doesen't get updated. If I change \"SkuDescription\" to h:outputText  it get's updated.\n\n"
    ],
    [
        "MYFACES-3622",
        "MYFACES-71",
        "Merging the jsf2.2 changes of jsf.js into the 2.2 branch i have several tested extensions from my apache-extras sideproject which need to be merged into the 2.2 branch, this is done under this task",
        "<jsp:include> and <c:import> unsupported Good Day,\n\nFirst, thanks for MyFaces, which in some significant respects is actually easier to work with than Sun's RI :-)\n\nHowever unless I'm doing something wrong, MyFaces doesn't seem to support dynamic content inclusion via the <jsp:include> and JSTL's <c:import> custom JSP actions.  Please can you confirm whether this is a known bug?  I'm interested in bug-fix timescales, too.\n\nI'm frantically struggling to get my own Open Source workflow project to its first release (Open Business Engine: http://sourceforge.net/projects/obe).  I'm trying to include content based on a backing bean property.  Here's the code that doesn't work; the included JSP simply produces no output:\n\nauditEntry.jsp:\n\n<%@ page session=\"true\"%>\n<%@ page contentType=\"text/html;charset=ISO-8859-1\" language=\"java\" %>\n<%@ taglib uri='http://java.sun.com/jsp/jstl/core' prefix='c' %>\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\" %>\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\" %>\n<f:view>\n<html>\n    <%@include file=\"/include/head.inc\" %>\n    <body>\n        <%@include file=\"/include/pageHeader.jsp\"%>\n        <f:subview id=\"include0\">\n            <!-- I'm trying to do this dynamically: -->\n            <!--<c:import url=\"include/audit/#{worklist.auditEntryClass}.jsp\" />-->\n            <!-- But even the static version doesn't work: -->\n            <c:import url=\"include/audit/WMAAuditEntry.jsp\" />\n        </f:subview>\n        <%@include file=\"/include/pageFooter.jsp\"%>\n    </body>\n</html>\n</f:view>\n\ninclude/audit/WMAAuditEntry.jsp:\n    <h:outputLabel for=\"timestamp\" value=\"#{strings.timestamp}\" />\n    <h:outputText id=\"timestamp\" value=\"#{worklist.auditEntry.timestamp}\" />\n    <h:outputLabel for=\"processDefinitionId\" value=\"#{strings.processDefinitionId}\" />\n    <h:commandLink id=\"processDefinitionId\" action=\"#{worklist.showProcessDefinition}\" \n        value=\"#{worklist.auditEntry.processDefinitionId}\" />\n    <h:outputLabel for=\"processInstanceId\" value=\"#{strings.processInstanceId}\" />\n    <h:commandLink id=\"processInstanceId\" action=\"#{worklist.showProcessInstance}\" \n        value=\"#{worklist.auditEntry.currentProcessInstanceId}\" />\netc..."
    ],
    [
        "MYFACES-1609",
        "MYFACES-3568",
        "Allow selectItems with value null SelectItems can have null value",
        "[perf] use viewId hashCode() instead full viewId on server side state saving SerializedViewKey In SerializedViewKey, the current code uses a counter and the full viewId as key to retrieve or save the state into session. \r\n\r\nBut store the full viewId is not really necessary. The counter itself gives uniqueness inside the session, and the viewId is just a way to check if the state to restore is the right one. In other words, given the probability of found two valid viewIds in an application with the same hashCode is astronomical and the fact that there is a counter that identify in an unique way a view state session token, it is reasonable to store into the state only the hashCode, and when the view is restored compare the viewId hashCode with the stored one into the state.\r\n\r\nThis change will reduce the size required by SerializedViewKey."
    ],
    [
        "MYFACES-2042",
        "MYFACES-3844",
        "Implement tag c:forEach  Create tag c:forEach  for Facelets",
        "move StartupServletContextListener config to web-fragment.xml users who need to use servlet 2.5 + myfaces-core 2.2+ can still add the listener to the web.xml"
    ],
    [
        "MYFACES-147",
        "MYFACES-231",
        "Status not saved correctly for inputText-Fields in dataTables between tab pages switch Hello,\nthanks for creating MyFaces, I'm beginning to like it very much :)\n\nI have a problem working on tabs with the x:panelTabbedPane : the status of some elements is not correctly saved and restored when switching tabs.\n\nI report a snip of a mail from Sylvain Vieujot from the -user mailing list, I think it can be useful for who will try to solve the problem.\n---------\n[...]\nBut we still have an issues for UISelectItems.\nIf someone could look at line 140 of the HtmlCheckBoxRendererBase, and line 463 of the RendererUtils, it would be great, as I think they too are using the component's value, instead of checking for a submitted value first.\nI can't work on this right now as I'll be away from my computer for a week, and I don't want to take the risk of breaking it before leaving.\n\nAn easy way to test test the problem is the same as for any component : Put the component in an tab panel, with at least 2 tabs. Change the component value, and then switch to another tab.\nThis should set the component's submitted value, but not change the backing bean value.\nWhen you switch back to initial tab, you should have the changed value.\nIf the user changes have been lost, then the component's renderer has a bug. It always renders the backing bean value instead of looking first for a submitted value.\n[...]\n---------\n\nI've modified the tabbedPane.jsp page from the example of the distribution to show the bad behaviohur. To check the problem:\n- fill in the controls on tab1\n- switch to tab3, fill the other controls\n- switch back to tab1 and you'll notice that the date lost it's value\n- switch back to tab3 and also the selectboxes and radiobuttons are reset\n\nIf I find a way to attach a file to this issue I'll upload the new tabbedPane.jsp, otherwise I'll attach it on a message on the mailing list.\n\nThanks,\nAlex",
        "java.lang.InstantiationException with inputHidden Tag An abstract class is specified for the inputHidden tag in the myfaces_html.tld and an InstantiationException is being thrown on the JSP because it cannot instantiate an abstract class.\n\njava.lang.InstantiationException\n\tat sun.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:30)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:274)\n\n--- myfaces_html.tld fragment ---\n\n<!-- input_hidden -->\n    <tag>\n        <name>inputHidden</name>\n        <tag-class>org.apache.myfaces.taglib.html.HtmlInputHiddenTagBase</tag-class>\n        <body-content>JSP</body-content>\n        &ui_input_attributes;\n        <!-- HiddenRenderer attributes -->\n    </tag>\n\nThe only implementation of the abstract HtmlInputHiddenTagBase that i could find is org.apache.myfaces.taglib.html.ext.HtmlInputHiddenTag. I am assuming this is suppossed to be specified as the tag-class rather than the HtmlInputHiddenTagBase.\n\nThanks"
    ],
    [
        "MYFACES-1677",
        "MYFACES-339",
        "UISelectOne Validation Error: \"Value is not a valid option\" in MyFaces Core 1.1.5 (Doesn't Occur in 1.1.4) After recently upgrading to 1.1.5 from 1.1.4 I've noticed the following problem, this simple selectOneMenu\nno longer passes validation. The Validation phase always fails with the message \"Value is not a valid option\".\n\n<h:selectOneMenu id=\"country\"\n        \t\t\t\t\t   value=\"#{UserAccountDataBean.userAccount.country.countryId}\" \n        \t\t\t\t\t   required=\"true\">\n   <f:selectItems value=\"#{UserAccountDataBean.countrySelectItems}\"/>\n</h:selectOneMenu>\n\nThe type of countryId is an Integer and it is initially null. The selectOneMenu is inside a form within a subview.\n\nI tried using a PhaseTracker to see what was going on:\n\nBEFORE APPLY_REQUEST_VALUES(2)\nSubmitted null Local null Value null\nAFTER APPLY_REQUEST_VALUES(2)\nSubmitted 1 Local null Value    null\nBEFORE PROCESS_VALIDATIONS(3)\nSubmitted 1 Local null Value null\nAFTER PROCESS_VALIDATIONS(3)\nSubmitted 1 Local null Value    null\nBEFORE RENDER_RESPONSE(6)\nSubmitted 1 Local null Value null\nAFTER RENDER_RESPONSE(6)\nSubmitted 1 Local null Value    null\n\nThe submitted value 1 is definitely in the Options list so there's no reason validation should fail. Indeed if I change nothing and revert back to 1.1.4 everything is fine.\n\nCheers,\nBen",
        "x:inputCalendar does not support readonly or disabled The x:inputCalendar does not allow readonly or disabled to be set. This means that the textfield and popup calendar button are always enabled for input."
    ],
    [
        "MYFACES-865",
        "MYFACES-2577",
        "dataList not behaving inside panelGrid I'm trying to use a dataList to get around the lack of a loop.  Here is the sample jsp:\n\n<%@ page session=\"true\" contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\" %>\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\" %>\n<%@ taglib uri=\"http://myfaces.apache.org/tomahawk\" prefix=\"t\" %>\n\n<html>\n<head><title>TonyTesterNoRadio</title></head>\n<body>\n<f:view>\n  <h:form>\n  <t:selectOneRadio id=\"test\" forceId=\"true\" layout=\"spread\">\n    <f:selectItems value=\"#{tonyTester.selectItems}\"/>\n  </t:selectOneRadio>\n  <h:panelGrid columns=\"#{tonyTester.numberOfHelpers}\">\n    <t:dataList var=\"helper\" value=\"#{tonyTester.helpers}\" rowIndexVar=\"index\">\n      <h:panelGroup>\n        <h:panelGrid columns=\"1\">\n          <t:radio for=\"test\" index=\"#{index}\"/>\n          <h:outputText value=\"#{helper.key}\"/>\n          <h:outputText value=\"#{helper.descriptionLine1}\"/>\n          <h:outputText value=\"#{helper.descriptionLine2}\"/>\n        </h:panelGrid>\n      </h:panelGroup>\n    </t:dataList>\n  </h:panelGrid>\n  </h:form>\n</f:view>\n</body>\n</html>\n\nFrom this (and other code which I can provide), I expect each panel group to line up horizontally across the page. From the html, you can see that the groups are all put into the first column:\n\n<table border=\"0\"><tbody><tr><td>\n\n<table border=\"0\"><tbody><tr><td>1</td></tr>\n<tr><td>helper1-descriptionLine1</td></tr>\n\n<tr><td>helper1-descriptionLine2</td></tr>\n</tbody></table>\n<table border=\"0\"><tbody><tr><td>1</td></tr>\n<tr><td>helper2-descriptionLine1</td></tr>\n<tr><td>helper2-descriptionLine2</td></tr>\n</tbody></table>\n<table border=\"0\"><tbody><tr><td>1</td></tr>\n<tr><td>helper3-descriptionLine1</td></tr>\n<tr><td>helper3-descriptionLine2</td></tr>\n</tbody></table>\n\n</td><td></td><td></td></tr>",
        "Multiple client behaviors confuse the jsf.util.chain function https://javaserverfaces.dev.java.net/issues/show_bug.cgi?id=1498\r\n"
    ],
    [
        "MYFACES-3346",
        "MYFACES-1488",
        "Chinese Translation for Messages.properties It is found that the keys in Messages_zh_CN.properties are not synchronized with Messages.properties.  I reorganize the keys to match Messages.properties and make the punctuations consistently.  Also, I've provided the Traditional Chinese translation on Messages_zh_TW.properties and Messages_zh_HK.properties.",
        "ASF Source Header and Copyright Notice Policy All the ASF License headers in the source files need to be updated to remove the copyright notice as per the new policy:\n\n    http://www.apache.org/legal/src-headers.html\n\nWe could also run Robert Burrell Donkin's \"RAT\" (release audit tool) to see if anything else is missing\n\n   http://code.google.com/p/arat/"
    ],
    [
        "MYFACES-1557",
        "MYFACES-332",
        "MyfacesConfig.getCurrentInstance not thread safe If getCurrentInstance decides to create a new  MyFacesConfig, it sets it before filling in the values.  This is obviously not thread safe.\n\nWith the current MyFaces implementations getting/setting the config is eventually done on the ServletContext obtained from the web container.  AFAICT the servlet spec doesn't say anything about whether access to ServletContext attributes is synchronized, but the jetty6 implementation does synchronize the get/set methods.  If this is generally understood to be a requirement, the getCurrentInstance method can be made thread safe by setting the new instance to after it is all filled in rather than before.  Otherwise additional synchronization would be needed.",
        "Error on getting renderer for HtmlTree2 In the code:\n\nRenderer r = rk.getRenderer(comp.getFamily(), comp.getRendererType());\n\nwhen comp is a org.apache.myfaces.custom.tree2.HtmlTree the renderer returns null, because comp.getRendererType() is \"org.apache.myfaces.Tree2\" and the correct is \"org.apache.myfaces.HtmlTree2\""
    ],
    [
        "MYFACES-1959",
        "MYFACES-1776",
        "Add missing javax.faces.event Classes & Interfaces ",
        "f:view tag throws classcast exception if locale attribute is used on a portal page <f:view locale=\"sl\"> on a faces portlet page throws ClassCastException, trace below:\n\n22:14:11,203 ERROR [jsp:52] java.lang.ClassCastException: com.liferay.portlet.RenderRequestImpl cannot be cast to javax.servlet.ServletRequest\n\tat org.apache.myfaces.taglib.core.ViewTag.setProperties(ViewTag.java:238)\n\tat javax.faces.webapp.UIComponentTag.findComponent(UIComponentTag.java:539)\n\tat javax.faces.webapp.UIComponentTag.doStartTag(UIComponentTag.java:315)\n\tat org.apache.myfaces.taglib.core.ViewTag.doStartTag(ViewTag.java:73)\n\tat org.apache.jsp.welcome_jsp._jspService(welcome_jsp.java:138)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:97)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:332)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:314)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:264)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:802)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672)\n\tat org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:574)\n\tat org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:499)\n\tat com.liferay.portlet.PortletRequestDispatcherImpl.include(PortletRequestDispatcherImpl.java:242)\n\tat com.liferay.portlet.PortletRequestDispatcherImpl.include(PortletRequestDispatcherImpl.java:83)\n\tat org.apache.myfaces.context.portlet.PortletExternalContextImpl.dispatch(PortletExternalContextImpl.java:167)\n\tat org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:175)"
    ],
    [
        "MYFACES-1597",
        "MYFACES-816",
        "In inputTextarea, pass thru attributes \"cols\" and \"rows\" should not be rendered if they are not set Do not render rows and cols if the value of these attributes is not set",
        "Tiles Hi!\n\nWell I have tryed million different way but with Tiles commandButton does'nt work. It kind of \"eating\" events.\nWhen I remove Tiles from faces-config.xml all navigation, submitting works perfectly. \nBut when I include Tiles there are no action events :( Specially with buttons.\n\n\nForm is typical jsf form: (userList.jsp)\n<f:view>\n        <h:form id=\"frmUserList\">   \n            <h:panelGrid columns=\"2\">\n                <h:outputText id=\"lblName\" value=\"First name\"/>\n                <h:inputText id=\"fldName\" value=\"#{userList.firstName}\"/>\n                <h:outputText id=\"lblLast\" value=\"Last name\"/>\n                <h:inputText id=\"fldLast\" value=\"#{userList.lastName}\"/>                          \n           </h:panelGrid>        \n           <h:commandButton id=\"cmdFind\" value=\"Find\" styleClass=\"button10\" action=\"#{userList.onSearchUser}\"/>\n        </h:form>\n</view>\n\n(tiles.xml)\n <tiles-definitions>\n        <!-- define main template, witch is used for default showing-->\n        <definition name=\"layout\" path=\"/template/main_template.jsp\">\n            <put name=\"menu\" value=\"/template/menu.jsp\"/><!-- panel for showing meny -->\n        </definition>        \n       <definition name=\"/user/userList.tiles\" extends=\"layout\">\n            <put name=\"body\" value=\"/user/userList.jsp\"/>\n        </definition>\n...\n</tiles-definitions>\n\nAnd my faces config is:\n....\n        <view-handler>org.apache.myfaces.application.jsp.JspTilesViewHandlerImpl</view-handler>\n....\n <navigation-rule>\n        <description>\n            Navigation rules for navigation component.\n        </description>\n        <from-view-id>*</from-view-id>\n        <navigation-case>\n            <from-outcome>go_userList</from-outcome>\n            <to-view-id>/user/userList.jsp</to-view-id>\n        </navigation-case>\n        <navigation-case>\n            <from-outcome>go_userEdit</from-outcome>\n            <to-view-id>/user/usrEdit.jsp</to-view-id>\n        </navigation-case>\n    </navigation-rule>\n    \nPlease help me I'm kind a desperate."
    ],
    [
        "MYFACES-3363",
        "MYFACES-2159",
        "Enable checkstyle checks by default in our myfaces-parent pom  I've now seen a lot MyFaces projects which have wrong or none checkstyle reports activated.\r\nThis - amongst others - also checks for proper License headers in our files - thus this is a mandatory step in our build process!\r\n\r\nI'll go forward and enable the standard checks in our parent pom 11-SNAPSHOT.\r\n\r\nProjects which already have the maven-checkstyle-plugin properly configured with their own settings (like tobago) will not be affected.\r\nThis will only 'bite' the projects which did no checkstyle checks at all!",
        "Update myfaces builder plugin to use Qdox 1.9 There are some bugs present on qdox 1.6.3 that affects myfaces-builder-plugin. There exists a new version of qdox (1.9) so we can update this dependency and solve this problems."
    ],
    [
        "MYFACES-2082",
        "MYFACES-2664",
        "id attribute for html components on JSF 1.2 could be set via an rtexprvalue (but not by a ValueExpression) Checking the javadoc of jsf ri 1.2 mr 1 tld, On all html components and some core components that extends from UIComponent but HtmlColumn, request time is set to true, so the value in its tld for id in rtexprvalue is true.\n\nThis problem can be seen because facelets assume this behavior, so when using html component on facelets, you can set the id the first request using a EL Expression (it is calculated only once).\n\nThe solution is set the default value of id for rtexprvalue to true",
        "need to attach a UIViewRoot to FacesContext during startup/shutdown According to the javadoc for FacesContext.getViewRoot():\r\n\r\nIt is valid to call this method during application startup or shutdown. If called during application startup or shutdown, this method returns a new UIViewRoot with its locale set to Locale.getDefault()."
    ],
    [
        "MYFACES-3004",
        "MYFACES-3061",
        "prerenderView system event callback only triggered in certain cases Following scenario, two pages with implicit navigation. A prerender view system event handler set over \r\n  <h:head>\r\n        <title>Facelet Title</title>\r\n        <f:metadata>\r\n            <f:event listener=\"#{pageHandler.prerender}\" type=\"preRenderView\" />\r\n        </f:metadata>\r\n    </h:head>\r\n\r\nNow the prerender event is called:\r\na) if I go via http get into the page\r\nb) If I execute actions which stay on the page\r\n\r\nThe event handler however is not called\r\nif I navigate into the page via an implicit (maybe also explicit) navigation case.\r\n\r\nA quick test revealed that the event handler is called in three cases in mojarra and I assume our behavior is faulty\r\nand the behavior from mojarra is the one compliant to the spec.\r\nI am setting the priority to major because the prerenderview event is very important in certain app classes which use callbacks to this event\r\nto deal with auto display mechanisms and with data loading in certain app states.\r\n\r\n\r\n\r\nHere is the complete example:\r\n\r\npage1:\r\n<?xml version='1.0' encoding='UTF-8' ?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\">\r\n    <h:head>\r\n        <title>Facelet Title</title>\r\n        <f:metadata>\r\n            <f:event listener=\"#{pageHandler.prerender}\" type=\"preRenderView\" />\r\n        </f:metadata>\r\n    </h:head>\r\n    <h:body>\r\n        <h:form>\r\n        Hello from Facelets\r\n        <h:commandLink action=\"page2\" value=\"page2\"/>\r\n\r\n        </h:form>\r\n    </h:body>\r\n</html>\r\n\r\n\r\npage2:\r\n<?xml version='1.0' encoding='UTF-8' ?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\">\r\n    <h:head>\r\n        <title>Facelet Title</title>\r\n    </h:head>\r\n    <h:body>\r\n        <h:form>\r\n            Hello from Facelets\r\n            <h:commandLink action=\"page1\" value=\"go to page 1\" />\r\n        </h:form>\r\n    </h:body>\r\n</html>\r\n\r\n\r\n\r\nand the corresponding bean:\r\n@ManagedBean\r\n@RequestScoped\r\npublic class PageHandler {\r\n\r\n    public void prerender() {\r\n        System.out.println(\"Prerender View\");\r\n    }\r\n\r\n}\r\n",
        "Failure rendering the whole page by ajax due to ui:debug  The following code:\r\n\r\n\r\n<h:head>\r\n</h:head>\r\n\r\n<h:body>\r\n\t<h:form>\r\n\t\t<ui:debug />\r\n\r\n\t\t<h:commandLink value=\"Ajax\">\r\n\t\t\t<f:ajax render=\"@all\" />\r\n\t\t</h:commandLink>\r\n\t</h:form>\r\n</h:body>\r\n\r\nFails to update page correctly in Chrome browser."
    ],
    [
        "MYFACES-2712",
        "MYFACES-1046",
        "Copy codehaus javascript plugin code and incorporate into myfaces-javascript-plugin Since there is no release of codehaus javascript-maven-plugin, and we don't know when it could be one, it becomes necessary to copy the code and include it into myfaces-javascript-plugin (which has original trinidad compressor).\r\n\r\nFortunately, the code at codehaus is licensed with ASL  v 2.0, so we can use it without problem. In this case, we are only interested in import yuicompressor.",
        "h:selectOneRadio renders two closing tr tags per item The h:selectOneRadio tag with pageDirection layout will be rendered as an HTML table having two closing tr tags per item.\nThis causes serious rendering problems in Firefox.\n\nExample:\n    <h:selectOneRadio\n      layout=\"pageDirection\"\n      value=\"1\">\n\n      <f:selectItem\n        itemValue=\"1\"\n        itemLabel=\"One\" />\n      <f:selectItem\n        itemValue=\"2\"\n        itemLabel=\"Two\" />\n\n    </h:selectOneRadio>\n\nResults in\n<table>\t\t<tr><td><label><input type=\"radio\" name=\"_id0\" checked=\"checked\" value=\"1\" />&#160;One</label></td></tr></tr>\t\t<tr><td><label><input type=\"radio\" name=\"_id0\" value=\"2\" />&#160;Two</label></td></tr></tr></table>\n"
    ],
    [
        "MYFACES-645",
        "MYFACES-2425",
        "Extended class org.apache.myfaces.util.MessageUtils to pass also resourceBundles to get Messages MessageeUtils class should have addition methods to get the ability to pass also an individual resourcebundle to use it also in projects loading messages from different locations.",
        "JSTL Functions returns null instead \"\" This functions must check for null or not valid values and correct it before call the real ones. Also, it is necessary to fix escapeXML function."
    ],
    [
        "MYFACES-3527",
        "MYFACES-3766",
        "ajax update of composite component within an ui:repeat doesn't work state of composite components is not saved within ui:repeat.\r\n\r\nsee mailing list: \r\nhttp://markmail.org/message/xfl65uuriwjgvf6j?q=ajax+update+composite+component+ui:repeat+list:org%2Eapache%2Emyfaces%2Eusers",
        "javax.faces.model.SelectItem should implement equals and hashCode Adding SelectItem objects to a Set (instead of a List) does NOT remove duplicate items."
    ],
    [
        "MYFACES-3656",
        "MYFACES-3408",
        "ViewScoped bean fails when SERIALIZE_STATE_IN_SESSION is set to true My beans are defined as follows:\r\n\r\n   <managed-bean>\r\n\t\t<managed-bean-name>appManagerBean</managed-bean-name>\r\n\t\t<managed-bean-class>com.ibm.ws.jsf.beans.AppManagerBean</managed-bean-class>\r\n\t\t<managed-bean-scope>application</managed-bean-scope>\r\n\t</managed-bean>\r\n     \r\n\t<managed-bean>\r\n\t\t<managed-bean-name>emailBean</managed-bean-name>\r\n\t\t<managed-bean-class>com.ibm.ws.jsf.beans.EmailBean</managed-bean-class>\r\n\t\t<managed-bean-scope>session</managed-bean-scope>\r\n\t</managed-bean>\r\n    <managed-bean>\r\n        <managed-bean-name>viewScopedBean</managed-bean-name>\r\n        <managed-bean-class>com.ibm.ws.jsf.beans.ViewScopedManagedBean</managed-bean-class>\r\n        <managed-bean-scope>view</managed-bean-scope>\r\n        \r\n        <managed-property>\r\n        \t\t<property-name>emailBean</property-name>\r\n        \t\t<value>#{emailBean}</value>\r\n    \t\t</managed-property>\r\n\t    \t<managed-property>\r\n        \t\t<property-name>appManagerBean</property-name>\r\n        \t\t<value>#{appManagerBean}</value>\r\n    \t\t</managed-property>\r\n          \r\n    </managed-bean>\r\n\r\nI've provided an application that reproduces this issue.  To reproduce follow these steps:\r\n\r\n1) install application \r\n2) drive a request into the following URL <host>:<port>/<context-root>/ViewScopeTest1.jsf\r\n3) leave the email field empty\r\n4) press the submit button.\r\n5) you should be taken to the error page\r\n6) the following text should appear in the textArea but it does not \"Invalid Email: Email can Not be empty\"\r\n\r\nThe second test \"ViewScopeTest2.jsf\" is similar it does not contain the binding attribute and just references a value from the ViewScoped bean and the problem can again be reproduced.  \r\n\r\nIt seems as though the AppManager errorMessage field is null but it has not been reset.  I would think that the application scoped bean would still be accessible even though the view scoped bean is out of scope.\r\n\r\nIf you set the SERIALIZE_STATE_IN_SESSION to false and redeploy the application then everything works as expected, which seems odd to me but if you un-comment this from the web.xml you'll see we get the text on the error page as expected.\r\n\r\nI've been working to debug this issue and can't seem to figure out where the problem is in the MyFaces code.  I tested the same application on WAS and Tomcat to ensure that it was not something specific to a server.  It seems as though this is a implementation issue.\r\n\r\nAny help that folks can provide would be greatly appreciated!!  ",
        "ajax behaviour has changed within myfaces-2.1.4 Example site:\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n\txmlns:h=\"http://java.sun.com/jsf/html\"\r\n\txmlns:f=\"http://java.sun.com/jsf/core\"\r\n\txmlns:ui=\"http://java.sun.com/jsf/facelets\">\r\n\t\r\n\t<h:head>\r\n\t\t<title>JSF Test</title>\t\t\r\n\t</h:head>\r\n\r\n\t<h:body>\t\t\r\n\t\t<h:form id=\"testForm\">\r\n\t\t\t<h:commandButton id=\"buttonId\" value=\"click me\">\r\n\t\t\t\t<f:ajax event=\"click\" execute=\"@this\" render=\"textId\" />\r\n\t\t\t</h:commandButton>\r\n\t\t\t<h:outputText id=\"textId\" value=\"Test\" />\r\n\t\t</h:form>\r\n\t</h:body>\r\n</html>\r\n\r\nIf you click the button, the following happens (you can see this if you use the richfaces a4j:log component):\r\nmyfaces-2.1.4:\r\ninfo [20:19:52.375]: Received 'begin' event from <input id=testForm:buttonId ...>\r\ninfo [20:19:52.421]: Received 'beforedomupdate' event from <input id=testForm:buttonId ...>\r\ninfo [20:19:52.453]: Received 'success' event from <input id=testForm:buttonId ...>\r\ninfo [20:19:52.453]: Received 'complete' event from <input id=testForm:buttonId ...>\r\n\r\nbut with myfaces-2.1.3 and mojarra-2.1.4:\r\ninfo [20:23:57.671]: Received 'begin' event from <input id=testForm:buttonId ...>\r\ninfo [20:23:57.828]: Received 'beforedomupdate' event from <input id=testForm:buttonId ...>\r\ninfo [20:23:57.843]: Listing content of response changes element:\r\nElement update for id=testForm:textId\r\n<update id=\"testForm:textId\"><![CDATA[<span id=\"testForm:textId\">Test</span>]]></update>\r\nElement update for id=javax.faces.ViewState\r\n<update id=\"javax.faces.ViewState\"><![CDATA[j0LjX8e0GxCO+29xvrdy2+8Ioe6Fl0/0rxQEZOOH3gbOawFqNemG/u0qOkv8g9mdmT4e8Zt3Qd+VmBXTz7ibVDKOj1kPnFKT+11GTlQ4BRvtRAGk9ioKZSuzhTbGgPwzW+4BMw==]]></update>\r\n\r\n\r\nYou see, that now with myfaces-2.1.4 something goes wrong...\r\nThis new behaviour causes some problems within richfaces. For example the rich:tabPanel component doesn't work correct now, if used in ajax mode."
    ],
    [
        "MYFACES-918",
        "MYFACES-2154",
        "View State is not encrypted Just by looking at the source of Myfaces I noticed that the view state is not encrypted before it is sent to the client. It is just gzip-ped and then Base64-ed. This is a major security issue as:\n1.  any tech savvy java user can tamper it. \n2. it is susceptible to the man-in-the-middle attacks\nThe later prevents the usage of myfaces on publicly accessible web sites with state saving method client (i.e. most of the cluster installations). Moreover in the jsr it is clearly written that the view state have to be encrypted to guarantee the application security.\n\n",
        "mobile internet explorer version 6.12 issue Tobias Br\u00e4uer reported the following issue:\n\nHello,\nThere is a problem with mobile internet explorer version 6.12 and\nmyfaces. The browser sends a \"Accept:\napplication/vnd.wap.mms-message;*/*\". We solved that problem by adding\nthe following code in the class\norg.apache.myfaces.shared_impl.renderkit.html.HtmlRendererUtils at\nline 1619. If used with tomahawk, the same fix is needed there.\n\nI have no idea how your community process works, but feel free to add\nthe code to your repository.\n\n               if (contentTypeListString == null) {\n                       FacesContext context = FacesContext.getCurrentInstance();\n                       if (context != null) {\n                               contentTypeListString = (String) context.getExternalContext()\n                                               .getRequestHeaderMap().get(\"Accept\");\n                               // There is a windows mobile IE client (6.12) sending\n                               // \"application/vnd.wap.mms-message;*/*\"\n                               // This is a workaround ...\n                               if (contentTypeListString\n                                               .startsWith(\"application/vnd.wap.mms-message;*/*\")) {\n                                       contentTypeListString = \"*/*\";\n                               }\n                       }\n\n                       if (contentTypeListString == null) {\n                               if (log.isDebugEnabled())\n                                       log\n                                                       .debug(\"No content type list given, creating\nHtmlResponseWriterImpl with default content type.\");\n\n                               contentTypeListString = HTML_CONTENT_TYPE;\n                       }\n               }\n\n\n\nCheers,\n\nTobias Br\u00e4uer\n"
    ],
    [
        "MYFACES-402",
        "MYFACES-2988",
        "Can't put f:param or f:attribute tag nest in CommandButton I want put f:param or f:attribute inside CommandButton, but it return nothing. I can't find define form.elements[param]=value javascipt in CommandButton that exist in commandLink ",
        "add el-api dependency to myfaces 2.0 archetypes The following maven dependency is needed in order to use ValueExpression and MethodExpression in the code:\r\n\r\n<dependency>\r\n    <groupId>javax.el</groupId>\r\n    <artifactId>el-api</artifactId>\r\n    <version>1.0</version>\r\n    <scope>provided</scope>\r\n</dependency>"
    ],
    [
        "MYFACES-1079",
        "MYFACES-750",
        "The page rendere a 'null' string at bottom of all pages. My project use the jscookMenu, then when I just configured the MyFaces Extension Filter, is rendered a 'null' string at bottom of all pages.... right before the </body> tag, like this \n\nnull</body>\n\nMartin Marinschek <martin.marinschek@gmail.com> tell me to report this issue and warning and assign Bruno\nAranda about it...\n",
        "Need synchronization in LifecycleImpl Getting this exception when removing a bean as a listener:\njava.util.ConcurrentModificationException\n at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:462)\n at java.util.AbstractList$Itr.next(AbstractList.java:433)\n at java.util.AbstractCollection.remove(AbstractCollection.java:268)\n at org.apache.myfaces.lifecycle.LifecycleImpl.removePhaseListener(LifecycleImpl.java:411)\n at com.erac.riskmgmt.ice.web.AbstractPageBean.afterPhase(AbstractPageBean.java:128)\n\nThe method call at AbstractPageBean:128 is getLifecycle().removePhaseListener(this);\n\n  protected Lifecycle getLifecycle() {\n    String lifecycleId = getExternalContext().getInitParameter(\"javax.faces.LIFECYCLE_ID\");\n    if ((lifecycleId == null) || (lifecycleId.length() == 0)) {\n      lifecycleId = LifecycleFactory.DEFAULT_LIFECYCLE;\n    }\n\n    LifecycleFactory lifecycleFactory = (LifecycleFactory) FactoryFinder.getFactory(\n        FactoryFinder.LIFECYCLE_FACTORY);\n\n    return lifecycleFactory.getLifecycle(lifecycleId);\n  }\n\nBasically what's happening from a request perspective is that we have a custom ViewHandler that creates the backing bean that's registered for a given view id (custom registry using a HashMap that's created as a managed bean and maintained manually in faces-config).  When the backing bean is created it adds itself as a listener and when the AFTER RENDER_RESPONSE is executed the bean removes itself as a listener (as above at line 128 in AbstractPageBean).  No problems are observed in low-load situations, but when we sent the application to benchmarking simulating ~200 \"concurrent\" users we noticed this problem.  It looks like easiest fix is to synchronize the array list on adding and removing listeners (currently we've worked around this by using an external lock to synchronize add/remove calls from our AbstractPageBean).\n\nHowever, It looks like there is also a potential problem with the call to getPhaseListeners() in that it creates a cached array that's later copied back into a *new* ArrayList in addPhaseListener(...) and removePhaseListener(...).  Since there is no synchronization if someone called getPhaseListeners() and then two/N different threads tried to add listeners 1..N listeners could be lost (all would check for a null _phaseListenerList and multiple threads could potentially attempt to create a new _phaseListenerList and add/remove the PhaseListener) -- of course the converse problem would be that two/N different threads tried to remove phase listeners and the 1..N listeners would not be removed (they would be recopied in on another thread).\n\nWhat would simplify this whole business greatly would be to remove the cached list and simply synchronize on the ArrayList on the add/remove/getListeners:\n\n    public void addPhaseListener(PhaseListener phaseListener)\n    {\n        if(phaseListener == null)\n        {\n            throw new NullPointerException(\"PhaseListener must not be null.\");\n        }\n       \n// create _phaseListenerList at class scope -- so no more null-checks for it\n        synchronized(_phaseListenerList) {\n        _phaseListenerList.add(phaseListener);\n        }\n    }\n\n    public void removePhaseListener(PhaseListener phaseListener)\n    {\n        synchronized(_phaseListenerList) {\n        _phaseListenerList.remove(phaseListener);\n        }\n    }\n\n    public PhaseListener[] getPhaseListeners()\n    {\n        synchronized(_phaseListenerList) {\n                return  (PhaseListener[])_phaseListenerList.toArray(new PhaseListener[_phaseListenerList.size()]);\n         }\n    }"
    ],
    [
        "MYFACES-1539",
        "MYFACES-3134",
        "Replaced _link_hidden with idcl In the MyFaces-generated JavaScript for links, the parameter for saving the id of the link  has been changed from:\n\n_link_hidden\n\nto \n\n_idcl\n\nThis was necessary to increase compatibility with the RI 1.1 - without the change, t:commanLink elements wouldn't work with the RI.  Please change your javascript-code accordingly, if you program against this implementation dependent parameter.\n\nregards,\n\nMartin",
        "Move all code related to state caching into one place It is necessary to do some cleanup and add more junit tests to state saving code in MyFaces. \r\n\r\nFor PSS code, we just copied some parts of the original algorithm found on JspStateManagerImpl because just PSS was a very challenging task and the intention was prevent break existing code.\r\n\r\nBut now we have a stable code in this part, so it is the right moment to do some cleanup and then change the code to fit user's needs."
    ],
    [
        "MYFACES-3999",
        "MYFACES-3263",
        "Contextual Instance lookup code is broken Our CDI instance lookup code is wrong. We must not simply put the first instance from the iterator but use BeanManager#resolve etc to get it.",
        "[perf] [concurrency] improve concurrency in resource dependency processing 1) <BLOCKED> java.util.Collections$SynchronizedMap.containsKey(Object)\t\r\n   java.lang.reflect.Proxy.isProxyClass(Class)\r\n      sun.reflect.annotation.AnnotationInvocationHandler.asOneOfUs(Object)\r\n         sun.reflect.annotation.AnnotationInvocationHandler.equalsImpl(Object)\r\n            sun.reflect.annotation.AnnotationInvocationHandler.invoke(Object, Method, Object[])\r\n               $Proxy272.equals(Object)\r\n                  java.util.HashMap.getEntry(Object)\r\n                     java.util.HashMap.containsKey(Object)\r\n                                o.a.m.context.RequestViewContext.isResourceDependencyAlreadyProcessed(ResourceDependency)\t\r\n\r\n\r\n2) <BLOCKED>  java.lang.Class.initAnnotationsIfNecessary()\r\n   java.lang.Class.getAnnotation(Class)\r\n      org.apache.myfaces.application.ApplicationImpl._handleAttachedResourceDependencyAnnotations(FacesContext, Object)\t\r\n\r\nad 1) consider IdentityHashMap - (how is specified equals() for annotation ?)\r\n\r\nad2) ApplicationImpl has _classToResourceDependencyMap already - use it?"
    ],
    [
        "MYFACES-1860",
        "MYFACES-2018",
        "valueChangeListener problematic behavior I know this is probably a known issue, and it is a matter of specification, but still, I think it is an annoying issue that makes jsf impossible in the simplest cases:\nSuppose there is a simple dropdown with 2 values: 1, 2. The selected value is set to: 1 (in the bean constructor or in faces-config).\nSomething like this:\n            <h:selectOneMenu value=\"#{cmp_browse.selectedPage}\" onchange=\"submit();\"\n                             valueChangeListener=\"#{cmp_browse.gotoPageAction}\">\n              <f:selectItems value=\"#{cmp_browse.pages}\" />\n            </h:selectOneMenu>\n\nNow, when changing the value from 1 to 2, the event will be fired. But, when changing the value from 2 to 1, no event is fired.\nIt is clear why event was not fired: initial value is 1, newly changed value is also 1. No event fired.\nBut, logically it is wrong, since I did changed the dropdown value from 2 to 1.\nIn plain old JSP programming, this was so easy to accomplish task (reacting to some change in dropdown and doing some action), that becomes very annoying in JSF.\n\nI know one would say: what is the problem? change the scope of the bean to session. I don't accept this solution and generally I almost never work with session scoped beans. I don't see any reason starting to fill the user session with tons of data in order to solve simple problems (in general, I don't like to put information that is not really required in the session).",
        "Implement @ResourceDependency support for setConverter and addValidator JSF 2.0 requires support of @ResourceDependency and @ResourceDependencies when a Converter is set on a ValueHolder or a Validator is added to an EditableValueHolder. The support should be added to the base implementation of those classes, UIOutput and UIInput."
    ],
    [
        "MYFACES-2468",
        "MYFACES-1644",
        "MyFaces needs to support adding a <view-handler> in faces-config.xml The JSF-2 spec defines the <view-handler> tag to enable alternate VDLs via faces-config.xml.\r\n\r\nSince there is almost no component library out there which works with the built-in facelets-2 VDL, this is a showstopper for a lot scenarios:\r\n\r\nThe way I need to use it (tried running RichFaces-3.3.3, Trinidad and PrimeFaces-2.0.CR1) :\r\n\r\nin web.xml:\r\n<context-param>\r\n   <param-name>javax.faces.DISABLE_FACELET_JSF_VIEWHANDLER</param-name>\r\n   <param-value>true</param-value>\r\n</context-param>\r\n\r\nand in faces-config.xml:\r\n<application>\r\n   <view-handler>com.sun.facelets.FaceletViewHandler</view-handler>\r\n</application>\r\n\r\n",
        "API signature error with UIComponentTagBase JSF 1.2 javadoc for UIComponentTagBase requires \n\nprotected static Logger log = Logger.getLogger(\"javax.faces.webapp\");"
    ],
    [
        "MYFACES-897",
        "MYFACES-1270",
        "tree2 'illogical state' The attached stack trace results when clicking on links that wrap the images/line-last.gif image for tree2.\n\n<t:tree2 showRootNode=\"false\" id=\"tree\" value=\"#{officeTreeBacker.tree}\" var=\"node\" varNodeToggler=\"t\" preserveToggle=\"true\" clientSideToggle=\"false\">\n\nThis does not happen when clicking the node label (child of a facet), but rather when you click about 10 pixels to the left.\n\n\n ",
        "Hot deployment in exploded mode is broken due to FacesConfigurator We at HanseMerkur insurances are currently working with MyFaces to for creating web applications. Unfortunately, the hot deployment of an exploded web archiv does not work. This is very annoying is using the deployment features of MyEclipse because we always have to restart the JBoss apllication server. I have tried the same using Tomcat standalone, and the same thing happens.\n\nI have nailed down the problem to the class FacesConfigurator, and there to the call of URL.openStream() in the method feedClassloaderConfigurations(). This call opens a Stream of an already open jar-archiv (Tomcat always opens up the jar files during startup of an application). Later the stream is closed, but at least if running under j2sdk 1.5.0_04, the closing does not work. When trying to undeploy the application, there is still an open file handle and the jar file cannot be removed. You can reproduce this behaviour by deploying one of the myfaces examples to a running Tomcat and then undeploying it. You will end up with some jar files in the WEB-INF/lib directory.\n\nI am not very sure which component (myfaces, tomcat, or even java) causes this failure, but I found a way to work around it:\n\nInstead of simply calling\n                InputStream stream = url.openStream();\nyou can open the stream without using a cache by saying\n                URLConnection connection = url.openConnection();\n                connection.setUseCaches(false);\n                InputStream stream = connection.getInputStream();\n\nOlaf Fricke\nHanseMerkur Versicherungen\n"
    ],
    [
        "MYFACES-88",
        "MYFACES-3657",
        "HtmlSelectOneListbox provides the wrong default value for size According to Sun's TLD, the <h:selectOneListbox /> tag should default the rendered HTML <select> tag's size attribute to the number of SelectItem children.  Currently, however, if the size attribute is not specified on the tag, HtmlSelectOneListbox returns Integer.MIN_VALUE as a default.  This causes problems in the renderer, as it only changes the size attribute to the number of SelectItem children if getSize() returns 0.\n\nThus, the DEFAULT_SIZE constant on HtmlSelectOneListbox should be set to 0.\n\nAttached is a fix.",
        "2.2 branch: checkstyle violation prevents compile We have a checkstyle violation in our 2.2 branch impl, this needs to be fixed"
    ],
    [
        "MYFACES-2556",
        "MYFACES-3629",
        "FaceletViewDeclarationLanguage should use javax.faces.event.ActionEvent instead of java.awt.event.ActionEvent Testing the actionListener attribute on a composite component I noticed that the invocation does not work. Debugging the error I found out that MethodExpressionActionListener.processAction() gets a MethodNotFoundException because the wrong ActionEvent class is used when creating the MethodExpression in FaceletViewDeclarationLanguage.retargetMethodExpressions().",
        "StartupServletContextListener crashes if FacesServlet is defined in web-fragments. I'm trying to move all my common web.xml content from my 12 webapps in an EAR into a web-fragment.xml which gets referenced.\r\n\r\nMyFaces fails with the following Exception if the FacesServlet is defined in a web-fragment rather than web.xml:\r\n\r\n\r\n>If you did that and find nothing, the mistake might be due to the fact that you use some special  \r\n>web-containers which do not support registering context-listeners via TLD files and a context listener is not \r\n> setup in your web.xml.\r\n> A typical config looks like this;\r\n> <listener>\r\n>  <listener-class>org.apache.myfaces.webapp.StartupServletContextListener</listener-class>\r\n> </listener>\r\n\r\nIn general the StartupServletContextListener defined in JSF-2.1 is pure PITA as it does crash apps which do not have any JSF content at all!.\r\n\r\nWe should scan if we either find a faces-config.xml or any *.xhtml files in the app and if not we shall not start JSF."
    ],
    [
        "MYFACES-2468",
        "MYFACES-820",
        "MyFaces needs to support adding a <view-handler> in faces-config.xml The JSF-2 spec defines the <view-handler> tag to enable alternate VDLs via faces-config.xml.\r\n\r\nSince there is almost no component library out there which works with the built-in facelets-2 VDL, this is a showstopper for a lot scenarios:\r\n\r\nThe way I need to use it (tried running RichFaces-3.3.3, Trinidad and PrimeFaces-2.0.CR1) :\r\n\r\nin web.xml:\r\n<context-param>\r\n   <param-name>javax.faces.DISABLE_FACELET_JSF_VIEWHANDLER</param-name>\r\n   <param-value>true</param-value>\r\n</context-param>\r\n\r\nand in faces-config.xml:\r\n<application>\r\n   <view-handler>com.sun.facelets.FaceletViewHandler</view-handler>\r\n</application>\r\n\r\n",
        "<t:dataScroller> does not scroll <t:dataTable>, if using in Combination with the JspTilesViewHandlerImpl for Tiles Support <t:dataScroller> does not scroll <t:dataTable>, if using in Combination with the JspTilesViewHandlerImpl for Tiles Support.\n\nFuthermore I think an ActionListener doesn't work too, in Combination with the JspTilesViewHandlerImpl for Tiles Support.\n"
    ],
    [
        "MYFACES-2678",
        "MYFACES-2536",
        "Problems with navigation case ordering Depending on how navigation cases are ordered, we may select an incorrect navigation case.",
        "converterId and validatorId should not be required With JSF 2.0 attributes converterId resp. validatorId (tags f:converter resp. f:validator) aren't required. See:\r\nhttps://javaserverfaces.dev.java.net/nonav/docs/2.0/pdldocs/facelets/f/converter.html\r\nhttps://javaserverfaces.dev.java.net/nonav/docs/2.0/pdldocs/facelets/f/validator.html\r\n\r\n\r\n"
    ],
    [
        "MYFACES-72",
        "MYFACES-1767",
        "HtmlSelectOneRadio does not correctly validate the required case If an HtmlSelectOneRadio does not initially have a value, none of its options are initially rendered as selected.  If none are selected and a form submit occurs IE 6 (possibly others browsers?) does not submit any name/value pair for that input.  In the renderer, this is just ignored, and no error is thrown.  It would probably be best to put logic in the renderer to account for this case.\n\nI can do this, but I wanted opinions on the issue before I wrote the fix.",
        "h:messages generates style property as styleClass propery.  For this fregment:\n------------------------\n<h:messages globalOnly=\"true\" styleClass=\"error_message\" style=\"width:0px\" layout=\"table\" />\n\nThis is the HTML that is being produced:\n--------------------------------------------------------\n<table><tr><td><span style=\"error_message\" class=\"error_message\">Total % Audience should be 100% or 0%</span></td></tr></table>\n\nSeems like style is sharing same property with styleClass."
    ],
    [
        "MYFACES-2078",
        "MYFACES-1482",
        "Implement tag ui:include  Create tag ui:include for Facelets",
        "alternate NavigationHandler to support viewIds as outcome Provide an alternative NavigationHandler Implementation that checks if an outcome\nfor which no navigation Case could be identifiied matches a viewId and navigates\nto that viewId"
    ],
    [
        "MYFACES-2658",
        "MYFACES-3430",
        "Indicate a better error when using Facelet TAGs on JSP(X) pages when running on JSP(X) and using (by accident) some \"facelets only tags\", like \"outputScript\", you get (correctly) an error.\r\n\r\n\r\nHowever the error is ugly and (on first hand) not really meaningful:\r\n\r\nSEVERE: An exception occurred\r\njavax.faces.FacesException: org.apache.jasper.JasperException: PWC6143: No tag \"outputScript\" defined in tag library associated with uri \"http://java.sun.com/jsf/html\"\r\n\tat org.apache.myfaces.shared_impl.context.ExceptionHandlerImpl.wrap(ExceptionHandlerImpl.java:241)\r\n\tat org.apache.myfaces.shared_impl.context.ExceptionHandlerImpl.handle(ExceptionHandlerImpl.java:156)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:222)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:191)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl._doFilterImpl(TrinidadFilterImpl.java:247)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl.doFilter(TrinidadFilterImpl.java:157)\r\n\tat org.apache.myfaces.trinidad.webapp.TrinidadFilter.doFilter(TrinidadFilter.java:92)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.apache.myfaces.trinidaddemo.webapp.RedirectFilter.doFilter(RedirectFilter.java:97)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:536)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:915)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:405)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\nCaused by: org.apache.jasper.JasperException: PWC6143: No tag \"outputScript\" defined in tag library associated with uri \"http://java.sun.com/jsf/html\"\r\n\tat org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:89)\r\n\tat org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:375)\r\n\tat org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:210)\r\n\tat org.apache.jasper.compiler.JspDocumentParser.parse(JspDocumentParser.java:260)\r\n\tat org.apache.jasper.compiler.ParserController.doParse(ParserController.java:224)\r\n\tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:140)\r\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:435)\r\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:608)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:360)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:486)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:380)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:820)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:390)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:327)\r\n\tat org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:126)\r\n\tat org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:438)\r\n\tat javax.faces.context.ExternalContextWrapper.dispatch(ExternalContextWrapper.java:68)\r\n\tat javax.faces.context.ExternalContextWrapper.dispatch(ExternalContextWrapper.java:68)\r\n\tat org.apache.myfaces.trinidadinternal.context.FacesContextFactoryImpl$OverrideDispatch.dispatch(FacesContextFactoryImpl.java:271)\r\n\tat org.apache.myfaces.view.jsp.JspViewDeclarationLanguage.buildView(JspViewDeclarationLanguage.java:101)\r\n\tat org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:103)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:207)\r\n\t... 25 more\r\nCaused by: org.xml.sax.SAXException: PWC6143: No tag \"outputScript\" defined in tag library associated with uri \"http://java.sun.com/jsf/html\"\r\n\tat org.apache.jasper.compiler.JspDocumentParser.parseCustomAction(JspDocumentParser.java:1199)\r\n\tat org.apache.jasper.compiler.JspDocumentParser.startElement(JspDocumentParser.java:445)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:377)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2747)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:807)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:107)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522)\r\n\tat javax.xml.parsers.SAXParser.parse(SAXParser.java:395)\r\n\tat org.apache.jasper.compiler.JspDocumentParser.parse(JspDocumentParser.java:219)\r\n\t... 49 more\r\n",
        "org.apache.myfaces.shared.resource. ResourceImpl: PushbackInputStream delegate is not closed ALL VERSIONS.\r\n\r\nPushbackInputStream delegate is not closed, so we get  \"too many open files\" on Linux -platform.\r\nOur Total File Descriptors For System is 8000.\r\n\r\nPushbackInputStream delegate is used when reading stylesheet files (.css -files \"text/css\" -content type).\r\nUsed in JSF2 <h:outputStylesheet/> -tag.\r\n\r\nADD Stream closing...\r\nprivate class ValueExpressionFilterInputStream extends InputStream\r\n{\r\n...\r\n        /**\r\n         * PushbackInputStream delegate MUST BE CLOSED or you will get \"too many open files\" on Linux-platform\r\n         */\r\n        @Override\r\n        public void close( ) throws IOException {\r\n        \tdelegate.close();\r\n        \t//System.out.println( \"EYECATCHER. \" + getClass( ).getSimpleName( ) + \".close called\" );\r\n        }\r\n\r\n"
    ],
    [
        "MYFACES-30",
        "MYFACES-130",
        "IndexOutOfBoundsException using XSNamespaceItem.getComponents with objectType set to XSTypeDefinition.SIMPLE_TYPE The concrete class, XSSchemaGrammar defines a table named GLOBAL_COMP which contains only 14 elements whereas it should contain 16 elements (Facet and MultiValuesFacet are missing as it is done in XSModelImpl).",
        " x:selectManyCheckbox  , if is not items selected, i have NullPointerException java.lang.NullPointerException\n        at org.apache.myfaces.renderkit._SharedRendererUtils.getConvertedUISelectManyValue(_SharedRendererUtils.java:118)\n        at org.apache.myfaces.renderkit.RendererUtils.getConvertedUISelectManyValue(RendererUtils.java:792)\n        at org.apache.myfaces.renderkit.html.HtmlCheckboxRendererBase.getConvertedValue(HtmlCheckboxRendererBase.java:260)\n        at javax.faces.component.UISelectMany.getConvertedValue(UISelectMany.java:296)\n        at javax.faces.component.UIInput.validate(UIInput.java:291)\n        at javax.faces.component.UISelectMany.validate(UISelectMany.java:285)\n        at javax.faces.component.UIInput.processValidators(UIInput.java:166)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIForm.processValidators(UIForm.java:66)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:162)\n\nI have checked and error was on file _SharedRendererUtils.java:118 \n  int len = submittedValue.length;\nIs ok to be null ? \n\nCristi"
    ],
    [
        "MYFACES-2549",
        "MYFACES-245",
        "Support for valueChangeListener method without ValueChangeEvent parameter A ValueChangeListener method can now also take no arguments (see javadoc for MethodExpressionValueChangeListener for details)",
        "Temporary directory for the build The default temp dir for the build \nis the environment temp dir.\n\nThis can cause problems especially when cleaning.\n\nEx:\nWhen cleaning some files in the temp dir \ncan be locked creating an error for the target.\n\nI know you may override the property (temp.dir} \nbut i think a better default value should be set.\nMaybe use {env.TEMP}/myfaces ?\n"
    ],
    [
        "MYFACES-2678",
        "MYFACES-2986",
        "Problems with navigation case ordering Depending on how navigation cases are ordered, we may select an incorrect navigation case.",
        "Provide an interface to override how to find spi interfaces This is the last step to solve MYFACES-2944 and MYFACES-2945 problem related to OSGi and SPI. Now it is possible to call \r\n\r\nServiceLoaderFinderFactory.setServiceLoaderFinder(ExternalContext ectx, ServiceLoaderFinder slp)\r\n\r\nor \r\n\r\nServiceLoaderFinderFactory.setServiceLoaderFinder(ServletContext ctx, ServiceLoaderFinder slp)\r\n\r\nJust before initialization to set a ServiceLoaderFinder that will be used later to locate SPI interfaces. In this way, it is possible to provide a code that looks SPI interfaces using OSGi bundles.\r\n"
    ],
    [
        "MYFACES-178",
        "MYFACES-3155",
        "CommandLink and OutputLink need \"Disabled\" attribute The CommandLink and OutputLink need a \"Disabled\" attribute like some of the other components aleady have.  This attribute would prevent an anchor tag from being rendered and instead render plain text.  It would be nice to also have \"DisabledStyle\" and \"DisabledStyleClass\" properties as well.\n\nThere are workarounds for this issue using the \"Rendered\" property, but it is combersome if there are many links that need to be disabled.  \n\nAdding this new property would also be more object oriented approach to this issue and would make the link compnents more consistent with other components that already have a \"Disabled\" property.\n\nIn addition to this issue, I have already created Issue #74 on the JSF public spec Web site. https://javaserverfaces-spec-public.dev.java.net/  I think MyFaces should consider this feature regardles of what the outcome is in the JSF specification.",
        "[perf] reduce (internal) usage of getFacetsAndChildren() Subtask of MYFACES-3130 [PERF] Avoid unnecessary AbstractList$Itr instances.\r\n\r\nMyfaces  use getFacetsAndChildren() iterator for iterating over children in lifecycle methods process(Decodes,Validation,...). \r\n\r\nIn typical scenario, one invocation of getFacetsAndChildren() creates:\r\n1) one instance of iterator from getFacets().values().iterator()\r\n2) one instance of iterator from getChildren().iterator()\r\n3) one instance of _FacetsAndChildrenIterator\r\n\r\nwe can avoid 2) and 3) with index-based iteration over getChildren(). It will also run faster (see MYFACES-3130)."
    ],
    [
        "MYFACES-2756",
        "MYFACES-1943",
        "@JSFProperty has \"inheritTag\" property, and it should be \"inheritedTag\" Doing some stuff on tomahawk, I saw a typo error. The property inheritedTag is used in tomahawk for jsf 1.1 and it is used on very special cases, when it is necessary to override the default code added on a jsp tag. Since in tomahawk for jsf 1.1 we use doclets that code fall \"out of the radar\". The solution is use the same name as in the doclets.\r\n\r\nWith this commit I also added some attributes for @JSFJspProperty.",
        "Implement JSF 2.0 logic at TODO #12 In class: javax.faces.component.UIComponent\nImplement: public List<SystemEventListener> getListenersForEventClass(Class<? extends SystemEvent> eventClass)"
    ],
    [
        "MYFACES-66",
        "MYFACES-1572",
        "Bug report + WAR  file A user (Carsten) mailed my a web apps that show Bugs inside of MyFaces",
        "getFirst() and getRows() methods in UIData don't return correct values UIData data = new UIData();\ndata.setFirst(1);\ndata.getFirst(); // returns 0\ndata.setRows(1);\ndata.getRows();  // returns 0\n\nLooks like there may be a bug in the code generator.  The setFirst() and setRows() methods should be assigning _firstSet=true and _rowsSet=true.   Maybe there is some way to influence this behavior in UIData's template?"
    ],
    [
        "MYFACES-3813",
        "MYFACES-3300",
        "Cleanup org.apache.myfaces.config.impl.digester.elements package The classes at \r\n\r\norg.apache.myfaces.config.impl.digester.elements\r\n\r\nhas the same names as in\r\n\r\norg.apache.myfaces.config.element\r\n\r\nThat becomes a real pain because most of the times you need both the interface and the implementation, and you end up writing the full package name all over the places. We need to fix that and use *Impl suffix for the classes that implement something.",
        "Ajax behavior change from 2.1.1 to 2.1.2 I am currently trying to update some examples to Myfaces 2.1.2 and ran into some ajax related problems. I have a h:selectBooleanCheckbox component that collapses and expands two input fields via f:ajax. There is a value change listener for the checkbox that sets the value internally and calls renderResponse(). In f:ajax, those input fields are also listed in execute to preserve the input the user has potentially made. So far, I had no problems with this solution. The validation for the input fields did not kick in (or did not bother me) and the values were preserved.\r\n\r\nWith 2.1.2 I have two issues:\r\n1) Even if the input values are valid the values in the input fields vanish when they are expanded and collapsed again.\r\n2) Now validation kicks in for invalid values and I get an error message in the browser\r\n\r\nThis works with all older versions I tried (2.0.4, 2.1.0 and 2.1.1).\r\n\r\nWould be interesting to know what really changed here!"
    ],
    [
        "MYFACES-1010",
        "MYFACES-3163",
        "Extended Data Table: Action Event delivered more than one time Hi,\nI'm trying using Tomahawk t:dataTable and it seems to me that its behaviour is very different from the standard  JSF h:dataTable.\nConsider a column which contains a command button and a table with two rows. When the user clicks on the button of the first row, two action events are generated!\n\nFor example, look at this very simple code:\n\n<f:view>\n   <h:form>\n       <h:dataTable value=\"#{testBean.persons}\" var=\"item\" binding=\"#{testBean.uiData}\">\n           <h:column>\n               <h:commandButton value=\"Test\" action=\"#{testBean.test}\"></h:commandButton>\n           </h:column>\n           <h:column>\n               <h:outputText value=\"#{item.name}\"></h:outputText>\n           </h:column>\n           <h:column>\n               <h:outputText value=\"#{item.surname}\"></h:outputText>\n           </h:column>\n       </h:dataTable>\n             <t:dataTable value=\"#{testBean.persons}\" var=\"item\" binding=\"#{testBean.htmlDataTable}\" preserveDataModel=\"false\">\n           <t:column>\n               <h:commandButton value=\"Test\" action=\"#{testBean.test2}\"></h:commandButton>\n           </t:column>\n           <t:column>\n               <h:outputText value=\"#{item.name}\"></h:outputText>\n           </t:column>\n           <t:column>\n               <h:outputText value=\"#{item.surname}\"></h:outputText>\n           </t:column>\n       </t:dataTable>\n   </h:form>\n</f:view>\n\nWhen the user clicks the \"Test\" button of the h:dataTable, the \"testBean.test\" method is executed just one time.\nBut when the user clicks the \"Test\" button of the t:dataTable the \"testBean.test2\" method is executed twice ( or three times if the table has 3 rows, and so on...).\n\nI suppose  that the problem is that the elements of  t:dataTable which belongs to differnt rows have the same ID, and during the processDecode phase the same event is broadcasted more than one time.\nIn fact, this is the html code which is generated by Tomahawk extended datatable:\n\n<table>\n<tbody id=\"_id0:_id8:tbody_element\">\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id8:_id10\" value=\"Test\" /></td>\n<td>John</td>\n<td>Smith</td>\n</tr>\n<tr><td><input type=\"submit\" name=\"_id0:_id8:_id10\" value=\"Test\" /></td>\n<td>Mark</td>\n<td>Greene</td>\n</tr></tbody>\n</table>\n\n\nand this is the html code which is generated by RI h:dataTable:\n\n<table>\n<tbody>\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id1:0:_id3\" value=\"Test\" /></td>\n<td>John</td>\n<td>Smith</td>\n</tr>\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id1:1:_id3\" value=\"Test\" /></td>\n<td>Mark</td>\n<td>Greene</td>\n</tr>\n</tbody>\n</table>\n\n\n\n\n",
        "[perf] review working with SelectItem(s) review methods for performance:\r\n\r\nHtmlRendererUtils.renderSelectOptions\r\nRendererUtils.getSelectItemList\r\nRendererUtils.internalGetSelectItemList\r\n"
    ],
    [
        "MYFACES-2133",
        "MYFACES-3377",
        "The implementation of ResourceHandler must be thread-safe ",
        "unsynchronized lazy initialization could create concurrency errors as seen in \r\norg.apache.myfaces.util.AbstractAttributeMap and\r\norg.apache.myfaces.util.AbstractThreadSafeAttributeMap"
    ]
]