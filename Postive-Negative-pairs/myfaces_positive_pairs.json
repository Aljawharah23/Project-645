[
    [
        "MYFACES-149",
        "MYFACES-130",
        "NullPointerException in \"_SharedRendererUtils.getConvertedUISelectManyValue\" When no selection is made in the selection list the following exception occures:\n\njava.lang.NullPointerException\n\torg.apache.myfaces.renderkit._SharedRendererUtils.getConvertedUISelectManyValue(_SharedRendererUtils.java:183)\n\torg.apache.myfaces.renderkit.RendererUtils.getConvertedUISelectManyValue(RendererUtils.java:792)\n\torg.apache.myfaces.renderkit.html.HtmlListboxRendererBase.getConvertedValue(HtmlListboxRendererBase.java:143)\n\tjavax.faces.component.UISelectMany.getConvertedValue(UISelectMany.java:295)\n\tjavax.faces.component.UIInput.validate(UIInput.java:291)\n\tjavax.faces.component.UISelectMany.validate(UISelectMany.java:284)\n\tjavax.faces.component.UIInput.processValidators(UIInput.java:166)\n\tjavax.faces.component.UIForm.processValidators(UIForm.java:66)\n\tjavax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n\tjavax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:162)\n\torg.apache.myfaces.lifecycle.LifecycleImpl.processValidations(LifecycleImpl.java:208)\n\torg.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:92)\n\tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:109)\n\torg.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:115)\t\n\nI fixed it by adding the following code to the beginning of _SharedRendererUtils.getConvertedUISelectManyValue() in both places (javax.faces.component and org.apache.myfaces.renderkit)\n<code>\nif (submittedValue == null)\n{\n    return submittedValue;\n}\n</code>\n",
        " x:selectManyCheckbox  , if is not items selected, i have NullPointerException java.lang.NullPointerException\n        at org.apache.myfaces.renderkit._SharedRendererUtils.getConvertedUISelectManyValue(_SharedRendererUtils.java:118)\n        at org.apache.myfaces.renderkit.RendererUtils.getConvertedUISelectManyValue(RendererUtils.java:792)\n        at org.apache.myfaces.renderkit.html.HtmlCheckboxRendererBase.getConvertedValue(HtmlCheckboxRendererBase.java:260)\n        at javax.faces.component.UISelectMany.getConvertedValue(UISelectMany.java:296)\n        at javax.faces.component.UIInput.validate(UIInput.java:291)\n        at javax.faces.component.UISelectMany.validate(UISelectMany.java:285)\n        at javax.faces.component.UIInput.processValidators(UIInput.java:166)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIForm.processValidators(UIForm.java:66)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:418)\n        at javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:162)\n\nI have checked and error was on file _SharedRendererUtils.java:118 \n  int len = submittedValue.length;\nIs ok to be null ? \n\nCristi"
    ],
    [
        "MYFACES-336",
        "MYFACES-308",
        "js error on toggle in tree2 component On a client-side tree2, when I click on the + or - sign, the image doesn't change, so the folder icons.\n\nThe browser catches the following JS-error on each toggle:\n\nError: navImage has no properties\nSource: http://localhost:8080/WebModule1/faces/myFacesExtensionResource/tree2.HtmlTreeRenderer/11216774/javascript/tree.js\nLine: 13\n",
        "tree2 image-path encoding and fix for missing ids on images When using client-side node toggling I experienced two problems:\n\n1) The context is missing for the expanded/collapsed image url\n2) no _id is rendered to toggle the images as myFaces decide it is not necessary\n\nThe attached patches fix these issues"
    ],
    [
        "MYFACES-349",
        "MYFACES-308",
        "ActionListener in server-side tree2 does not get invoked when clicking the navigation icon If I specify an actionListener in the server-side tree2, it does not get invoked when clicking the navigation icon.  I need this to get invoked because I use it to gather more data on the server on an \"as needed\" basis.  Here's some sample code, where I would like treeBacker.processAction to be invoked when a toggleExpanded event has happened:\n\n<x:tree2 id=\"serverTree\" value=\"#{treeBacker.treeData}\" var=\"node\" varNodeToggler=\"t\" clientSideToggle=\"false\">\n\t<f:facet name=\"type1\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type1.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputLink value=\"#\" style=\"font-family: arial; color: blue\"\n\t\t\t\t\tonclick=\"alert(#{node.id})\">\n\t\t\t\t<h:outputText value=\"#{node.name}\"/>\n\t\t\t</h:outputLink>\n\t\t</h:panelGroup>\n\t</f:facet>\n\t<f:facet name=\"type2\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type2.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputText value=\"#{node.name}\" style=\"font-family: arial; color: blue\"/>\n\t\t</h:panelGroup>\n\t</f:facet>\n</x:tree2>\n\nIn the above example, my action listener only gets invoked when I click on my own gif (type1.gif or type2.gif).  It doesn't get invoked when I click on the navigation icon.",
        "tree2 image-path encoding and fix for missing ids on images When using client-side node toggling I experienced two problems:\n\n1) The context is missing for the expanded/collapsed image url\n2) no _id is rendered to toggle the images as myFaces decide it is not necessary\n\nThe attached patches fix these issues"
    ],
    [
        "MYFACES-349",
        "MYFACES-336",
        "ActionListener in server-side tree2 does not get invoked when clicking the navigation icon If I specify an actionListener in the server-side tree2, it does not get invoked when clicking the navigation icon.  I need this to get invoked because I use it to gather more data on the server on an \"as needed\" basis.  Here's some sample code, where I would like treeBacker.processAction to be invoked when a toggleExpanded event has happened:\n\n<x:tree2 id=\"serverTree\" value=\"#{treeBacker.treeData}\" var=\"node\" varNodeToggler=\"t\" clientSideToggle=\"false\">\n\t<f:facet name=\"type1\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type1.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputLink value=\"#\" style=\"font-family: arial; color: blue\"\n\t\t\t\t\tonclick=\"alert(#{node.id})\">\n\t\t\t\t<h:outputText value=\"#{node.name}\"/>\n\t\t\t</h:outputLink>\n\t\t</h:panelGroup>\n\t</f:facet>\n\t<f:facet name=\"type2\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type2.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputText value=\"#{node.name}\" style=\"font-family: arial; color: blue\"/>\n\t\t</h:panelGroup>\n\t</f:facet>\n</x:tree2>\n\nIn the above example, my action listener only gets invoked when I click on my own gif (type1.gif or type2.gif).  It doesn't get invoked when I click on the navigation icon.",
        "js error on toggle in tree2 component On a client-side tree2, when I click on the + or - sign, the image doesn't change, so the folder icons.\n\nThe browser catches the following JS-error on each toggle:\n\nError: navImage has no properties\nSource: http://localhost:8080/WebModule1/faces/myFacesExtensionResource/tree2.HtmlTreeRenderer/11216774/javascript/tree.js\nLine: 13\n"
    ],
    [
        "MYFACES-355",
        "MYFACES-308",
        "+ sign permanent if x:tree2[@clientSideToggle]=true The plus sign is permanent if tree2 is in client side toggle mode.  \n\nThis was observed in HEAD and the nightly build for myfaces-2005072 .  This behavior is not found in the 1.0.9 release, nor the Sun RI ;) ",
        "tree2 image-path encoding and fix for missing ids on images When using client-side node toggling I experienced two problems:\n\n1) The context is missing for the expanded/collapsed image url\n2) no _id is rendered to toggle the images as myFaces decide it is not necessary\n\nThe attached patches fix these issues"
    ],
    [
        "MYFACES-355",
        "MYFACES-336",
        "+ sign permanent if x:tree2[@clientSideToggle]=true The plus sign is permanent if tree2 is in client side toggle mode.  \n\nThis was observed in HEAD and the nightly build for myfaces-2005072 .  This behavior is not found in the 1.0.9 release, nor the Sun RI ;) ",
        "js error on toggle in tree2 component On a client-side tree2, when I click on the + or - sign, the image doesn't change, so the folder icons.\n\nThe browser catches the following JS-error on each toggle:\n\nError: navImage has no properties\nSource: http://localhost:8080/WebModule1/faces/myFacesExtensionResource/tree2.HtmlTreeRenderer/11216774/javascript/tree.js\nLine: 13\n"
    ],
    [
        "MYFACES-355",
        "MYFACES-349",
        "+ sign permanent if x:tree2[@clientSideToggle]=true The plus sign is permanent if tree2 is in client side toggle mode.  \n\nThis was observed in HEAD and the nightly build for myfaces-2005072 .  This behavior is not found in the 1.0.9 release, nor the Sun RI ;) ",
        "ActionListener in server-side tree2 does not get invoked when clicking the navigation icon If I specify an actionListener in the server-side tree2, it does not get invoked when clicking the navigation icon.  I need this to get invoked because I use it to gather more data on the server on an \"as needed\" basis.  Here's some sample code, where I would like treeBacker.processAction to be invoked when a toggleExpanded event has happened:\n\n<x:tree2 id=\"serverTree\" value=\"#{treeBacker.treeData}\" var=\"node\" varNodeToggler=\"t\" clientSideToggle=\"false\">\n\t<f:facet name=\"type1\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type1.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputLink value=\"#\" style=\"font-family: arial; color: blue\"\n\t\t\t\t\tonclick=\"alert(#{node.id})\">\n\t\t\t\t<h:outputText value=\"#{node.name}\"/>\n\t\t\t</h:outputLink>\n\t\t</h:panelGroup>\n\t</f:facet>\n\t<f:facet name=\"type2\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type2.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputText value=\"#{node.name}\" style=\"font-family: arial; color: blue\"/>\n\t\t</h:panelGroup>\n\t</f:facet>\n</x:tree2>\n\nIn the above example, my action listener only gets invoked when I click on my own gif (type1.gif or type2.gif).  It doesn't get invoked when I click on the navigation icon."
    ],
    [
        "MYFACES-357",
        "MYFACES-308",
        "id attribute not correctly rendered in some cases I was getting javascript errors with the tree2 component due to img tags not having their id attribute rendered.  My experience with MyFaces is about two hours, so I'm not sure about this but my fix was to \n\nmodify HtmlRenderUtils.writeIdifNecessary from\n\nif(component.getId()!=null && !component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }\n\nto\n\nif(component.getId()!=null && component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }",
        "tree2 image-path encoding and fix for missing ids on images When using client-side node toggling I experienced two problems:\n\n1) The context is missing for the expanded/collapsed image url\n2) no _id is rendered to toggle the images as myFaces decide it is not necessary\n\nThe attached patches fix these issues"
    ],
    [
        "MYFACES-357",
        "MYFACES-336",
        "id attribute not correctly rendered in some cases I was getting javascript errors with the tree2 component due to img tags not having their id attribute rendered.  My experience with MyFaces is about two hours, so I'm not sure about this but my fix was to \n\nmodify HtmlRenderUtils.writeIdifNecessary from\n\nif(component.getId()!=null && !component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }\n\nto\n\nif(component.getId()!=null && component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }",
        "js error on toggle in tree2 component On a client-side tree2, when I click on the + or - sign, the image doesn't change, so the folder icons.\n\nThe browser catches the following JS-error on each toggle:\n\nError: navImage has no properties\nSource: http://localhost:8080/WebModule1/faces/myFacesExtensionResource/tree2.HtmlTreeRenderer/11216774/javascript/tree.js\nLine: 13\n"
    ],
    [
        "MYFACES-357",
        "MYFACES-349",
        "id attribute not correctly rendered in some cases I was getting javascript errors with the tree2 component due to img tags not having their id attribute rendered.  My experience with MyFaces is about two hours, so I'm not sure about this but my fix was to \n\nmodify HtmlRenderUtils.writeIdifNecessary from\n\nif(component.getId()!=null && !component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }\n\nto\n\nif(component.getId()!=null && component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }",
        "ActionListener in server-side tree2 does not get invoked when clicking the navigation icon If I specify an actionListener in the server-side tree2, it does not get invoked when clicking the navigation icon.  I need this to get invoked because I use it to gather more data on the server on an \"as needed\" basis.  Here's some sample code, where I would like treeBacker.processAction to be invoked when a toggleExpanded event has happened:\n\n<x:tree2 id=\"serverTree\" value=\"#{treeBacker.treeData}\" var=\"node\" varNodeToggler=\"t\" clientSideToggle=\"false\">\n\t<f:facet name=\"type1\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type1.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputLink value=\"#\" style=\"font-family: arial; color: blue\"\n\t\t\t\t\tonclick=\"alert(#{node.id})\">\n\t\t\t\t<h:outputText value=\"#{node.name}\"/>\n\t\t\t</h:outputLink>\n\t\t</h:panelGroup>\n\t</f:facet>\n\t<f:facet name=\"type2\">\n\t\t<h:panelGroup>\n\t\t\t<h:commandLink immediate=\"true\" action=\"#{t.toggleExpanded}\"\n\t\t\t\t\tactionListener=\"#{treeBacker.processAction}\">\n\t\t\t\t<h:graphicImage value=\"/images/type2.gif\" border=\"0\"/>\n\t\t\t</h:commandLink>\n\t\t\t<h:outputText value=\"#{node.name}\" style=\"font-family: arial; color: blue\"/>\n\t\t</h:panelGroup>\n\t</f:facet>\n</x:tree2>\n\nIn the above example, my action listener only gets invoked when I click on my own gif (type1.gif or type2.gif).  It doesn't get invoked when I click on the navigation icon."
    ],
    [
        "MYFACES-357",
        "MYFACES-355",
        "id attribute not correctly rendered in some cases I was getting javascript errors with the tree2 component due to img tags not having their id attribute rendered.  My experience with MyFaces is about two hours, so I'm not sure about this but my fix was to \n\nmodify HtmlRenderUtils.writeIdifNecessary from\n\nif(component.getId()!=null && !component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }\n\nto\n\nif(component.getId()!=null && component.getId().startsWith(UIViewRoot.UNIQUE_ID_PREFIX))\n        {\n            writer.writeAttribute(HTML.ID_ATTR, component.getClientId(facesContext),null);\n        }",
        "+ sign permanent if x:tree2[@clientSideToggle]=true The plus sign is permanent if tree2 is in client side toggle mode.  \n\nThis was observed in HEAD and the nightly build for myfaces-2005072 .  This behavior is not found in the 1.0.9 release, nor the Sun RI ;) "
    ],
    [
        "MYFACES-363",
        "MYFACES-362",
        "h:graphicImage provides several illegal attributes The myfaces implementation of <h:graphicImage> allows for a 'border' attribute which is not allowed by the JSF 1.1 specification.  The attribute should be removed.  Users wishing to use this attribute should use <x:graphicImage> instead.\n\nFurther investigation reveals that there are numerous other attributes that should be removed as well:  align, hspace, etc.",
        "h:graphicImage cannot provide a 'border' attribute The myfaces implementation of <h:graphicImage> allows for a 'border' attribute which is not allowed by the JSF 1.1 specification.  The attribute should be removed.  Users wishing to use this attribute should use <x:graphicImage> instead."
    ],
    [
        "MYFACES-424",
        "MYFACES-388",
        "Tree2: missing context path to folder images as reported in http://www.mail-archive.com/users%40myfaces.apache.org/msg07181.html\n",
        "[tree2] image-path encoding When using client-side node toggling I experienced two problems:\n\n1) The context is missing for the expanded/collapsed image url\n2) no _id is rendered to toggle the images as myFaces decide it is not necessary\n\nThe attached patches fix these issues"
    ],
    [
        "MYFACES-513",
        "MYFACES-486",
        "record skip in selectItems selectItem renders just one of every two items in the collection. It seems to me that next() method called twice in somewhere",
        "Exception with sample application When I try to display the 'Sample 2' page I get the following Exception:\n\njava.util.NoSuchElementException\n\tat java.util.AbstractList$Itr.next(AbstractList.java:427)\n\tat org.apache.myfaces.util.SelectItemsIterator.next(SelectItemsIterator.java:82)\n\tat org.apache.myfaces.renderkit.RendererUtils.internalGetSelectItemList(RendererUtils.java:487)\n\tat org.apache.myfaces.renderkit.RendererUtils.getSelectItemList(RendererUtils.java:470)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.internalRenderSelect(HtmlRendererUtils.java:273)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.renderListbox(HtmlRendererUtils.java:246)\n\tat org.apache.myfaces.renderkit.html.HtmlListboxRendererBase.encodeEnd(HtmlListboxRendererBase.java:56)\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:331)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:450)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:448)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)\n\tat org.apache.myfaces.renderkit.html.HtmlGroupRendererBase.encodeEnd(HtmlGroupRendererBase.java:62)\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:331)\n\tat javax.faces.webapp.UIComponentTag.encodeEnd(UIComponentTag.java:349)\n\tat javax.faces.webapp.UIComponentTag.doEndTag(UIComponentTag.java:253)\n\tat org.apache.myfaces.taglib.UIComponentBodyTagBase.doEndTag(UIComponentBodyTagBase.java:55)\n\tat org.apache.jsp.sample2_jsp._jspx_meth_h_panelGroup_0(sample2_jsp.java:254)\n\tat org.apache.jsp.sample2_jsp._jspx_meth_f_view_0(sample2_jsp.java:183)\n\tat org.apache.jsp.sample2_jsp._jspService(sample2_jsp.java:130)\n\tat org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:94)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:810)\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:324)\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:292)\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:236)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:810)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:696)\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:474)\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:409)\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n\tat org.apache.myfaces.context.servlet.ServletExternalContextImpl.dispatch(ServletExternalContextImpl.java:415)\n\tat org.apache.myfaces.application.jsp.JspViewHandlerImpl.renderView(JspViewHandlerImpl.java:234)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:300)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:95)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:75)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.jboss.web.tomcat.security.CustomPrincipalValve.invoke(CustomPrincipalValve.java:66)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n\tat org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:162)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:118)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)\n\tat org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)\n\tat org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)\n\tat org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)\n\tat org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684)\n\tat java.lang.Thread.run(Thread.java:595)\n"
    ],
    [
        "MYFACES-524",
        "MYFACES-440",
        "It is an error to configure cyclic references between managed beans. Acording to the spec (section 5.3.1.3, p5-12), \"It is an error to configure cyclic references between managed beans\".\nIn the current implementation, a StackOverflowException is thrown in the org.apache.myfaces.config.ManagedBeanBuilder.buildManagedBean(ManagedBeanBuilder.java:44) if there is a cyclic reference. We should catch it and throw a FacesException instead...\n\n(managedBeanCyclicReferenceTest)",
        "Circular dependencies in managed properties lead to StackOverflowError in VariableResolverImpl Circular dependencies in managed properties lead to java.lang.StackOverflowError in class org.apache.myfaces.el.VariableResolverImpl. \n\nThis can be reproduced with a simple example:\n... start snippet from faces-config ...\n\n<managed-bean>\n <managed-bean-name>organisationListController</managed-bean-name>\n <managed-bean-class>nl.ibgroep.demo.web.bean.controller.beheer.OrganisationListController</managed-bean-class>\n <managed-bean-scope>session</managed-bean-scope>\n <managed-property>\n  <property-name>organisationDetailsController</property-name>\n  <property-class>nl.ibgroep.demo.web.bean.controller.beheer.OrganisationDetailsController</property-class>\n  <value>#{organisationDetailsController}</value>\n </managed-property>\n</managed-bean>\n\n<managed-bean>\n <managed-bean-name>organisationDetailsController</managed-bean-name>\n <managed-bean-class>nl.ibgroep.demo.web.bean.controller.beheer.OrganisationDetailsController</managed-bean-class>\n <managed-bean-scope>session</managed-bean-scope>\n <managed-property>\n  <property-name>organisationListController</property-name>\n  <property-class>nl.ibgroep.demo.web.bean.controller.beheer.OrganisationListController</property-class>\n  <value>#{organisationListController}</value>\n </managed-property>\n</managed-bean>\n\n... end snippet from faces-config ...\n\nIf I open a page using either of these managed beans, a StackOverflowError error occurs in VariableResolverImpl.\n\nThe reason is that a new managed bean is put in scope after the complete managed bean has been created, including all dependent managed properties. So what happens is that the first managed bean (organisationListController) is created, Subsequently a new bean for its managed property (organisationDetailsController) is created. Because the first bean (organisationListController) was not put in scope, a new managed bean (organisationListController) is created, which leads to the creation of another bean (organisationDetailsController), etc.\n\nIn this simple example the cause is easy to find out, but this will be less so if the circular dependency becomes less obvious.\n\nSolution: put the bean in scope in the ManagedBeanBuilder, before the recursive creation of its managed properties."
    ],
    [
        "MYFACES-527",
        "MYFACES-152",
        "AutoScroll script/function should be rendered within head or body in html The getScrolling function should not be rendered outside of an html or body tag according to HTML-Spec.",
        "ResponseWriter.endDocument() abuse breaks ADF Faces I've been shown some problems lately with MyFaces 1.0.9 and ADF Faces.\nThe problems specifically trace to MyFaces's use of\nResponseWriter.endDocument() to output Javascript.  Since ADF Faces\nruns with its own RenderKit (and therefore its own ResponseWriter),\nthis Javascript is getting dropped and not written.\n\nI'd recommend (both as JSF EG guy and ADF Faces guy) that this MyFaces\ncode be moved *out* of ResponseWriter.endDocument().  Specifically:\n\n- ResponseWriter.endDocument() is not guaranteed to be called before\nthe close of  or even the close of , and therefore this\nscript cannot be safely output at this point.  It's quite likely that\nchanges in JSF 1.2 will essentially guarantee that endDocument() is\nnot called until the close of all output.\n- This is not really the intent of ResponseWriter.endDocument().  In\nHTML, it should be a no-op.  It's there for more bizarre scenarios\nlike a ResponseWriter outputting a SOAP envelope around a response.\n- It's breaking ADF Faces. :)\n\nA significantly cleaner way to output needed Javascript is to add it\nas needed from the Renderers that require it (using a request-scoped\nattribute to track if its been added already).\n"
    ],
    [
        "MYFACES-597",
        "MYFACES-570",
        "HTMLRadioRenderer not showing selected item This bug is similar to MYFACES-144 (http://issues.apache.org/jira/browse/MYFACES-144)\n\nTo reproduce the bug a complex object (other than string) must be used as the value for SelectItem. The object is converted by using a Converter to a string value.\n\nThe method HtmlRendererBase.renderGroupOrItemRadio(...) tests the complex object with the converted value which is only working if a string is used as a value for the selectitem.",
        "selectOneRadio does not render the inital selected radio button if using an other than String for the SelectItems value. The value of the SelectItem is converted to String before it checked for equality against the current value which is still a complex value if it was returned by UISelectOne.getValue().\n\nI will commit a fix for this."
    ],
    [
        "MYFACES-608",
        "MYFACES-579",
        "myfaces-all.jar lacks the faces-config.xml If somebody wants to use the MyFaces JSF implementation including the Tomahawk\nextentions, the 1.1 version ships a 'convenience  all-in-one' jar : myfaces-all.jar\nHowever the META-INF in this jar does not contain a 'faces-config.xml' file and hence all\ntomahawk components are not registered.\n\nSo, using this small testcase :\n\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\n<%@ taglib uri=\"http://myfaces.apache.org/tomahawk\" prefix=\"t\"%>\n\n<t:div>\nBummer !\n</t:div>\n\nresults in :\n\n[ServletException in:/jsp/doit.jsp] Undefined component type org.apache.myfaces.Div'\n\nand from System.out :\n\nApplicationIm E org.apache.myfaces.application/ApplicationImpl  Undefined component type org.apache.myfaces.Div\n\n\nUsing 'myfaces-api.jar' 'myfaces-impl.jar' and 'tomahawk.jar'  together instead of the\nall-in-one 'myfaces-all.jar' works fine.\n\n",
        "myfaces-all.jar in 1.1.0 RC build is missing faces-config.xml for Tomahawk components. I posted to the dev list about this, but as it seems my post was missed, I thought I should raise a JIRA issue since this could end up in a lot of people getting errors after downloading the new  release and including the myfaces-all.jar in their current projects.\n\nThe myfaces-all.jar in the release build is missing the faces-config.xml for the tomahawk components.  I tried it with my own internal applications as well as the example apps, and they both are unable to locate any of the tomahawk components when using myfaces-all.jar instead of the three seperate jars.  "
    ],
    [
        "MYFACES-669",
        "MYFACES-154",
        "Validation error I got the validation error today by trying to do the 'smart thing'. Basically i have the list of objects and display as the combo box. What i do before work very fine because all thing is string. This time i try to populate directly my objects to the combo box by specify the converter. The result is OK, i got what i want but when i submit the form i got the Validation error. The code simple like this:\n\n<h:selectOneMenu id=\"S1\" value = \"#{csCardRequestHandler.suffixesModel[0].selectedValue}\"\n\t\t\tdisabled=\"#{csCardRequestHandler.suffixesModel[0].disableSelect}\">\n\t\t\t<f:selectItems value=\"#{csCardRequestHandler.suffixesModel[0].availableItems}\"/>\n\t\t\t<f:converter converterId=\"com.ps.cardservices.SuffixFieldConverter\"/>\n\t\t\t<!--f:validator validatorId=\"com.ps.cardservices.NullValidator\"/-->\n\t\t</h:selectOneMenu>\n\nThen i thought because of my custom converter so i try to specify the NullValidator just do nothing, still it keeps saying 'ValidatorError'\n\nOne more thing i love to report, on my converter method:\npublic String getAsString(FacesContext context, UIComponent component, Object object) throws ConverterException;\nWhile some tim i get the object as java.lang.String instead of my object type?\n\nRegards,\nhovan.",
        "checkbox and listbox do not handler converters well lookupSet is filled using either getSubmittedValuesAsSet or getSelectedValuesAsSet. Both of these routines use RenderUtils.internalSubmittedOrSelectedValuesAsSet(), which uses RenderUtils.getConvertedStringValue(). \ngetConvertedStringValue() always returns strings. Hence, lookupSet.contains() should always compare against itemStrValue (rather than itemValue.)\n\nThis impacts 2 files:\n\nHtmlCheckboxRendererBase.java:\n168,170c168,173\n<             boolean checked = (useSubmittedValues && lookupSet^M\n<                     .contains(itemStrValue))^M\n<                     || (!useSubmittedValues && lookupSet.contains(itemValue));^M\n---\n> //            boolean checked = (useSubmittedValues && lookupSet^M\n> //                    .contains(itemStrValue))^M\n> //                    || (!useSubmittedValues && lookupSet.contains(itemValue));^M\n>               // HAN - the myfaces code does not work with a converter. The lookupSet=getS*ValuesAsSet() ultimately calls RenderUtils.internalSubmittedOrSelectedValuesAsSet^M\n>               // That routine calls getConvertedStringValue(); which always returns strings. Hence lookupSet should always be compared to itemStrValue.^M\n>             boolean checked = lookupSet.contains(itemStrValue);^M\n\nHtmlRendererUtils.java:\n457,458c460,464\n<                 if ((useSubmittedValue && lookupSet.contains(itemStrValue))^M\n<                         || (!useSubmittedValue && lookupSet.contains(itemValue))) {^M\n---\n> //                if ((useSubmittedValue && lookupSet.contains(itemStrValue))^M\n> //                        || (!useSubmittedValue && lookupSet.contains(itemValue))) {^M\n>                   // HAN - the myfaces code does not work with a converter. The lookupSet=getS*ValuesAsSet() ultimately calls RenderUtils.internalSubmittedOrSelectedValuesAsSet^M\n>                   // That routine calls getConvertedStringValue(); which always returns strings. Hence lookupSet should always be compared to itemStrValue.^M\n>                               if (lookupSet.contains(itemStrValue)) {^M\n"
    ],
    [
        "MYFACES-680",
        "MYFACES-592",
        "x:selectOneRadio tag cannot be nested within the h:dataTable tag in version 1.1.0 I've run into an issue with version 1.1.0 when trying to implement a x:selectOneRadio tag within the h:dataTable tag where only one row from the data table can have the radio button selected.  In version 1.0.9, I used the forceId and forceIdIndex attributes in the x:selectOneRadio tag to force the id of each x:selectOneRadio to be the same.  Each row in the h:dataTable will have x:selectOneRadio with only one SelectItem in it, but since the id's are the same, the browser handles it correctly.\n\nHowever, with version 1.1.0 in the validateValue(FacesContext, Object) method of the javax.faces.component.UISelectOne class, there is a call to _SelectItemsUtil.matchValue(FacesContext, Object, Iterator, _ValueConverter) which checks to see if the selected value of the x:selectOneRadio exists in the list of SelectItems.  Since each row in the data table has a x:selectOneRadio with only one SelectItem, this check will only return true for the row where the radio button is selected.  All other rows cause this check to fail and add a 'Value is not a valid option' error to the context messages list, which prevents the page from performing any other actions.\n\nHere is an example of how I am using the x:selectOneRadio:\n\n<h:dataTable\n\tcellspacing=\"0\"\n\tstyle=\"padding-top: 0px; padding-bottom: 0px;\"\n\tstyleClass=\"form-sub-table\"\n\tvalue=\"#{backingBean.personList}\" \n\tvar=\"person\">\n\t\n\t<h:column>\n\t\t<h:outputText value=\"#{person.firstName} #{person.lastName}\" escape=\"false\" />\n\t</h:column>\n\n\t<h:column>\n\t\t<x:selectOneRadio id=\"preside\" \n\t\t\tforceId=\"true\" \n\t\t\tforceIdIndex=\"0\" \n\t\t\tvalue=\"#{backingBean.presidePersonId}\" \n\t\t\tvalueChangeListener=\"#{backingBean.presideOverride}\"\n\t\t\tstyle=\"margin: 0px; border: 0px;\"\n\t\t\tborder=\"0\">\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t<f:selectItem itemValue=\"#{person.personId}\" itemLabel=\"\" />\n\t\t</x:selectOneRadio>\n\t</h:column>\n</h:dataTable>\n\nIt's not completely clear to me why the existence of the x:selectOneRadio value in it's child SelectItems needs to be enforced so strictly.  I propose that this check be either optional or eliminated all toghether.\n\nThanks,\n\nJason Allen",
        "tomahawke SelectOneRadio in datatable no longer working The tomahawke selectOneRadio (t:selectOneRadio previously x:selectOneRadio) in a datatable no longer works correctly. On selection of an item and submission of the form a ('Validation Error',  \"{0}\": Value is not a valid option') message is added to the messages.\nThis worked correctly in myfaces 1.0.9 but not in the last nightly build.\n\nBelow is a subset of my jsp that outputs the column:\n\n<h:column>\n  <f:facet name=\"header\">\n    <h:outputText value=\"#{bundle.label_select}\"/>\n  </f:facet>\n  <t:selectOneRadio id=\"selectRadio\" forceId=\"true\" forceIdIndex=\"false\" required=\"true\" value=\"#{ClientSearchBean.selectedExtClientId}\">\n    <f:selectItem itemValue=\"#{client.extClientId}\" itemLabel=\"\"/>\n  </t:selectOneRadio>\n</h:column>\n\nThe 'value; points to a string value in the backing bean and the itemValue points to the same string value in the Client domain object, of which the table is driven from.\n"
    ],
    [
        "MYFACES-747",
        "MYFACES-746",
        "tabChangeListener doesn\u00b4t work I have added one tabChangeListener to the Tabbed Pane that it's in the examples.\nAdded this line to tabbedPane.jsp:\n\n  <t:tabChangeListener type=\"org.apache.myfaces.examples.misc.TabbedPaneBean\"/>\n\nAnd I changed TabbedPaneBean:\n\n\tpublic void processTabChange(TabChangeEvent arg0) throws AbortProcessingException {\n\t\tSystem.out.println( \"changed !!\" );\n\t}\n\nBut this method is never called.",
        "tabChangeListener doesn\u00b4t work I have added one tabChangeListener to the Tabbed Pane that it's in the examples.\nAdded this line to tabbedPane.jsp:\n\n  <t:tabChangeListener type=\"org.apache.myfaces.examples.misc.TabbedPaneBean\"/>\n\nAnd I changed TabbedPaneBean:\n\n\tpublic void processTabChange(TabChangeEvent arg0) throws AbortProcessingException {\n\t\tSystem.out.println( \"changed !!\" );\n\t}\n\nBut this method is never called."
    ],
    [
        "MYFACES-852",
        "MYFACES-154",
        "Exception while using SelectManyListbox, SelectManyCheckbox or SelectOneRadio with a Converter. Exception while using SelectManyListbox or SelectManyCheckbox SelectOneRadio with a Converter.\nIf you have a SelectManyListbox with a Converter, and you click on a CommandNavigation that expand the menu. So only the Navigation should be open, and the same side should by shown, but than you get a Exception from the Converter!\n\n\tat de.xy.converter.XYConverter.getAsString(XYConverter.java:62)\n\tat org.apache.myfaces.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:551)\n\tat org.apache.myfaces.renderkit.RendererUtils.internalSubmittedOrSelectedValuesAsSet(RendererUtils.java:586)\n\tat org.apache.myfaces.renderkit.RendererUtils.getSubmittedValuesAsSet(RendererUtils.java:510)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.getSubmittedOrSelectedValuesAsSet(HtmlRendererUtils.java:304)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.internalRenderSelect(HtmlRendererUtils.java:290)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.renderListbox(HtmlRendererUtils.java:241)\n\tat org.apache.myfaces.renderkit.html.HtmlListboxRendererBase.encodeEnd(HtmlListboxRendererBase.java:56)\n\tat org.apache.myfaces.renderkit.html.ext.HtmlListboxRenderer.encodeEnd(HtmlListboxRenderer.java:55)\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:331)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:450)\n\nThe submittedValues in RendererUtils.getSubmittedValuesAsSet are already a StringArray.\nBut in the Method \"internalSubmittedOrSelectedValuesAsSet\" the Converter will be ask for the StringValue, so you get an Exception.\n\nIf you enter the side with a SelectManyListbox and a Converter, or leave the side with a real Button, all is fine.\n\nSelectOneRadio and SelectManyCheckbox have the same error.\n",
        "checkbox and listbox do not handler converters well lookupSet is filled using either getSubmittedValuesAsSet or getSelectedValuesAsSet. Both of these routines use RenderUtils.internalSubmittedOrSelectedValuesAsSet(), which uses RenderUtils.getConvertedStringValue(). \ngetConvertedStringValue() always returns strings. Hence, lookupSet.contains() should always compare against itemStrValue (rather than itemValue.)\n\nThis impacts 2 files:\n\nHtmlCheckboxRendererBase.java:\n168,170c168,173\n<             boolean checked = (useSubmittedValues && lookupSet^M\n<                     .contains(itemStrValue))^M\n<                     || (!useSubmittedValues && lookupSet.contains(itemValue));^M\n---\n> //            boolean checked = (useSubmittedValues && lookupSet^M\n> //                    .contains(itemStrValue))^M\n> //                    || (!useSubmittedValues && lookupSet.contains(itemValue));^M\n>               // HAN - the myfaces code does not work with a converter. The lookupSet=getS*ValuesAsSet() ultimately calls RenderUtils.internalSubmittedOrSelectedValuesAsSet^M\n>               // That routine calls getConvertedStringValue(); which always returns strings. Hence lookupSet should always be compared to itemStrValue.^M\n>             boolean checked = lookupSet.contains(itemStrValue);^M\n\nHtmlRendererUtils.java:\n457,458c460,464\n<                 if ((useSubmittedValue && lookupSet.contains(itemStrValue))^M\n<                         || (!useSubmittedValue && lookupSet.contains(itemValue))) {^M\n---\n> //                if ((useSubmittedValue && lookupSet.contains(itemStrValue))^M\n> //                        || (!useSubmittedValue && lookupSet.contains(itemValue))) {^M\n>                   // HAN - the myfaces code does not work with a converter. The lookupSet=getS*ValuesAsSet() ultimately calls RenderUtils.internalSubmittedOrSelectedValuesAsSet^M\n>                   // That routine calls getConvertedStringValue(); which always returns strings. Hence lookupSet should always be compared to itemStrValue.^M\n>                               if (lookupSet.contains(itemStrValue)) {^M\n"
    ],
    [
        "MYFACES-852",
        "MYFACES-669",
        "Exception while using SelectManyListbox, SelectManyCheckbox or SelectOneRadio with a Converter. Exception while using SelectManyListbox or SelectManyCheckbox SelectOneRadio with a Converter.\nIf you have a SelectManyListbox with a Converter, and you click on a CommandNavigation that expand the menu. So only the Navigation should be open, and the same side should by shown, but than you get a Exception from the Converter!\n\n\tat de.xy.converter.XYConverter.getAsString(XYConverter.java:62)\n\tat org.apache.myfaces.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:551)\n\tat org.apache.myfaces.renderkit.RendererUtils.internalSubmittedOrSelectedValuesAsSet(RendererUtils.java:586)\n\tat org.apache.myfaces.renderkit.RendererUtils.getSubmittedValuesAsSet(RendererUtils.java:510)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.getSubmittedOrSelectedValuesAsSet(HtmlRendererUtils.java:304)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.internalRenderSelect(HtmlRendererUtils.java:290)\n\tat org.apache.myfaces.renderkit.html.HtmlRendererUtils.renderListbox(HtmlRendererUtils.java:241)\n\tat org.apache.myfaces.renderkit.html.HtmlListboxRendererBase.encodeEnd(HtmlListboxRendererBase.java:56)\n\tat org.apache.myfaces.renderkit.html.ext.HtmlListboxRenderer.encodeEnd(HtmlListboxRenderer.java:55)\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:331)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:450)\n\nThe submittedValues in RendererUtils.getSubmittedValuesAsSet are already a StringArray.\nBut in the Method \"internalSubmittedOrSelectedValuesAsSet\" the Converter will be ask for the StringValue, so you get an Exception.\n\nIf you enter the side with a SelectManyListbox and a Converter, or leave the side with a real Button, all is fine.\n\nSelectOneRadio and SelectManyCheckbox have the same error.\n",
        "Validation error I got the validation error today by trying to do the 'smart thing'. Basically i have the list of objects and display as the combo box. What i do before work very fine because all thing is string. This time i try to populate directly my objects to the combo box by specify the converter. The result is OK, i got what i want but when i submit the form i got the Validation error. The code simple like this:\n\n<h:selectOneMenu id=\"S1\" value = \"#{csCardRequestHandler.suffixesModel[0].selectedValue}\"\n\t\t\tdisabled=\"#{csCardRequestHandler.suffixesModel[0].disableSelect}\">\n\t\t\t<f:selectItems value=\"#{csCardRequestHandler.suffixesModel[0].availableItems}\"/>\n\t\t\t<f:converter converterId=\"com.ps.cardservices.SuffixFieldConverter\"/>\n\t\t\t<!--f:validator validatorId=\"com.ps.cardservices.NullValidator\"/-->\n\t\t</h:selectOneMenu>\n\nThen i thought because of my custom converter so i try to specify the NullValidator just do nothing, still it keeps saying 'ValidatorError'\n\nOne more thing i love to report, on my converter method:\npublic String getAsString(FacesContext context, UIComponent component, Object object) throws ConverterException;\nWhile some tim i get the object as java.lang.String instead of my object type?\n\nRegards,\nhovan."
    ],
    [
        "MYFACES-1104",
        "MYFACES-1010",
        "UIColumns generate duplicate ID's UIColumns generates duplicate ID's when using RI. Example JSP fragment:\n\n\t<h:form id=\"form\">\n\t\t<t:dataTable id=\"table\" value=\"#{testBB.rows}\" var=\"row\">\n\t\t\t<t:columns id=\"columns\" value=\"#{testBB.columnHeaders}\" var=\"column\">\n\t\t\t\t<t:inputText id=\"inputText\" value=\"#{testBB.columnValue}\"/>\n\t\t\t</t:columns>\n\t\t</t:dataTable>\n\t</h:form>\n\nIn this example, the inputText each column will get the same ID.",
        "Extended Data Table: Action Event delivered more than one time Hi,\nI'm trying using Tomahawk t:dataTable and it seems to me that its behaviour is very different from the standard  JSF h:dataTable.\nConsider a column which contains a command button and a table with two rows. When the user clicks on the button of the first row, two action events are generated!\n\nFor example, look at this very simple code:\n\n<f:view>\n   <h:form>\n       <h:dataTable value=\"#{testBean.persons}\" var=\"item\" binding=\"#{testBean.uiData}\">\n           <h:column>\n               <h:commandButton value=\"Test\" action=\"#{testBean.test}\"></h:commandButton>\n           </h:column>\n           <h:column>\n               <h:outputText value=\"#{item.name}\"></h:outputText>\n           </h:column>\n           <h:column>\n               <h:outputText value=\"#{item.surname}\"></h:outputText>\n           </h:column>\n       </h:dataTable>\n             <t:dataTable value=\"#{testBean.persons}\" var=\"item\" binding=\"#{testBean.htmlDataTable}\" preserveDataModel=\"false\">\n           <t:column>\n               <h:commandButton value=\"Test\" action=\"#{testBean.test2}\"></h:commandButton>\n           </t:column>\n           <t:column>\n               <h:outputText value=\"#{item.name}\"></h:outputText>\n           </t:column>\n           <t:column>\n               <h:outputText value=\"#{item.surname}\"></h:outputText>\n           </t:column>\n       </t:dataTable>\n   </h:form>\n</f:view>\n\nWhen the user clicks the \"Test\" button of the h:dataTable, the \"testBean.test\" method is executed just one time.\nBut when the user clicks the \"Test\" button of the t:dataTable the \"testBean.test2\" method is executed twice ( or three times if the table has 3 rows, and so on...).\n\nI suppose  that the problem is that the elements of  t:dataTable which belongs to differnt rows have the same ID, and during the processDecode phase the same event is broadcasted more than one time.\nIn fact, this is the html code which is generated by Tomahawk extended datatable:\n\n<table>\n<tbody id=\"_id0:_id8:tbody_element\">\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id8:_id10\" value=\"Test\" /></td>\n<td>John</td>\n<td>Smith</td>\n</tr>\n<tr><td><input type=\"submit\" name=\"_id0:_id8:_id10\" value=\"Test\" /></td>\n<td>Mark</td>\n<td>Greene</td>\n</tr></tbody>\n</table>\n\n\nand this is the html code which is generated by RI h:dataTable:\n\n<table>\n<tbody>\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id1:0:_id3\" value=\"Test\" /></td>\n<td>John</td>\n<td>Smith</td>\n</tr>\n<tr>\n<td><input type=\"submit\" name=\"_id0:_id1:1:_id3\" value=\"Test\" /></td>\n<td>Mark</td>\n<td>Greene</td>\n</tr>\n</tbody>\n</table>\n\n\n\n\n"
    ],
    [
        "MYFACES-1125",
        "MYFACES-1121",
        "problem that blocks tests with htmlunit I want to write a testcase for my application with HtmlUnit. Everytime when I make a request to first page of the application I get this in log:\njava.lang.NullPointerException\n at org.apache.myfaces.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:995)\n at org.apache.myfaces.renderkit.html.util.DefaultAddResource.writeResponse(DefaultAddResource.java:786)\n at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:142)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValvejava:213)\n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValvejava:178)\n at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:432)\n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:831)\n at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:652)\n at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1203)\n at java.lang.Thread.run(Unknown Source)\n \nBecause of this, there is an error 500 in the response, so I cannot go on with my testcase.\nI modified the HtmlRendererUtils source to test for null and I can access my application from HtmlUnit.\nSo, I replaced this:\ncontentTypeListString = (String)\n                    context.getExternalContext().getRequestHeaderMap().get(\"Accept\");\nwith this:\nif (context != null && context.getExternalContext() != null &&  context.getExternalContext().getRequestHeaderMap() != null) {\n            contentTypeListString = (String)\n                    context.getExternalContext().getRequestHeaderMap().get(\"Accept\");\n}\n \nIt is possible that I have an error in my jsps but I think these tests with null should be also in Myfaces code.\n",
        "FacesContext.getCurrentContext is null after login on Tomcat/JBoss FacesContext.getCurrentContext is null in the page following a successful login. The login is a standard JSP forms-based login. The form redirects to j_security_check as normal, then presumably it gets automatically redirected to the originally requested page. That's when the error occurs (see stack trace below). If I then refresh the page, it displays correctly.\n\n12:46:14,137 ERROR [[Faces Servlet]] Servlet.service() for servlet Faces Servlet threw exception\njava.lang.NullPointerException\n        at org.apache.myfaces.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:995)\n        at org.apache.myfaces.renderkit.html.util.DefaultAddResource.writeResponse(DefaultAddResource.java:786)\n        at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:143)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at org.jboss.web.tomcat.security.CustomPrincipalValve.invoke(CustomPrincipalValve.java:54)\n        at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:174)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:514)\n        at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:74)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:868)\n        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:663)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at org.apache.tomcat.util.net.MasterSlaveWorkerThread.run(MasterSlaveWorkerThread.java:112)\n        at java.lang.Thread.run(Unknown Source)"
    ],
    [
        "MYFACES-1151",
        "MYFACES-1121",
        "NullPointerException from HtmlRendererUtils first time after logging into a servlet I just installed JBoss 4.0.4RC1and am now getting an issue with myfaces. (I just upgraded from 4.0.3SP1) When I goto a page that you that is protected i get redirected to the form to login. I enter a login and then get a NullPointerException. Here is the output from the console:\n\n....\n20:57:04,681 ERROR [[Faces Servlet]] Servlet.service() for servlet Faces Servlet threw exception\njava.lang.NullPointerException\n        at org.apache.myfaces.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:995)\n        at org.apache.myfaces.renderkit.html.util.DefaultAddResource.writeResponse(DefaultAddResource.java:791)\n        at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:142)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at org.jboss.web.tomcat.security.CustomPrincipalValve.invoke(CustomPrincipalValve.java:54)\n        at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:174)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:514)\n        at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:74)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:868)\n        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:663)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at org.apache.tomcat.util.net.MasterSlaveWorkerThread.run(MasterSlaveWorkerThread.java:112)\n        at java.lang.Thread.run(Thread.java:595)\n\nOnce this happens if i reload the page everything is fine. Seems as if something isn't set that should be. This ONLY happens on the request that the login takes place on.\n\nIf this is a JBoss issue please let me know. I will repost to them. Please provide me with some detail on what to tell them. (For example what is null but shouldn't be.)\n\nThanks you.",
        "FacesContext.getCurrentContext is null after login on Tomcat/JBoss FacesContext.getCurrentContext is null in the page following a successful login. The login is a standard JSP forms-based login. The form redirects to j_security_check as normal, then presumably it gets automatically redirected to the originally requested page. That's when the error occurs (see stack trace below). If I then refresh the page, it displays correctly.\n\n12:46:14,137 ERROR [[Faces Servlet]] Servlet.service() for servlet Faces Servlet threw exception\njava.lang.NullPointerException\n        at org.apache.myfaces.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:995)\n        at org.apache.myfaces.renderkit.html.util.DefaultAddResource.writeResponse(DefaultAddResource.java:786)\n        at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:143)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at org.jboss.web.tomcat.security.CustomPrincipalValve.invoke(CustomPrincipalValve.java:54)\n        at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:174)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:514)\n        at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:74)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:868)\n        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:663)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at org.apache.tomcat.util.net.MasterSlaveWorkerThread.run(MasterSlaveWorkerThread.java:112)\n        at java.lang.Thread.run(Unknown Source)"
    ],
    [
        "MYFACES-1151",
        "MYFACES-1125",
        "NullPointerException from HtmlRendererUtils first time after logging into a servlet I just installed JBoss 4.0.4RC1and am now getting an issue with myfaces. (I just upgraded from 4.0.3SP1) When I goto a page that you that is protected i get redirected to the form to login. I enter a login and then get a NullPointerException. Here is the output from the console:\n\n....\n20:57:04,681 ERROR [[Faces Servlet]] Servlet.service() for servlet Faces Servlet threw exception\njava.lang.NullPointerException\n        at org.apache.myfaces.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:995)\n        at org.apache.myfaces.renderkit.html.util.DefaultAddResource.writeResponse(DefaultAddResource.java:791)\n        at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:142)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178)\n        at org.jboss.web.tomcat.security.CustomPrincipalValve.invoke(CustomPrincipalValve.java:54)\n        at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:174)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:514)\n        at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:74)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:868)\n        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:663)\n        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527)\n        at org.apache.tomcat.util.net.MasterSlaveWorkerThread.run(MasterSlaveWorkerThread.java:112)\n        at java.lang.Thread.run(Thread.java:595)\n\nOnce this happens if i reload the page everything is fine. Seems as if something isn't set that should be. This ONLY happens on the request that the login takes place on.\n\nIf this is a JBoss issue please let me know. I will repost to them. Please provide me with some detail on what to tell them. (For example what is null but shouldn't be.)\n\nThanks you.",
        "problem that blocks tests with htmlunit I want to write a testcase for my application with HtmlUnit. Everytime when I make a request to first page of the application I get this in log:\njava.lang.NullPointerException\n at org.apache.myfaces.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:995)\n at org.apache.myfaces.renderkit.html.util.DefaultAddResource.writeResponse(DefaultAddResource.java:786)\n at org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:142)\n at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValvejava:213)\n at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValvejava:178)\n at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:432)\n at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126)\n at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105)\n at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107)\n at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148)\n at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:831)\n at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:652)\n at org.apache.tomcat.util.net.AprEndpoint$Worker.run(AprEndpoint.java:1203)\n at java.lang.Thread.run(Unknown Source)\n \nBecause of this, there is an error 500 in the response, so I cannot go on with my testcase.\nI modified the HtmlRendererUtils source to test for null and I can access my application from HtmlUnit.\nSo, I replaced this:\ncontentTypeListString = (String)\n                    context.getExternalContext().getRequestHeaderMap().get(\"Accept\");\nwith this:\nif (context != null && context.getExternalContext() != null &&  context.getExternalContext().getRequestHeaderMap() != null) {\n            contentTypeListString = (String)\n                    context.getExternalContext().getRequestHeaderMap().get(\"Accept\");\n}\n \nIt is possible that I have an error in my jsps but I think these tests with null should be also in Myfaces code.\n"
    ],
    [
        "MYFACES-1362",
        "MYFACES-1324",
        "Getting Started Page says examples are on download page. They are not. On the website the \"Getting Started Page\" states that the examples (myfaces-X.X.X-examples.zip) are on the \"Download  Page\" ((http://myfaces.apache.org/download.html)). They are not.\n\nIt seems that the examples are in the nightly distribution, but not in the main released distribution.\n\nIt seems the examples should be in the main distribution.\n\n",
        "Getting started page updating \"getting started\" to avoid mailing list trafic"
    ],
    [
        "MYFACES-1414",
        "MYFACES-1324",
        "Invalid resource link on Getting Started page On the Getting started page (http://myfaces.apache.org/gettingstarted.html), the URL referred to by \"here\" does not have the MyFaces examples webapp archive. It is nowhere to be found! \n\nMyFaces examples. Latest milestone webapp archive (myfaces-X.X.X-examples.zip or myfaces-X.X.X-examples.tgz) is here\n\nThe here link points to the download page -> http://myfaces.apache.org/download.html\n\nThis needs to be fixed ASAP. It is a big problem for newbies!",
        "Getting started page updating \"getting started\" to avoid mailing list trafic"
    ],
    [
        "MYFACES-1414",
        "MYFACES-1362",
        "Invalid resource link on Getting Started page On the Getting started page (http://myfaces.apache.org/gettingstarted.html), the URL referred to by \"here\" does not have the MyFaces examples webapp archive. It is nowhere to be found! \n\nMyFaces examples. Latest milestone webapp archive (myfaces-X.X.X-examples.zip or myfaces-X.X.X-examples.tgz) is here\n\nThe here link points to the download page -> http://myfaces.apache.org/download.html\n\nThis needs to be fixed ASAP. It is a big problem for newbies!",
        "Getting Started Page says examples are on download page. They are not. On the website the \"Getting Started Page\" states that the examples (myfaces-X.X.X-examples.zip) are on the \"Download  Page\" ((http://myfaces.apache.org/download.html)). They are not.\n\nIt seems that the examples are in the nightly distribution, but not in the main released distribution.\n\nIt seems the examples should be in the main distribution.\n\n"
    ],
    [
        "MYFACES-1650",
        "MYFACES-1643",
        "convertDateTime tag not implemented correctly in myfaces 1.2 It is not using ValueExpressions",
        "f:convertDateTime has wrong signatures of all setters (does not accept javax.el.ValueExpression) I get nightly build of Geronimo 2.0. It uses MyFaces-1.2.0-SNAP.\nI see that http://people.apache.org/repo/m2-snapshot-repository/org/apache/myfaces/core/myfaces-impl/1.2.0-SNAPSHOT/myfaces-impl-1.2.0-SNAPSHOT.jar has /META-INF/myfaces_core.tld which declares all attributes for f:convertDataTime as <deffeted-value> however methods of \norg.apache.myfaces.taglib.core.ConvertDateTimeTag (derived from org.apache.myfaces.shared_impl.taglib.core.ConvertDateTimeTagBase) accept only strings(thus it may not be deffered):\n\nhttp://svn.apache.org/viewvc/myfaces/shared/branches/3_0_0/core/src/main/java/org/apache/myfaces/shared/taglib/core/ConvertDateTimeTagBase.java?revision=479743&view=markup\n<code>\n    private String _dateStyle = \"default\"; // the default value as required by the spec (default in this case)\n    private String _locale = null;\n    private String _pattern = null;\n    private String _timeStyle = \"default\"; // the default value as required by the spec (default in this case)\n    private String _timeZone = null;\n    private String _type = null;\n\n    public void setDateStyle(String dateStyle)\n    {\n        _dateStyle = dateStyle;\n    }\n\n    public void setLocale(String locale)\n    {\n        _locale = locale;\n    }\n\n    public void setPattern(String pattern)\n    {\n        _pattern = pattern;\n    }\n\n    public void setTimeStyle(String timeStyle)\n    {\n        _timeStyle = timeStyle;\n    }\n\n    public void setTimeZone(String timeZone)\n    {\n        _timeZone = timeZone;\n    }\n\n    public void setType(String type)\n    {\n        _type = type;\n    }\n</code>\n\nThe indication is:\njavax.servlet.ServletException: Unable to compile class for JSP: \n\nAn error occurred at line: 72 in the jsp file: /jsp/cust/customer_details_spc.jsp\nThe method setPattern(String) in the type ConvertDateTimeTagBase is not applicable for the arguments (JspValueExpression)\n69: \t\t</f:facet>\n70: \t\t<w:dragSource dndTypeId=\"<%=DnDIds.ID_SPECIAL%>\" dndObjId=\"#{obj.spclID}\" dndText=\"#{obj.spclShrtName}\">\n71: \t\t\t<h:outputText id=\"cellFrom\" styleClass=\"specials-text-norm-dnd-ds\" value=\"#{obj.spclStrtDate}\" >\n72: \t\t\t\t<f:convertDateTime pattern=\"yyyy-MM-dd\" timeZone=\"#{commonInfo.timeZone}\" />\n73: \t\t\t</h:outputText>\n74: \t\t</w:dragSource>\n75: \t</h:column>\n\n\nAn error occurred at line: 72 in the jsp file: /jsp/cust/customer_details_spc.jsp\nThe method setTimeZone(String) in the type ConvertDateTimeTagBase is not applicable for the arguments (JspValueExpression)\n69: \t\t</f:facet>\n70: \t\t<w:dragSource dndTypeId=\"<%=DnDIds.ID_SPECIAL%>\" dndObjId=\"#{obj.spclID}\" dndText=\"#{obj.spclShrtName}\">\n71: \t\t\t<h:outputText id=\"cellFrom\" styleClass=\"specials-text-norm-dnd-ds\" value=\"#{obj.spclStrtDate}\" >\n72: \t\t\t\t<f:convertDateTime pattern=\"yyyy-MM-dd\" timeZone=\"#{commonInfo.timeZone}\" />\n73: \t\t\t</h:outputText>\n74: \t\t</w:dragSource>\n75: \t</h:column>\n\n"
    ],
    [
        "MYFACES-1653",
        "MYFACES-1633",
        "h:form popups to the top of h:view This problem is very similair to https://issues.apache.org/jira/browse/MYFACES-1633 and https://issues.apache.org/jira/browse/GERONIMO-3167 however now all the h:form is shifted, see attachments ",
        "Incorret view rendering after postback The rendered code and the html code from the page are not ordered correctly. Visual mess.\n\nEasily observable when running the simple examples with our 1.2 implementation."
    ],
    [
        "MYFACES-1660",
        "MYFACES-1658",
        "memory leak in JspStateManagerImpl Andr\u00e9 N\u00e6ss reported a memory leak in JspStateManagerImpl:\n\nhttp://www.mail-archive.com/dev@myfaces.apache.org/msg22905.html\n\n\n_oldSerializedViews = new ReferenceMap();\nneeds to be substituted by\n_oldSerializedViews = new ReferenceMap(AbstractReferenceMap.WEAK,\nAbstractReferenceMap.WEAK, true);\n",
        "Memory leak in JspStateManagerImpl We are working on a JSF project and recently started stress testing the system. This stress-testing caused the JVM to run out of memory and spend most of it time  doing Full GC. Analyzing the heap revealed that most of the memory was being retained by SerializedViewCollection instances. We also noticed that the value of NUMBER_OF_VIEWS_IN_SESSION didn't seem to affect the memory usage.\n\nIt seems the problem is due to the _oldSerializedViews hashmap which is supposed to use soft references and hence be GC-ed whenever there is a lack of memory, but this apparently doesn't work. Removing this hashmap completely solved the problem. It is however difficult to provide a simple testcase as we used JMeter to load the server with 600 users fetching a fairly big JSF page with a constant throughput of 20 requests per second.\n\nI should also mention that we found this problem with 1.1.4 but I fixed it with the 1.1.5 release.\n\nHere's the diff output:\n\n~/code/myfaces-1.1.5/impl/src/main/java/org/apache/myfaces/application/jsp$ svn diff\nIndex: JspStateManagerImpl.java\n===================================================================\n--- JspStateManagerImpl.java    (revision 543859)\n+++ JspStateManagerImpl.java    (working copy)\n@@ -18,7 +18,6 @@\n  */\n package org.apache.myfaces.application.jsp;\n\n-import org.apache.commons.collections.map.ReferenceMap;\n import org.apache.commons.lang.builder.EqualsBuilder;\n import org.apache.commons.lang.builder.HashCodeBuilder;\n import org.apache.commons.logging.Log;\n@@ -609,10 +608,6 @@\n         private final List _keys = new ArrayList(DEFAULT_NUMBER_OF_VIEWS_IN_SESSION);\n         private final Map _serializedViews = new HashMap();\n\n-        // old views will be hold as soft references which will be removed by\n-        // the garbage collector if free memory is low\n-        private transient Map _oldSerializedViews = null;\n-\n         public synchronized void add(FacesContext context, Object state) {\n             Object key = new SerializedViewKey(context);\n             _serializedViews.put(key, state);\n@@ -623,10 +618,7 @@\n             int views = getNumberOfViewsInSession(context);\n             while (_keys.size() > views) {\n                 key = _keys.remove(0);\n-                Object oldView = _serializedViews.remove(key);\n-                if (oldView != null) {\n-                    getOldSerializedViewsMap().put(key, oldView);\n-                }\n+                _serializedViews.remove(key);\n             }\n         }\n\n@@ -660,23 +652,9 @@\n             return views;\n         }\n\n-        /**\n-         * @return old serialized views map\n-         */\n-        protected Map getOldSerializedViewsMap() {\n-            if (_oldSerializedViews == null) {\n-                _oldSerializedViews = new ReferenceMap();\n-            }\n-            return _oldSerializedViews;\n-        }\n-\n         public Object get(Integer sequence, String viewId) {\n             Object key = new SerializedViewKey(viewId, sequence);\n-            Object value = _serializedViews.get(key);\n-            if (value == null) {\n-                value = getOldSerializedViewsMap().get(key);\n-            }\n-            return value;\n+            return _serializedViews.get(key);\n         }\n     }\n\n"
    ],
    [
        "MYFACES-1705",
        "MYFACES-1678",
        "MyFaces 1.2.1 rendering of Tag <h:commandButton> inside <h:panelGrid> doesn't close <td> tag Rendering of this page:\n<%@ page session=\"false\" contentType=\"text/html;charset=utf-8\"%>\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\n<%@ taglib uri=\"http://myfaces.apache.org/tomahawk\" prefix=\"t\"%>\n<html>\n<body>\n<f:view>\n<f:loadBundle basename=\"messages\" var=\"messages\" />\n<h:form id=\"form\">\n<h:panelGrid columns=\"1\">\n<h:commandButton value=\"\u00c4nderungen speichern\" action=\"#{persoenlicheDatenHandler.save}\" />\t\t\t\n</h:panelGrid>\n</h:form>\n</f:view>\n</body>\n</html>\n\ncomes out like this:\n\n<table><tbody><tr>\n<td>\n<input id=\"form:j_id_jsp_748720302_3\" name=\"form:j_id_jsp_748720302_3\" type=\"submit\" value=\"&Auml;nderungen speichern\" onclick=\"if(typeof window.clearFormHiddenParams_form=='function'){clearFormHiddenParams_form('form');}\" />\n</tr>\n</tbody></table>\n\nResults in the following warning:\nWARN HtmlResponseWriterImpl:234 - HTML nesting warning on closing td: element input rendered by component : {Component-Path : [Class: javax.faces.component.UIViewRoot,ViewId: /pages/daten.jsp][Class: javax.faces.component.html.HtmlForm,Id: form][Class: javax.faces.component.html.HtmlPanelGrid,Id: j_id_jsp_748720302_2][Class: javax.faces.component.html.HtmlCommandButton,Id: j_id_jsp_748720302_3]} not explicitly closed\n\nIf changed to <h:panelGrid columns=\"2\"> the output is:\n<table><tbody><tr><td>\n<input id=\"form:j_id_jsp_748720302_3\" name=\"form:j_id_jsp_748720302_3\" type=\"submit\" value=\"\u00c4nderungen speichern\" onclick=\"if(typeof window.clearFormHiddenParams_form=='function'){clearFormHiddenParams_form('form');}\" />\n<td></td></tr>\n</tbody></table>\n\nand therefore still one </td> short.",
        "h:panelGrid renders not complete table: last <td> is not closed h:panelGrid renders not complete table: last <td> is not closed\nThus it may produce invalid XHTML\n\nthe following code renders as:\n\t<h:panelGrid columns=\"2\" cellpadding=\"1\" cellspacing=\"1\" border=\"0\"\n\t\theaderClass=\"form-header-default\" \n\t\tcolumnClasses=\"form-column-names, form-column-values\" \n\t\tfooterClass=\"form-footer-default\">\n\t\t\n\t\t<f:facet name=\"header\">\n\t\t\t<h:outputText value=\"Enter search parameters:\" styleClass=\"form-text-bold\" />\n\t\t</f:facet>\n\t\t\n\t\t<h:outputText value=\"First name\" styleClass=\"form-text-norm\" />\n\t\t<h:inputText id=\"firstName\" styleClass=\"form-input-text\" value=\"#{customerSearchBean.firstName}\" />\n\n\t\t<h:outputText value=\"Last name\" styleClass=\"form-text-norm\" />\n\t\t<h:inputText id=\"lastName\" styleClass=\"form-input-text\" value=\"#{customerSearchBean.lastName}\" />\n\n\t\t<h:outputText value=\"SSN\" styleClass=\"form-text-norm\" />\n\t\t<h:inputText id=\"ssn\" styleClass=\"form-input-text\" value=\"#{customerSearchBean.ssn}\" />\n\t\t\n\t\t<h:outputText value=\"\" styleClass=\"form-text-norm\" />\n\t\t<h:commandButton id=\"doSearch\" type=\"submit\" value=\"Search\" styleClass=\"form-input-button\"\n\t\t\taction=\"#{customerSearchBean.doSearch}\" />\n\t</h:panelGrid>\n\n-- RENDERS TO --\n<table border=\"0\" cellpadding=\"1\" cellspacing=\"1\">\n<thead><tr><th class=\"form-header-default\" scope=\"colgroup\" colspan=\"2\">\n<span class=\"form-text-bold\">Enter search parameters:</span>\n</th></tr></thead><tbody><tr><td class=\"form-column-names\"><span class=\"form-text-norm\">First name</span></td><td class=\"form-column-values\"><input id=\"customerSearchForm:firstName\" name=\"customerSearchForm:firstName\" type=\"text\" value=\"john\" class=\"form-input-text\" /></td></tr>\n<tr><td class=\"form-column-names\"><span class=\"form-text-norm\">Last name</span></td><td class=\"form-column-values\"><input id=\"customerSearchForm:lastName\" name=\"customerSearchForm:lastName\" type=\"text\" value=\"\" class=\"form-input-text\" /></td></tr>\n\n<tr><td class=\"form-column-names\"><span class=\"form-text-norm\">SSN</span></td><td class=\"form-column-values\"><input id=\"customerSearchForm:ssn\" name=\"customerSearchForm:ssn\" type=\"text\" value=\"\" class=\"form-input-text\" /></td></tr>\n<tr><td class=\"form-column-names\"><span class=\"form-text-norm\"></span></td><td class=\"form-column-values\"><input id=\"customerSearchForm:doSearch\" name=\"customerSearchForm:doSearch\" type=\"submit\" value=\"Search\" onclick=\"if(typeof window.clearFormHiddenParams_customerSearchForm=='function'){clearFormHiddenParams_customerSearchForm('customerSearchForm');}\" class=\"form-input-button\" /></tr>\n</tbody></table>\n\nNOTE: that after \"customerSearchForm:doSearch\" element there is </tr> comming... with no </td>\n\nand violation in the log:\n10:42:58,265 WARN  [HtmlResponseWriterImpl] HTML nesting warning on closing td:\nelement input rendered by component : {Component-Path : [Class: javax.faces.comp\nonent.UIViewRoot,ViewId: /jsp/cust/customer_search.jsp][Class: com.ibm.jswm.jsf.\nWindowsManagerComp,Id: j_id_jsp_569314233_1][Class: javax.faces.component.html.H\ntmlForm,Id: customerSearchForm][Class: javax.faces.component.html.HtmlPanelGrid,\nId: j_id_jsp_569314233_3][Class: javax.faces.component.html.HtmlCommandButton,Id\n: doSearch]} not explicitly closed"
    ],
    [
        "MYFACES-1761",
        "MYFACES-1246",
        "Handling PostConstruct annotations - wrong order The specification states that managed bean methods annotated with @PostConstruct have to be called after the object is initialized and after dependency injection is performed. However, MyFaces calls those methods after the bean instance is created but before dependency injection is performed (for example, see http://www.nabble.com/myfaces-1.2.0-postConstruct-tf4760326.html ). In order to resolve this bug the LifecycleProvider interface has to be changed. Currently there's only one method responsible for creating/initializing a new bean: newInstance(). This design choice implicates that there's no possibility to seperate the steps \"creating the bean\" and \"postconstructing the bean\".",
        "JSR-252 Issue #119: implementations running in a JSR-250 container have their managed bean methods annotated with @PostConstruct be called after the object is instantiated, and after injection is performed, but before the bean is placed into scope. Specified that implementations running in a JSR-250 compliant container have their managed bean methods annotated with @PostConstruct be called after the object is instantiated, and after injection is performed, but before the bean is placed into scope.\nSpecified that methods annotated with @PreDestroy be called when the scope for the bean is ending.\n\nSee https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=252"
    ],
    [
        "MYFACES-1782",
        "MYFACES-1743",
        "France Locale and NumberConverter doesn't work well with currency strings This test-case shows, that there is a failure inside the standard NumberConverter (MyFaces):\n\nprotected void setUp() throws Exception\n{\n   super.setUp();\n\n   mock = new NumberConverter();\n   mock.setLocale(Locale.FRANCE);\n   FacesContext.getCurrentInstance().getViewRoot().setLocale(Locale.GERMANY);\n}\n\npublic void testFranceLocale()\n{\n   UIInput input = new UIInput();\n    mock.setType(\"currency\");\n    Number number = (Number)\nmock.getAsObject(FacesContext.getCurrentInstance(), input, \"12 345,68\n\u20ac\");\n    assertNotNull(number);\n}\n\nthe grouping_sep should be a nb-space...",
        "Allow NumberConverter to recognize both breaking and non-breaking spaces as grouping separators in the French locale In the French locale (fr) and possibly others, the grouping separator used by DecimalFormat is the non-breaking space character (unicode '\\u00A0'). However, when a user enters a space in an HTML text field, both IE and Firefox on Windows send a normal space (unicode '\\u0020'). As a result, the grouping separator is not recognized and the number is truncated: 10 000 becomes 10 after parsing.\n\nWhile MyFaces is technically correct here (it just delegates to DecimalFormat), it would be nice if NumberConverter was modified to also accept normal spaces as grouping separators. One way to do this would be to simply replace all normal spaces by non-breaking ones in the input string, no matter what the locale. The only downside that I see is that this could be considered a 'hack', i.e. not a very elegant solution."
    ],
    [
        "MYFACES-1794",
        "MYFACES-1793",
        "MF Core causes resources not found(404) errors (recently also corrected in Sun RI for JSF 1.2) Cf. the MF mailing list: topics like \"Dialog issue during ADF->Trinidad migration\"\nI came across it using tr:inputDate but in the list topic I mentioned above, so I first thought it was a Trinidad issue, but people more knowledgeable with the JSF spec(Adam Winer) pointed out it was a MF 1.2 core issue, and that the Sun RI had also sufferend from it, yet in the RI, this bug has recently been corrected. \nThe error I got was when clicking the calendar icon and expecting a cal popup. Instead I got: \n\"description The requested resource (.../__ADFv__.jsp) is not available.\"\n\nAs it potentially affects a lot of other components beyond this trinidad one, I marked it major as these components just don't work anymore.\nE.g. MF mailing list with topic \"RE: [Trinidad] HTTP 404 (file not found) while using DialogFramework\" points that out.\n--Wolf\n\n",
        "MF Core causes resources not found(404) errors (recently also corrected in Sun RI for JSF 1.2) Cf. the MF mailing list: topics like \"Dialog issue during ADF->Trinidad migration\"\nI came across it using tr:inputDate but in the list topic I mentioned above, so I first thought it was a Trinidad issue, but people more knowledgeable with the JSF spec(Adam Winer) pointed out it was a MF 1.2 core issue, and that the Sun RI had also sufferend from it, yet in the RI, this bug has recently been corrected. \nThe error I got was when clicking the calendar icon and expecting a cal popup. Instead I got: \n\"description The requested resource (.../__ADFv__.jsp) is not available.\"\n\nAs it potentially affects a lot of other components beyond this trinidad one, I marked it major as these components just don't work anymore.\nE.g. MF mailing list with topic \"RE: [Trinidad] HTTP 404 (file not found) while using DialogFramework\" points that out.\n--Wolf\n\n"
    ],
    [
        "MYFACES-1808",
        "MYFACES-1692",
        "h:commandLink doesn't execute action when Javascript is disabled I run the following view in a portlet (Liferay 4.3.5). I also have a navigation rule for the \"back\" action.\r\nsimple page:\r\n   <%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\" %>\r\n   <%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\" %>\r\n\r\n   <f:view>\r\n      <f:loadBundle basename=\"Language\" var=\"msgs\" />\r\n      <h:form id=\"articleForm\">\r\n         <h:outputText value=\"ARTICLE\" />\r\n         <h:commandLink action=\"back\" value=\"back\"/>\r\n      </h:form>\r\n</f:view>\r\n\r\n\r\nIn the rendered page, when I click on the link. Nothing happens. \r\n\r\nDebugging the code shows me that the form is not set to submitted in the restore phase. \r\n(org.apache.myfaces.shared_impl.renderkit.html.HtmlFormRenderBase, line 227 in version 1.1.5)\r\n\r\nWhen clicking the link, the form is not submitted and the parameter articleForm_SUBMIT is not added to the request.\r\n\r\n",
        "CommandLink does not execute action if no javascript is allowed Situation:\nThe tag <h:commandLink action=\"#{someBean.someAction}\" value=\"submit\"></h:commandLink> is used in a jsp page, which is visited by the user. The user clicks on the link.\n\nExpected behaviour:\nThe method someBean.someAction() should be called, and the navigation rule which matches the outcome should determine the page to be displayed.\n\nWrong behaviour:\nThe method defined in action is not called and the same jsp page is rendered again. \n\nI did some debugging to find the reason of this problem. It seems to me that the server does not recognize that the click on the link is a postback. In line 172 in org.apache.myfaces.renderkit.html.HtmlResponseStateManager, the HTTP Parameter ResponseStateManager.VIEW_STATE_PARAM is checked for existence. If it is there, the request is a callback, and if it is not there, the request is not treated as postback. This parameter is not encoded in the link rendered by h:commandLink, thus the request is not treated as a postback, and the page is just rendered again.\n\nIf javaScript rendering is allowed, this works fine because the HTTP parameter ResponseStateManager.VIEW_STATE_PARAM is rendered as a hidden input field, and the javascript code does a form submit.\n\nIt seems to me that the problem could be solved by adding the parameter ResponseStateManager.VIEW_STATE_PARAM to the generated link (but I did not check it)."
    ],
    [
        "MYFACES-1832",
        "MYFACES-1342",
        "bad charset encoding on <f:param> tag there is a bug into myfaces 1.1.5 and up..... \n\non a page as it:\n\n<h:form>                                                                            \n                 <h:commandLink action=\"#{Action.execute}\">\n                    <h:outputText value=\"some\"/>\n                    <f:param name=\"id\" value=\"#{instance.id}\"/>\n                 </h:commandLink>\n</h:form> \n\nusing <f:param name=\"id\" value=\"#{instance.id}\"> tag inside <h:commandLink> , I see that instance.id value has a bad encoding... if I use a word with special characters as \u00e0, \u00e8, \u00f9, \u00ec as instance.id for example 'modalit\u00e0' , it is encoded into 'modalit&amp;#224' instead of 'modalit&agrave' . When I click on link through command link, that id cannot to be decoded and so cannot to work with the real value ofinstance.id",
        "Can't add nested param tags to an h:output link When we add a nested param tag to the an output link  as shown below we get a stack trace on the page\n\n<h:outputLink value=\"BusinessObjectPropertySummary\">\n   <f:param name=\"buisnessObjectClass\" value=\"#{businessObjectDetails.className}\"/>\n   <h:outputText value=\"#{businessObjectDetails.name}\"/>\n</h:outputLink>\n\njava.lang.NullPointerException: charsetName\n\tat java.io.OutputStreamWriter.<init>(OutputStreamWriter.java:81)\n\tat java.net.URLEncoder.encode(URLEncoder.java:189)\n\tat org.apache.myfaces.renderkit.html.HtmlLinkRendererBase.addParameterToHref(HtmlLinkRendererBase.java:428)\n\tat org.apache.myfaces.renderkit.html.HtmlLinkRendererBase.addChildParametersToHref(HtmlLinkRendererBase.java:360)\n\tat org.apache.myfaces.renderkit.html.HtmlLinkRendererBase.renderOutputLinkStart(HtmlLinkRendererBase.java:376)\n\tat org.apache.myfaces.renderkit.html.HtmlLinkRendererBase.encodeBegin(HtmlLinkRendererBase.java:95)\n\tat javax.faces.component.UIComponentBase.encodeBegin(UIComponentBase.java:307)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:441)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChildren(RendererUtils.java:427)\n\tat org.apache.myfaces.renderkit.RendererUtils.renderChild(RendererUtils.java:448)\n\tat org.apache.myfaces.renderkit.html.ext.HtmlTableRenderer.renderColumnBody(HtmlTableRenderer.java:206)\n\tat org.apache.myfaces.renderkit.html.HtmlTableRendererBase.encodeColumnChild(HtmlTableRendererBase.java:168)\n\tat org.apache.myfaces.renderkit.html.ext.HtmlTableRenderer.encodeColumnChild(HtmlTableRenderer.java:161)\n\tat org.apache.myfaces.renderkit.html.HtmlTableRendererBase.encodeInnerHtml(HtmlTableRendererBase.java:154)\n\tat org.apache.myfaces.renderkit.html.HtmlTableRendererBase.encodeChildren(HtmlTableRendererBase.java:94)\n\tat org.apache.myfaces.renderkit.html.ext.HtmlTableRenderer.encodeChildren(HtmlTableRenderer.java:57)\n\tat javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:319)\n\tat com.sun.facelets.tag.jsf.ComponentSupport.encodeRecursive(ComponentSupport.java:234)\n\tat com.sun.facelets.tag.jsf.ComponentSupport.encodeRecursive(ComponentSupport.java:239)\n\tat com.sun.facelets.tag.jsf.ComponentSupport.encodeRecursive(ComponentSupport.java:239)\n\tat com.sun.facelets.tag.jsf.ComponentSupport.encodeRecursive(ComponentSupport.java:239)\n\tat com.sun.facelets.tag.jsf.ComponentSupport.encodeRecursive(ComponentSupport.java:239)\n\tat com.sun.facelets.FaceletViewHandler.renderView(FaceletViewHandler.java:554)\n\tat com.peace.externalInteraction.web.jsf.PeaceFaceletViewHandler.renderView(PeaceFaceletViewHandler.java:62)\n\tat org.apache.myfaces.adfinternal.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:175)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:352)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:107)\n\tat org.apache.myfaces.webapp.MyFacesServlet.service(MyFacesServlet.java:74)\n\tat com.peace.externalInteraction.web.OmniServlet.service(OmniServlet.java:78)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.myfaces.adfinternal.webapp.AdfFacesFilterImpl._invokeDoFilter(AdfFacesFilterImpl.java:320)\n\tat org.apache.myfaces.adfinternal.webapp.AdfFacesFilterImpl._doFilterImpl(AdfFacesFilterImpl.java:289)\n\tat org.apache.myfaces.adfinternal.webapp.AdfFacesFilterImpl.doFilter(AdfFacesFilterImpl.java:213)\n\tat org.apache.myfaces.adf.webapp.AdfFacesFilter.doFilter(AdfFacesFilter.java:90)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat org.apache.myfaces.component.html.util.ExtensionsFilter.doFilter(ExtensionsFilter.java:122)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173)\n\tat com.peace.externalInteraction.web.jsf.ViewModeFilter.doFilter(ViewModeFilter.java:29)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)"
    ],
    [
        "MYFACES-1834",
        "MYFACES-1097",
        "suffix added to component id when including files In core 1.2 to 1.2.2, any use of jsp:include causes the ids of components in the included file to have a random string appended to them.\n\nThis results in some ugly ids. However more significantly, the id of a component is not predictable even when an id attribute is explicitly assigned.\n\nIn addition, this breaks the tomahawk forceId feature, because although the namespace prefix is omitted the rest of the id changes making \"forceId\" useless.\n\nThe cause is class UIComponentClassicTagBase, where checkIfItIsInAnIterator() returns true if the current component is in an included or forwarded page. Later, the createUniqueId method adds a suffix to the user-specified if member isInAnIterator is true.\n\nUnfortunately, documentation on why things are implemented as they are is lacking.\n\nChecking for iteration is needed to support\n  <c:forEach ..>\n   <h:inputText id=\"name\"/>\n  </c:forEach>\n\nChecking for includedOrForwarded might be to allow:\n    <jsp:include page=\"subPage.jsp\" />\n    <jsp:include page=\"subPage.jsp\" />\n\nHowever this is a very rare usage; support for this should not hurt everyone.\n\nAnd Sun Mojarra does *not* mess with the ids like this...testing shows\nthat the ids of components are the same regardless of whether they are\ninline or in an included file.\n\nMaybe the \"isInIterator\" check could look to see whether the *same file* is being included twice, eg by keeping a list of the files included so far, and returning true only if the same string is encountered twice? That would allow multiple inclusions, but not mess with ids for a single inclusion.",
        "Duplicated id generation for jsf_tree, jsf_state and jsf_viewid The forms included in the resulting HTML page contains the same value for the id attributes.\n\nF.ex:\n\n <input type=\"hidden\" name=\"jsf_tree_64\" id=\"jsf_tree_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_state_64\" id=\"jsf_state_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_viewid\" id=\"jsf_viewid\" value=\"...\"/>\n\nare used for all forms on the page.\n\nThis make the page fail W3C/HTMLvalidation.\n\n Line 239 column 2703: ID \"jsf_state_64\" already defined.\n Line 165 column 2703: ID \"jsf_state_64\" first defined here.\n"
    ],
    [
        "MYFACES-1847",
        "MYFACES-1791",
        "View to be restored was removed and cannot be retrieved from the map (JspStatemanagerImpl) Affected version: myfaces-impl-1.1.6-SNAPSHOT.jar\n\n\nWe have an web application which used myfaces,tomahawk and freemarker. The manin page of the application is been divided into 3 parts (Top Menu links), Tree menu (Left frame) and selected page to be displayed on the right side frame.\n\nDuring the module test, we observed that myfaces is creating two serialized views. One for the left side tree2 menu jsf and the other for right side content jsf corresponding to the report item selected. Since the default number of views in the session is 20, myfaces will remove the weak referenced view if the number of views in the session exceeds the threshold. So we have done some regression on the tree menu items which had created more than 20 views. But the wierd thing is, it has removed the serialized view of the tree2 jsf in the mid of regression which was created in the initial stage and supposed to be made available in the map and to be restored when the other report menu items are selected. Due to this bug, our application is displaying the tree2 menu in the right side frame as well. We have to refresh/reload the page to get out of this issue.\n\nWhen the other report items are selected, the application is trying to get the view from the serialized map but due to the bug in the code it's unable to find the view which was removed earlier and prints the message \n\nExiting restoreTreeStructure - No serialized view found in server session!\n\nBelow is the suspected code snippet from JspStatemanagerImpl$SerializedViewCollection class\n\n\twhile (_keys.remove(key)) ;\n\t_keys.add(key);\n\n\tint views = getNumberOfViewsInSession(context);\n\t\n\twhile (_keys.size() > views) {\n\tkey = _keys.remove(0);//View will be removed here\n\n\n\tObject oldView = _serializedViews.remove(key);\n\t\n\t\tif (oldView != null) {\n\t\t    getOldSerializedViewsMap().put(key, oldView);\n\t\t}\n\t\n\n\n\t}\n\nDid anyone ever faced the same issue and managed to fix?\n\n\nI hope someone out there might be able to help me out of this issue. I understand that there were some out of memory and perfomance issues in JspStatemanagerImpl of release myfaces-impl-1.1.6-SNAPSHOT which was fixed in myfaces-impl-1.2.X. But to use myfaces-impl-1.2.X, we should run the application in a server which supports JSP 2.1. We are using weblogic 9.2 which has JSP 2.0 container.\n\nI am currently working on this issue to avoid removing the view which is to be restored later for release myfaces-impl-1.1.6-SNAPSHOT.\n\nLet me know if further details required.\nWould greatly appreciate if anyone help me out on this.\n",
        " state management and multiple frames There is a problem in JSF when more than one window are opened in an application. There are only a maximum number of NUMBER_OF_VIEWS_IN_SESSION  view states saved at one moment (when server side state saving is enabled).\nIf 2 windows are opened and you navigate on one of them for NUMBER_OF_VIEWS_IN_SESSION times, you will lose the other window's state. \n\n"
    ],
    [
        "MYFACES-1858",
        "MYFACES-1854",
        "Resource bundle values are not evaluated properly in java code It seems like there is a general problem in resource bundle evaluation in java code.\nIt seems like when ever loaded page is being reloaded (post back) the resource bundle in java code is not evaluated.\nI use two methods:\n1) \n  public static FacesContext getFacesContext()\n  {\n    return FacesContext.getCurrentInstance();\n  }\n\n  private static Application getApplication()\n  {\n    ApplicationFactory appFactory = (ApplicationFactory) FactoryFinder.\n        getFactory(FactoryFinder.APPLICATION_FACTORY);\n    return appFactory.getApplication();\n  }\n\n  private static ValueBinding getValueBinding(String el)\n  {\n    return getApplication().createValueBinding(el);\n  }\n\n  public static Object getElValue(String el)\n  {\n    return getValueBinding(el).getValue(getFacesContext());\n  }\n\nthen I do: getElValue(\"#{bundle['some.resource.value']}\");\nIn this case, for example, when I want to fill dropdown with multi-laguage values and convert them to the proper data from the bundle I get this exception (Note: when comming to the page, it loads ok, it happens only on the postback call):\njavax.faces.FacesException: Exception while validating component with path : {Component-Path : [Class: javax.faces.component.UIViewRoot,ViewId: /cmp_new.jsp][Class: javax.faces.component.html.HtmlForm,Id: frmNewCampaign][Class: javax.faces.component.html.HtmlInputText,Id: po]}\n\tat javax.faces.component.UIInput.validate(UIInput.java:346)\n\tat javax.faces.component.UIInput.processValidators(UIInput.java:144)\n\tat javax.faces.component.UIForm.processValidators(UIForm.java:74)\n\tat javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:658)\n\tat javax.faces.component.UIViewRoot.access$101(UIViewRoot.java:43)\n\tat javax.faces.component.UIViewRoot$2.process(UIViewRoot.java:97)\n\tat javax.faces.component.UIViewRoot.process(UIViewRoot.java:205)\n\tat javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:93)\n\tat org.apache.myfaces.lifecycle.ProcessValidationsExecutor.execute(ProcessValidationsExecutor.java:32)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:103)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:76)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:148)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat com.todacell.ui.view.filter.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:149)\n\tat com.todacell.ui.view.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:61)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n\tat java.lang.Thread.run(Thread.java:619)\nCaused by: java.lang.NullPointerException\n\tat com.todacell.ui.view.util.ViewUtil.collectionToSelectItemList(ViewUtil.java:89)\n\tat com.todacell.ui.view.util.ViewUtil.collectionToSelectItemList(ViewUtil.java:98)\n\tat com.todacell.ui.view.bean.campaign.CampaignNewBean.<init>(CampaignNewBean.java:43)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n\tat java.lang.Class.newInstance0(Class.java:355)\n\tat java.lang.Class.newInstance(Class.java:308)\n\tat org.apache.myfaces.config.annotation.TomcatAnnotationLifecycleProvider.newInstance(TomcatAnnotationLifecycleProvider.java:45)\n\tat org.apache.myfaces.config.ManagedBeanBuilder.buildManagedBean(ManagedBeanBuilder.java:81)\n\tat org.apache.myfaces.el.unified.resolver.ManagedBeanResolver.createManagedBean(ManagedBeanResolver.java:196)\n\tat org.apache.myfaces.el.unified.resolver.ManagedBeanResolver.getValue(ManagedBeanResolver.java:162)\n\tat javax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.access$301(FacesCompositeELResolver.java:46)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver$4.invoke(FacesCompositeELResolver.java:108)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.invoke(FacesCompositeELResolver.java:148)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:104)\n\tat org.apache.myfaces.el.VariableResolverImpl.resolveVariable(VariableResolverImpl.java:61)\n\tat org.apache.myfaces.custom.redirectTracker.RedirectTrackerVariableResolver.resolveVariable(RedirectTrackerVariableResolver.java:41)\n\tat org.apache.myfaces.custom.security.SecurityContextVariableResolver.resolveVariable(SecurityContextVariableResolver.java:45)\n\tat org.apache.myfaces.el.convert.VariableResolverToELResolver.getValue(VariableResolverToELResolver.java:93)\n\tat javax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.access$301(FacesCompositeELResolver.java:46)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver$4.invoke(FacesCompositeELResolver.java:108)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.invoke(FacesCompositeELResolver.java:148)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:104)\n\tat org.apache.el.parser.AstIdentifier.getValue(AstIdentifier.java:45)\n\tat org.apache.el.parser.AstValue.getTarget(AstValue.java:42)\n\tat org.apache.el.parser.AstValue.getType(AstValue.java:35)\n\tat org.apache.el.ValueExpressionImpl.getType(ValueExpressionImpl.java:174)\n\tat org.apache.jasper.el.JspValueExpression.getType(JspValueExpression.java:58)\n\tat org.apache.myfaces.shared_impl.renderkit._SharedRendererUtils.findUIOutputConverter(_SharedRendererUtils.java:58)\n\tat org.apache.myfaces.shared_impl.renderkit.RendererUtils.findUIOutputConverter(RendererUtils.java:391)\n\tat org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedUIOutputValue(RendererUtils.java:743)\n\tat org.apache.myfaces.shared_impl.renderkit.html.HtmlTextRendererBase.getConvertedValue(HtmlTextRendererBase.java:219)\n\tat javax.faces.component.UIInput.getConvertedValue(UIInput.java:380)\n\tat javax.faces.component.UIInput.validate(UIInput.java:328)\n\t... 30 more\n2) The second method I use:\n  public static Object getElValue(String el)\n  {\n    return getValueBinding(el).getValue(getFacesContext());\n  }\nThis method doesnt throw exception, but it returns an empty string.\nFor example, if I want to show error message from resource bundle, when posting page data, an empty error string returns.\nWhen putting simple string with no resource bundle, page loads an error shown ok.\n\nNote that all the jsp page has many calls to the same resource bundle, and the page itself is presented properly. Meaning the problem happens only when calling the resource from java code.",
        "<f:selectItems> does not evaluates EL expressions <f:selectItems> does not evaluates EL expressions. This, for example, makes impossible to create multi-language dynamic drop down items.\nExample:\n-------------\nSelectItem selectItem = new SelectItem(\"-1\",  \"#{bundle['dropdown.advertiser.select']}\")\nThis EL expression will not be evaluated.\n\nIn JSP value is evaluated:\n  <h:selectOneMenu>\n    <f:selectItem itemValue=\"-1\" itemLabel=\"#{bundle['dropdown.advertiser.select'']}\" />\n  </h:selectOneMenu>"
    ],
    [
        "MYFACES-1891",
        "MYFACES-1567",
        "ClassCastException in converter when Hiding / Showing unselected selectOneRadio See the attached example.\r\n\r\nWhen the block with the selectOneRadio ist shown, then hidden and then shown again a ClassCastException occurs in the Converter. The selectOneRadio has as submittedValue org.apache.myfaces.shared_impl.renderkit.RendererUtils$1, for which the conversion is done.\r\n\r\njavax.faces.FacesException: Exception while calling encodeEnd on component : {Component-Path : [Class: org.ajax4jsf.component.AjaxViewRoot,ViewId: /WEB-INF/pages/schnellerfassung/dea/dea.xhtml][Class: javax.faces.component.html.HtmlForm,Id: form][Class: org.apache.myfaces.custom.div.Div,Id: hideableBlock][Class: javax.faces.component.html.HtmlSelectOneRadio,Id: selectOneRadio]}\r\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:610)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChild(RendererBase.java:286)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChildren(RendererBase.java:262)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChild(RendererBase.java:284)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChildren(RendererBase.java:262)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChild(RendererBase.java:284)\r\n\tat org.ajax4jsf.renderkit.AjaxChildrenRenderer.encodeAjaxComponent(AjaxChildrenRenderer.java:125)\r\n\tat org.ajax4jsf.renderkit.AjaxChildrenRenderer.encodeAjaxChildren(AjaxChildrenRenderer.java:68)\r\n\tat org.ajax4jsf.renderkit.AjaxChildrenRenderer.encodeAjaxComponent(AjaxChildrenRenderer.java:116)\r\n\tat org.ajax4jsf.renderkit.AjaxContainerRenderer.encodeAjax(AjaxContainerRenderer.java:123)\r\n\tat org.ajax4jsf.component.AjaxViewRoot.encodeAjax(AjaxViewRoot.java:673)\r\n\tat org.ajax4jsf.component.AjaxViewRoot.encodeChildren(AjaxViewRoot.java:544)\r\n\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:239)\r\n\tat com.sun.facelets.FaceletViewHandler.renderView(FaceletViewHandler.java:592)\r\n\tat org.ajax4jsf.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:108)\r\n\tat org.ajax4jsf.application.AjaxViewHandler.renderView(AjaxViewHandler.java:189)\r\n\tat org.springframework.faces.webflow.JsfView.render(JsfView.java:92)\r\n\tat org.springframework.webflow.engine.ViewState.render(ViewState.java:240)\r\n\tat org.springframework.webflow.engine.ViewState.resume(ViewState.java:199)\r\n\tat org.springframework.webflow.engine.Flow.resume(Flow.java:535)\r\n\tat org.springframework.webflow.engine.impl.FlowExecutionImpl.resume(FlowExecutionImpl.java:261)\r\n\tat org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:153)\r\n\tat org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:173)\r\n\tat org.springframework.webflow.mvc.servlet.FlowController.handleRequest(FlowController.java:172)\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:875)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:809)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:571)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:511)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:710)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.metzler.ec.web.filter.RendererFilter.doFilter(RendererFilter.java:183)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:154)\r\n\tat org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:260)\r\n\tat org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:366)\r\n\tat org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:493)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:359)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.rememberme.RememberMeProcessingFilter.doFilterHttp(RememberMeProcessingFilter.java:116)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:268)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:268)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:87)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:61)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:229)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:174)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\r\n\tat java.lang.Thread.run(Thread.java:595)\r\nCaused by: javax.faces.convert.ConverterException: java.lang.ClassCastException: org.apache.myfaces.shared_impl.renderkit.RendererUtils$1\r\n\tat javax.faces.convert.IntegerConverter.getAsString(IntegerConverter.java:85)\r\n\tat org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:628)\r\n\tat org.apache.myfaces.shared_impl.renderkit.html.HtmlRadioRendererBase.encodeEnd(HtmlRadioRendererBase.java:91)\r\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:607)\r\n\t... 87 more\r\nCaused by: java.lang.ClassCastException: org.apache.myfaces.shared_impl.renderkit.RendererUtils$1\r\n\tat javax.faces.convert.IntegerConverter.getAsString(IntegerConverter.java:81)\r\n\t... 90 more",
        "\"java.lang.IllegalArgumentException: Value is no String\" due to NOTHING being used \"java.lang.IllegalArgumentException: Value is no String\" error is caused in all select one components in both CORE and TOMAHAWK due to the usage of RendererUtils.NOTHING class.\n\nInstead of using \"((EditableValueHolder) component).setSubmittedValue(null);\" in HtmlRendererUtils, the following code is used:\n\n((EditableValueHolder) component).setSubmittedValue(RendererUtils.NOTHING);\n\nThis NOTHING is not a valid submitted value for select one component and causes errors.\n\nThe stack trace is:\n...does not have a Converter\n       at org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:513)\n       at org.apache.myfaces.shared_impl.renderkit.html.HtmlRadioRendererBase.encodeEnd(HtmlRadioRendererBase.java:95)\n       at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:539)\n       at org.ajax4jsf.framework.renderer.RendererBase.renderChild(RendererBase.java:256)\n       at org.ajax4jsf.framework.renderer.RendererBase.renderChildren(RendererBase.java:232)\n       at org.ajax4jsf.framework.renderer.AjaxContainerRenderer.encodeChildren(AjaxContainerRenderer.java:100)\n       at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)\n...\n\nDuring rendering of the component, the NOTHING is not null and not a string, so therefore the error is thrown. This is a critical error as it breaks the entire page and the user is left viewing an error page. \n\nProposed fix: remove the NOTHING variable from RendererUtils and use null instead. The only code that actually cares about NOTHING is in HtmlRendererUtils:\n            UISelectOne uiSelectOne = (UISelectOne) uiComponent;\n            Object lookup = uiSelectOne.getSubmittedValue();\n            if (lookup == null) {\n                lookup = uiSelectOne.getValue();\n                String lookupString = RendererUtils.getConvertedStringValue(facesContext, uiComponent, converter, lookup);\n                lookupSet = Collections.singleton(lookupString);\n            }\n            else if (org.apache.myfaces.shared_tomahawk.renderkit.RendererUtils.NOTHING.equals(lookup)) {\n                lookupSet = Collections.EMPTY_SET;\n            }\n\nI don't see why it is done this way. It may be possible to use isLocalValueSet instead (setLocalValueSet(true); setSubmittedValue(null);). This way, it can be checked that a value was submitted, but the value was null. If this proposed fix is not acceptible, \"org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:513)\" needs to be fixed to handle NOTHING values.\n"
    ],
    [
        "MYFACES-1904",
        "MYFACES-1760",
        "Exception encoding selectOneMenu when value has an intermediate node null I have a managed bean called \"treeManager\", with a \"selectedNode\" property that is null the first time.\nI have three input components: 2 inputText, and a selectOneMenu, the JSP code is this:\n\n...\n<h:outputLabel for=\"nodeName\" value=\"Nom\"/>\n<h:inputText id=\"nodeName\" value=\"#{treeManager.selectedNode.name}\" />\n\n<h:outputLabel for=\"nodeDescription\" value=\"Descripci\u00f3\"/>\n<h:inputText id=\"nodeDescription\" value=\"#{treeManager.selectedNode.description}\"  />\n\n<h:outputLabel for=\"ambitType\" value=\"\u00c0mbit\"/>\n<h:selectOneMenu id=\"ambitType\" value=\"#{treeManager.selectedNode.ambit}\">\n  <f:selectItem itemLabel=\"Global\" itemValue=\"global\"/>\n  <f:selectItem itemLabel=\"Organisme\" itemValue=\"organisme\"/>\n  <f:selectItem itemLabel=\"Procediment\" itemValue=\"procediment\"/>\n</h:selectOneMenu>\n.... \n\n\nWhen I try the JSF I get this error.\n\n|javax.faces.FacesException: Exception while calling encodeEnd on component : {Component-Path : [Class: org.ajax4jsf.component.AjaxViewRoot,ViewId: /dissenyador/estructures.jsp][Class: javax.faces.component.html.HtmlPanelGrid,Id: j_id_jsp_305935947_1]}|\n| at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:610)|\n\nCaused by: ...\n\n|Caused by: org.apache.jasper.el.JspPropertyNotFoundException: /dissenyador/estructures.jsp(60,8) '#{treeManager.selectedNode.ambit}' Target Unreachable, 'selectedNode' returned null|\n| at org.apache.jasper.el.JspValueExpression.getType(JspValueExpression.java:61)|\n| at org.apache.myfaces.shared_impl.renderkit._SharedRendererUtils.findUIOutputConverter(_SharedRendererUtils.java:58)|\n| at org.apache.myfaces.shared_impl.renderkit.RendererUtils.findUIOutputConverter(RendererUtils.java:391)|\n| at org.apache.myfaces.shared_impl.renderkit.html.HtmlRendererUtils.findUIOutputConverterFailSafe(HtmlRendererUtils.java:393)|\n| at org.apache.myfaces.shared_impl.renderkit.html.HtmlRendererUtils.internalRenderSelect(HtmlRendererUtils.java:316)|\n| at org.apache.myfaces.shared_impl.renderkit.html.HtmlRendererUtils.renderMenu(HtmlRendererUtils.java:288)|\n| at org.apache.myfaces.shared_impl.renderkit.html.HtmlMenuRendererBase.encodeEnd(HtmlMenuRendererBase.java:57)|\n| at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:607)|\n\n\n\nComments from Simon Kitching on the mailing list:\n\nInteresting. From the stacktrace it look like the problem is when trying \nto determine the *type* that this expression returns.\n\nWhen actually asking for the value, null is simply returned if the \nintermediate object is not there.\n\nBut when asking what static type of object would be returned from the \nbound property, of course there is a real problem if the intermediate \nnode is not there.\n\nHere's the code from SharedRendererUtils.findUIOutputConverter; the \ngetType call is the problem:\n        Class valueType = vb.getType(facesContext);  // boom when an \nintermediate node in the EL is null\n        if (valueType == null) return null;\n\n        if (String.class.equals(valueType)) return null;    //No \nconverter needed for String type\n        if (Object.class.equals(valueType)) return null;    //There is \nno converter for Object class\n\nThe HtmlRendererUtils.internalRenderSelect uses\n  converter = findUIOutputConverterFailSafe\n -- which obviously is not quite so \"fail safe\" :-)\n\nI'm not quite sure what the converter is being used for during rendering \nof the select component, but I do know that the rules about converters \nand select-components are quite complex. The HTML select component must \nalways render strings for its options, but JSF requires typed objects to \nbe passed between the select *component* and the backing beans. So \nconversions are required to be invoked at various times.\n\nI think a JIRA issues should definitely be filed for this. If a \nconverter is optional here, then the code should catch this exception \nand not use a converter. Even if a converter is mandatory (ie an error \nshould be reported if the value-type cannot be determined) then at least \nthe error reporting needs to be improved. And it is definitely a myfaces \nissue, not a Geronimo one.\n\n",
        "Using \"getSelectedValues\" of \"UISelectMany\" seems to be causing \"ClassCastException\" It seems like calling getSelectedValues method of selectBooleanCheckbox causes exception.\nThis is an example for a fregment of code:\n---------------------------------------------------------\n                            <t:selectManyCheckbox value=\"#{test_scope.targetPagePhysicals}\" layout=\"pageDirection\" converter=\"PagePhysicalConverter\" binding=\"#{test_scope.htmlSelect}\">\n                              <f:selectItems value=\"#{test_scope.pagePhysicals}\" />\n                            </t:selectManyCheckbox>\n                            <t:commandButton value=\"submitTargetPages\" style=\"width:100px\" immediate=\"true\" onclick=\"submit()\" forceId=\"true\" actionListener=\"#{test_scope.targetPagesSelectedAction}\" />\n\nIn the bean:\n----------------\n  public void targetPagesSelectedAction(ActionEvent event)\n  {\n    Object[] xx = htmlSelect.getSelectedValues();\n    FacesContext.getCurrentInstance().renderResponse();\n  }\n\nCauses the following exception:\n-------------------------------------------\njavax.servlet.ServletException: Exception while invoking expression #{test_scope.targetPagesSelectedAction}\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:154)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.ajaxanywhere.AAFilter.doFilter(AAFilter.java:46)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.shale.faces.ShaleApplicationFilter.doFilter(ShaleApplicationFilter.java:285)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat com.amadesa.admin.model.persistence.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:149)\n\tat com.amadesa.admin.model.persistence.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:56)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:228)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:104)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:216)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:634)\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:445)\n\tat java.lang.Thread.run(Thread.java:619)\nCaused by: javax.faces.el.EvaluationException: Exception while invoking expression #{test_scope.targetPagesSelectedAction}\n\tat org.apache.myfaces.el.MethodBindingImpl.invoke(MethodBindingImpl.java:156)\n\tat javax.faces.component.UICommand.broadcast(UICommand.java:89)\n\tat javax.faces.component.UIViewRoot._broadcastForPhase(UIViewRoot.java:97)\n\tat javax.faces.component.UIViewRoot.processDecodes(UIViewRoot.java:139)\n\tat org.apache.myfaces.lifecycle.ApplyRequestValuesExecutor.execute(ApplyRequestValuesExecutor.java:32)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:95)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:70)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:139)\n\t... 25 more\nCaused by: java.lang.ClassCastException: java.util.ArrayList cannot be cast to [Ljava.lang.Object;\n\tat javax.faces.component.UISelectMany.getSelectedValues(UISelectMany.java:48)\n\tat com.amadesa.admin.view.bean.test.TestScopeBean.targetPagesSelectedAction(TestScopeBean.java:166)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n\tat java.lang.reflect.Method.invoke(Method.java:597)\n\tat org.apache.myfaces.el.MethodBindingImpl.invoke(MethodBindingImpl.java:132)\n\t... 32 more"
    ],
    [
        "MYFACES-1905",
        "MYFACES-1097",
        "Component ID changes after submit if encoding='multipart/form-data' and part of page has been included. My test page:\n<h:form enctype=\"multipart/form-data\" id=\"_form\">\n\t\t<jsp:include page=\"menu.jsp\" />\n\t\t<t:inputFileUpload ></t:inputFileUpload>\n\t\t<h:commandButton value=\"Upload\"></h:commandButton>\n\t</h:form>\n\nmenu.jsp :\n\n<h:panelGrid columns=\"1\" id=\"grid\">\n\t<h:selectOneMenu value=\"#{bean.select}\" id=\"select\">\n\t\t<f:selectItem itemValue=\"none\" itemLabel=\"none\"/>\n\t\t<f:selectItem itemValue=\"www\" itemLabel=\"www\"/>\n\t</h:selectOneMenu>\n</h:panelGrid>\n\n\nFirstly SelectOneMenu has '_form:select' id. After upload and page refreshed ID changed to '_form:selectj_id_1'.\n\n\n",
        "Duplicated id generation for jsf_tree, jsf_state and jsf_viewid The forms included in the resulting HTML page contains the same value for the id attributes.\n\nF.ex:\n\n <input type=\"hidden\" name=\"jsf_tree_64\" id=\"jsf_tree_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_state_64\" id=\"jsf_state_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_viewid\" id=\"jsf_viewid\" value=\"...\"/>\n\nare used for all forms on the page.\n\nThis make the page fail W3C/HTMLvalidation.\n\n Line 239 column 2703: ID \"jsf_state_64\" already defined.\n Line 165 column 2703: ID \"jsf_state_64\" first defined here.\n"
    ],
    [
        "MYFACES-1905",
        "MYFACES-1834",
        "Component ID changes after submit if encoding='multipart/form-data' and part of page has been included. My test page:\n<h:form enctype=\"multipart/form-data\" id=\"_form\">\n\t\t<jsp:include page=\"menu.jsp\" />\n\t\t<t:inputFileUpload ></t:inputFileUpload>\n\t\t<h:commandButton value=\"Upload\"></h:commandButton>\n\t</h:form>\n\nmenu.jsp :\n\n<h:panelGrid columns=\"1\" id=\"grid\">\n\t<h:selectOneMenu value=\"#{bean.select}\" id=\"select\">\n\t\t<f:selectItem itemValue=\"none\" itemLabel=\"none\"/>\n\t\t<f:selectItem itemValue=\"www\" itemLabel=\"www\"/>\n\t</h:selectOneMenu>\n</h:panelGrid>\n\n\nFirstly SelectOneMenu has '_form:select' id. After upload and page refreshed ID changed to '_form:selectj_id_1'.\n\n\n",
        "suffix added to component id when including files In core 1.2 to 1.2.2, any use of jsp:include causes the ids of components in the included file to have a random string appended to them.\n\nThis results in some ugly ids. However more significantly, the id of a component is not predictable even when an id attribute is explicitly assigned.\n\nIn addition, this breaks the tomahawk forceId feature, because although the namespace prefix is omitted the rest of the id changes making \"forceId\" useless.\n\nThe cause is class UIComponentClassicTagBase, where checkIfItIsInAnIterator() returns true if the current component is in an included or forwarded page. Later, the createUniqueId method adds a suffix to the user-specified if member isInAnIterator is true.\n\nUnfortunately, documentation on why things are implemented as they are is lacking.\n\nChecking for iteration is needed to support\n  <c:forEach ..>\n   <h:inputText id=\"name\"/>\n  </c:forEach>\n\nChecking for includedOrForwarded might be to allow:\n    <jsp:include page=\"subPage.jsp\" />\n    <jsp:include page=\"subPage.jsp\" />\n\nHowever this is a very rare usage; support for this should not hurt everyone.\n\nAnd Sun Mojarra does *not* mess with the ids like this...testing shows\nthat the ids of components are the same regardless of whether they are\ninline or in an included file.\n\nMaybe the \"isInIterator\" check could look to see whether the *same file* is being included twice, eg by keeping a list of the files included so far, and returning true only if the same string is encountered twice? That would allow multiple inclusions, but not mess with ids for a single inclusion."
    ],
    [
        "MYFACES-1965",
        "MYFACES-1964",
        "JspException thrown if valueChangeListener's type attribute is not supplied This bug is similar to MYFACES-1964 but happens to valueChangeListener tag.  I have this in my jsf page:\n\n      <h:selectOneMenu value=\"#{coreTc12Bean.text1}\" onchange=\"submit()\">\n        <f:valueChangeListener binding=\"#{coreTc12Bean.valueChangeListener}\"/>\n        <f:selectItem itemLabel=\"item1\" itemValue=\"item1\"/>\n        <f:selectItem itemLabel=\"item2\" itemValue=\"item2\"/>\n        <f:selectItem itemLabel=\"item3\" itemValue=\"item3\"/> \n      </h:selectOneMenu>\n\nIt will throw a javax.servlet.jsp.JspException - type attribute not set. This also happens in MyFaces 1.2.4. I've attached the test case above.\n\nSimilar to MYFACES-1964, this problem does not happen in JSF 1.2. RI.",
        "JspException thrown if actionListener's type attribute is not supplied In MyFaces 1.2.5-SNAPSHOT, the type attribute of actionListener has been set to a non-required attribute.  But if you have something like this in your page:\n\n    <h:commandButton value=\"This button with binding attribute\">\n        <f:actionListener binding=\"#{coreTc1Bean.actionListener}\"/>\n    </h:commandButton>\n\nIt will throw a javax.servlet.jsp.JspException - type attribute not set.  This also happens in MyFaces 1.2.4.  I've attached the test case above.\n\nThis problem does not exist in JSF RI 1.2 though."
    ],
    [
        "MYFACES-2084",
        "MYFACES-1854",
        "validatorMessage does not work with EL Expressions I am trying to show a custom message ofr Long Range validation in an input text\n\n<h:inputText id=\"dos\" validatorMessage=\"#{text.test}\">\n\t<f:validateLongRange minimum=\"1\" maximum=\"10\" />\n</h:inputText>\n\n, where text is the variable representing a bundle loaded with f:loadBundle\n\nWhen I use <t:messages   /> to show errors, it shows the default message (paginador:dos: Validation Error: Specified attribute is not between the expected values of 1 and 10.), instead of the custom one.\n\nThe same happens when I write the property javax.faces.validator.NOT_IN_RANGE in the bundle. Custom message is ignored\n\nAnyway, it work ok when I use a literal instead of a property inside a bundle:\n\n<h:inputText id=\"dos\" validatorMessage=\"test message\">\n\t<f:validateLongRange minimum=\"1\" maximum=\"10\" />\n</h:inputText>\n\nWith this code, \"test message\" is shown as validation error.",
        "<f:selectItems> does not evaluates EL expressions <f:selectItems> does not evaluates EL expressions. This, for example, makes impossible to create multi-language dynamic drop down items.\nExample:\n-------------\nSelectItem selectItem = new SelectItem(\"-1\",  \"#{bundle['dropdown.advertiser.select']}\")\nThis EL expression will not be evaluated.\n\nIn JSP value is evaluated:\n  <h:selectOneMenu>\n    <f:selectItem itemValue=\"-1\" itemLabel=\"#{bundle['dropdown.advertiser.select'']}\" />\n  </h:selectOneMenu>"
    ],
    [
        "MYFACES-2084",
        "MYFACES-1858",
        "validatorMessage does not work with EL Expressions I am trying to show a custom message ofr Long Range validation in an input text\n\n<h:inputText id=\"dos\" validatorMessage=\"#{text.test}\">\n\t<f:validateLongRange minimum=\"1\" maximum=\"10\" />\n</h:inputText>\n\n, where text is the variable representing a bundle loaded with f:loadBundle\n\nWhen I use <t:messages   /> to show errors, it shows the default message (paginador:dos: Validation Error: Specified attribute is not between the expected values of 1 and 10.), instead of the custom one.\n\nThe same happens when I write the property javax.faces.validator.NOT_IN_RANGE in the bundle. Custom message is ignored\n\nAnyway, it work ok when I use a literal instead of a property inside a bundle:\n\n<h:inputText id=\"dos\" validatorMessage=\"test message\">\n\t<f:validateLongRange minimum=\"1\" maximum=\"10\" />\n</h:inputText>\n\nWith this code, \"test message\" is shown as validation error.",
        "Resource bundle values are not evaluated properly in java code It seems like there is a general problem in resource bundle evaluation in java code.\nIt seems like when ever loaded page is being reloaded (post back) the resource bundle in java code is not evaluated.\nI use two methods:\n1) \n  public static FacesContext getFacesContext()\n  {\n    return FacesContext.getCurrentInstance();\n  }\n\n  private static Application getApplication()\n  {\n    ApplicationFactory appFactory = (ApplicationFactory) FactoryFinder.\n        getFactory(FactoryFinder.APPLICATION_FACTORY);\n    return appFactory.getApplication();\n  }\n\n  private static ValueBinding getValueBinding(String el)\n  {\n    return getApplication().createValueBinding(el);\n  }\n\n  public static Object getElValue(String el)\n  {\n    return getValueBinding(el).getValue(getFacesContext());\n  }\n\nthen I do: getElValue(\"#{bundle['some.resource.value']}\");\nIn this case, for example, when I want to fill dropdown with multi-laguage values and convert them to the proper data from the bundle I get this exception (Note: when comming to the page, it loads ok, it happens only on the postback call):\njavax.faces.FacesException: Exception while validating component with path : {Component-Path : [Class: javax.faces.component.UIViewRoot,ViewId: /cmp_new.jsp][Class: javax.faces.component.html.HtmlForm,Id: frmNewCampaign][Class: javax.faces.component.html.HtmlInputText,Id: po]}\n\tat javax.faces.component.UIInput.validate(UIInput.java:346)\n\tat javax.faces.component.UIInput.processValidators(UIInput.java:144)\n\tat javax.faces.component.UIForm.processValidators(UIForm.java:74)\n\tat javax.faces.component.UIComponentBase.processValidators(UIComponentBase.java:658)\n\tat javax.faces.component.UIViewRoot.access$101(UIViewRoot.java:43)\n\tat javax.faces.component.UIViewRoot$2.process(UIViewRoot.java:97)\n\tat javax.faces.component.UIViewRoot.process(UIViewRoot.java:205)\n\tat javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:93)\n\tat org.apache.myfaces.lifecycle.ProcessValidationsExecutor.execute(ProcessValidationsExecutor.java:32)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:103)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:76)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:148)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat com.todacell.ui.view.filter.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:149)\n\tat com.todacell.ui.view.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:61)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n\tat java.lang.Thread.run(Thread.java:619)\nCaused by: java.lang.NullPointerException\n\tat com.todacell.ui.view.util.ViewUtil.collectionToSelectItemList(ViewUtil.java:89)\n\tat com.todacell.ui.view.util.ViewUtil.collectionToSelectItemList(ViewUtil.java:98)\n\tat com.todacell.ui.view.bean.campaign.CampaignNewBean.<init>(CampaignNewBean.java:43)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n\tat java.lang.Class.newInstance0(Class.java:355)\n\tat java.lang.Class.newInstance(Class.java:308)\n\tat org.apache.myfaces.config.annotation.TomcatAnnotationLifecycleProvider.newInstance(TomcatAnnotationLifecycleProvider.java:45)\n\tat org.apache.myfaces.config.ManagedBeanBuilder.buildManagedBean(ManagedBeanBuilder.java:81)\n\tat org.apache.myfaces.el.unified.resolver.ManagedBeanResolver.createManagedBean(ManagedBeanResolver.java:196)\n\tat org.apache.myfaces.el.unified.resolver.ManagedBeanResolver.getValue(ManagedBeanResolver.java:162)\n\tat javax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.access$301(FacesCompositeELResolver.java:46)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver$4.invoke(FacesCompositeELResolver.java:108)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.invoke(FacesCompositeELResolver.java:148)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:104)\n\tat org.apache.myfaces.el.VariableResolverImpl.resolveVariable(VariableResolverImpl.java:61)\n\tat org.apache.myfaces.custom.redirectTracker.RedirectTrackerVariableResolver.resolveVariable(RedirectTrackerVariableResolver.java:41)\n\tat org.apache.myfaces.custom.security.SecurityContextVariableResolver.resolveVariable(SecurityContextVariableResolver.java:45)\n\tat org.apache.myfaces.el.convert.VariableResolverToELResolver.getValue(VariableResolverToELResolver.java:93)\n\tat javax.el.CompositeELResolver.getValue(CompositeELResolver.java:53)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.access$301(FacesCompositeELResolver.java:46)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver$4.invoke(FacesCompositeELResolver.java:108)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.invoke(FacesCompositeELResolver.java:148)\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:104)\n\tat org.apache.el.parser.AstIdentifier.getValue(AstIdentifier.java:45)\n\tat org.apache.el.parser.AstValue.getTarget(AstValue.java:42)\n\tat org.apache.el.parser.AstValue.getType(AstValue.java:35)\n\tat org.apache.el.ValueExpressionImpl.getType(ValueExpressionImpl.java:174)\n\tat org.apache.jasper.el.JspValueExpression.getType(JspValueExpression.java:58)\n\tat org.apache.myfaces.shared_impl.renderkit._SharedRendererUtils.findUIOutputConverter(_SharedRendererUtils.java:58)\n\tat org.apache.myfaces.shared_impl.renderkit.RendererUtils.findUIOutputConverter(RendererUtils.java:391)\n\tat org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedUIOutputValue(RendererUtils.java:743)\n\tat org.apache.myfaces.shared_impl.renderkit.html.HtmlTextRendererBase.getConvertedValue(HtmlTextRendererBase.java:219)\n\tat javax.faces.component.UIInput.getConvertedValue(UIInput.java:380)\n\tat javax.faces.component.UIInput.validate(UIInput.java:328)\n\t... 30 more\n2) The second method I use:\n  public static Object getElValue(String el)\n  {\n    return getValueBinding(el).getValue(getFacesContext());\n  }\nThis method doesnt throw exception, but it returns an empty string.\nFor example, if I want to show error message from resource bundle, when posting page data, an empty error string returns.\nWhen putting simple string with no resource bundle, page loads an error shown ok.\n\nNote that all the jsp page has many calls to the same resource bundle, and the page itself is presented properly. Meaning the problem happens only when calling the resource from java code."
    ],
    [
        "MYFACES-2127",
        "MYFACES-1097",
        "duplicated component id with any jsp:include (or other inclusion) of jsf pages Any type of page inclusion seems to lead to duplicated component id and thus fails with MyFaces 1.2.  E.g. something like this (with appropriate taglibs):\n\nouter.jsp:\n<f:view>\n  <jsp:include page=\"inner.jsp\"/>\n</f:view>\n\ninner.jsp:\n<h:inputText value=\"foo\"/>\n\ngives me error:\njava.lang.IllegalStateException - Client-id : j_id_id0 is duplicated in the faces tree. Component\n\nBoth the outer view and the inner inputText are assigned the same \"id0\" as jspId.  However, documentation on setJspId on page http://java.sun.com/javaee/5/docs/api/javax/faces/webapp/UIComponentClassicTagBase.html#setJspId(java.lang.String), to which MyFaces sources refer, notes that:\n\nIMPLEMENTATION NOTE: This method will detect where we are in an include and assign a unique ID for each include in a particular 'logical page'. This allows us to avoid possible duplicate ID situations for included pages that have components without explicit IDs.\n\nThis is not true for MyFaces, which renders code reusal (which jsp inclusion facilitates) impossible for this case.  Or at least I don't see how to include pages without causing errors.\n",
        "Duplicated id generation for jsf_tree, jsf_state and jsf_viewid The forms included in the resulting HTML page contains the same value for the id attributes.\n\nF.ex:\n\n <input type=\"hidden\" name=\"jsf_tree_64\" id=\"jsf_tree_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_state_64\" id=\"jsf_state_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_viewid\" id=\"jsf_viewid\" value=\"...\"/>\n\nare used for all forms on the page.\n\nThis make the page fail W3C/HTMLvalidation.\n\n Line 239 column 2703: ID \"jsf_state_64\" already defined.\n Line 165 column 2703: ID \"jsf_state_64\" first defined here.\n"
    ],
    [
        "MYFACES-2127",
        "MYFACES-1834",
        "duplicated component id with any jsp:include (or other inclusion) of jsf pages Any type of page inclusion seems to lead to duplicated component id and thus fails with MyFaces 1.2.  E.g. something like this (with appropriate taglibs):\n\nouter.jsp:\n<f:view>\n  <jsp:include page=\"inner.jsp\"/>\n</f:view>\n\ninner.jsp:\n<h:inputText value=\"foo\"/>\n\ngives me error:\njava.lang.IllegalStateException - Client-id : j_id_id0 is duplicated in the faces tree. Component\n\nBoth the outer view and the inner inputText are assigned the same \"id0\" as jspId.  However, documentation on setJspId on page http://java.sun.com/javaee/5/docs/api/javax/faces/webapp/UIComponentClassicTagBase.html#setJspId(java.lang.String), to which MyFaces sources refer, notes that:\n\nIMPLEMENTATION NOTE: This method will detect where we are in an include and assign a unique ID for each include in a particular 'logical page'. This allows us to avoid possible duplicate ID situations for included pages that have components without explicit IDs.\n\nThis is not true for MyFaces, which renders code reusal (which jsp inclusion facilitates) impossible for this case.  Or at least I don't see how to include pages without causing errors.\n",
        "suffix added to component id when including files In core 1.2 to 1.2.2, any use of jsp:include causes the ids of components in the included file to have a random string appended to them.\n\nThis results in some ugly ids. However more significantly, the id of a component is not predictable even when an id attribute is explicitly assigned.\n\nIn addition, this breaks the tomahawk forceId feature, because although the namespace prefix is omitted the rest of the id changes making \"forceId\" useless.\n\nThe cause is class UIComponentClassicTagBase, where checkIfItIsInAnIterator() returns true if the current component is in an included or forwarded page. Later, the createUniqueId method adds a suffix to the user-specified if member isInAnIterator is true.\n\nUnfortunately, documentation on why things are implemented as they are is lacking.\n\nChecking for iteration is needed to support\n  <c:forEach ..>\n   <h:inputText id=\"name\"/>\n  </c:forEach>\n\nChecking for includedOrForwarded might be to allow:\n    <jsp:include page=\"subPage.jsp\" />\n    <jsp:include page=\"subPage.jsp\" />\n\nHowever this is a very rare usage; support for this should not hurt everyone.\n\nAnd Sun Mojarra does *not* mess with the ids like this...testing shows\nthat the ids of components are the same regardless of whether they are\ninline or in an included file.\n\nMaybe the \"isInIterator\" check could look to see whether the *same file* is being included twice, eg by keeping a list of the files included so far, and returning true only if the same string is encountered twice? That would allow multiple inclusions, but not mess with ids for a single inclusion."
    ],
    [
        "MYFACES-2127",
        "MYFACES-1905",
        "duplicated component id with any jsp:include (or other inclusion) of jsf pages Any type of page inclusion seems to lead to duplicated component id and thus fails with MyFaces 1.2.  E.g. something like this (with appropriate taglibs):\n\nouter.jsp:\n<f:view>\n  <jsp:include page=\"inner.jsp\"/>\n</f:view>\n\ninner.jsp:\n<h:inputText value=\"foo\"/>\n\ngives me error:\njava.lang.IllegalStateException - Client-id : j_id_id0 is duplicated in the faces tree. Component\n\nBoth the outer view and the inner inputText are assigned the same \"id0\" as jspId.  However, documentation on setJspId on page http://java.sun.com/javaee/5/docs/api/javax/faces/webapp/UIComponentClassicTagBase.html#setJspId(java.lang.String), to which MyFaces sources refer, notes that:\n\nIMPLEMENTATION NOTE: This method will detect where we are in an include and assign a unique ID for each include in a particular 'logical page'. This allows us to avoid possible duplicate ID situations for included pages that have components without explicit IDs.\n\nThis is not true for MyFaces, which renders code reusal (which jsp inclusion facilitates) impossible for this case.  Or at least I don't see how to include pages without causing errors.\n",
        "Component ID changes after submit if encoding='multipart/form-data' and part of page has been included. My test page:\n<h:form enctype=\"multipart/form-data\" id=\"_form\">\n\t\t<jsp:include page=\"menu.jsp\" />\n\t\t<t:inputFileUpload ></t:inputFileUpload>\n\t\t<h:commandButton value=\"Upload\"></h:commandButton>\n\t</h:form>\n\nmenu.jsp :\n\n<h:panelGrid columns=\"1\" id=\"grid\">\n\t<h:selectOneMenu value=\"#{bean.select}\" id=\"select\">\n\t\t<f:selectItem itemValue=\"none\" itemLabel=\"none\"/>\n\t\t<f:selectItem itemValue=\"www\" itemLabel=\"www\"/>\n\t</h:selectOneMenu>\n</h:panelGrid>\n\n\nFirstly SelectOneMenu has '_form:select' id. After upload and page refreshed ID changed to '_form:selectj_id_1'.\n\n\n"
    ],
    [
        "MYFACES-2152",
        "MYFACES-1567",
        "javax.faces.component.html.HtmlSelectOneRadio throws IllegalArgumentException with message Value is no String HtmlSelectOneRadio throws IllegalArgumentException with message \"Value is no String\". While debugging I can see that the value is no String but rather a org.apache.myfaces.shared_impl.renderkit.RenderUtils$1 object which seems really strange because I only send SelectItems to the control.\n\nIt has been working on and off for some time but now, it shows up regulary.\n\n",
        "\"java.lang.IllegalArgumentException: Value is no String\" due to NOTHING being used \"java.lang.IllegalArgumentException: Value is no String\" error is caused in all select one components in both CORE and TOMAHAWK due to the usage of RendererUtils.NOTHING class.\n\nInstead of using \"((EditableValueHolder) component).setSubmittedValue(null);\" in HtmlRendererUtils, the following code is used:\n\n((EditableValueHolder) component).setSubmittedValue(RendererUtils.NOTHING);\n\nThis NOTHING is not a valid submitted value for select one component and causes errors.\n\nThe stack trace is:\n...does not have a Converter\n       at org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:513)\n       at org.apache.myfaces.shared_impl.renderkit.html.HtmlRadioRendererBase.encodeEnd(HtmlRadioRendererBase.java:95)\n       at javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:539)\n       at org.ajax4jsf.framework.renderer.RendererBase.renderChild(RendererBase.java:256)\n       at org.ajax4jsf.framework.renderer.RendererBase.renderChildren(RendererBase.java:232)\n       at org.ajax4jsf.framework.renderer.AjaxContainerRenderer.encodeChildren(AjaxContainerRenderer.java:100)\n       at javax.faces.component.UIComponentBase.encodeChildren(UIComponentBase.java:527)\n...\n\nDuring rendering of the component, the NOTHING is not null and not a string, so therefore the error is thrown. This is a critical error as it breaks the entire page and the user is left viewing an error page. \n\nProposed fix: remove the NOTHING variable from RendererUtils and use null instead. The only code that actually cares about NOTHING is in HtmlRendererUtils:\n            UISelectOne uiSelectOne = (UISelectOne) uiComponent;\n            Object lookup = uiSelectOne.getSubmittedValue();\n            if (lookup == null) {\n                lookup = uiSelectOne.getValue();\n                String lookupString = RendererUtils.getConvertedStringValue(facesContext, uiComponent, converter, lookup);\n                lookupSet = Collections.singleton(lookupString);\n            }\n            else if (org.apache.myfaces.shared_tomahawk.renderkit.RendererUtils.NOTHING.equals(lookup)) {\n                lookupSet = Collections.EMPTY_SET;\n            }\n\nI don't see why it is done this way. It may be possible to use isLocalValueSet instead (setLocalValueSet(true); setSubmittedValue(null);). This way, it can be checked that a value was submitted, but the value was null. If this proposed fix is not acceptible, \"org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:513)\" needs to be fixed to handle NOTHING values.\n"
    ],
    [
        "MYFACES-2152",
        "MYFACES-1891",
        "javax.faces.component.html.HtmlSelectOneRadio throws IllegalArgumentException with message Value is no String HtmlSelectOneRadio throws IllegalArgumentException with message \"Value is no String\". While debugging I can see that the value is no String but rather a org.apache.myfaces.shared_impl.renderkit.RenderUtils$1 object which seems really strange because I only send SelectItems to the control.\n\nIt has been working on and off for some time but now, it shows up regulary.\n\n",
        "ClassCastException in converter when Hiding / Showing unselected selectOneRadio See the attached example.\r\n\r\nWhen the block with the selectOneRadio ist shown, then hidden and then shown again a ClassCastException occurs in the Converter. The selectOneRadio has as submittedValue org.apache.myfaces.shared_impl.renderkit.RendererUtils$1, for which the conversion is done.\r\n\r\njavax.faces.FacesException: Exception while calling encodeEnd on component : {Component-Path : [Class: org.ajax4jsf.component.AjaxViewRoot,ViewId: /WEB-INF/pages/schnellerfassung/dea/dea.xhtml][Class: javax.faces.component.html.HtmlForm,Id: form][Class: org.apache.myfaces.custom.div.Div,Id: hideableBlock][Class: javax.faces.component.html.HtmlSelectOneRadio,Id: selectOneRadio]}\r\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:610)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChild(RendererBase.java:286)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChildren(RendererBase.java:262)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChild(RendererBase.java:284)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChildren(RendererBase.java:262)\r\n\tat org.ajax4jsf.renderkit.RendererBase.renderChild(RendererBase.java:284)\r\n\tat org.ajax4jsf.renderkit.AjaxChildrenRenderer.encodeAjaxComponent(AjaxChildrenRenderer.java:125)\r\n\tat org.ajax4jsf.renderkit.AjaxChildrenRenderer.encodeAjaxChildren(AjaxChildrenRenderer.java:68)\r\n\tat org.ajax4jsf.renderkit.AjaxChildrenRenderer.encodeAjaxComponent(AjaxChildrenRenderer.java:116)\r\n\tat org.ajax4jsf.renderkit.AjaxContainerRenderer.encodeAjax(AjaxContainerRenderer.java:123)\r\n\tat org.ajax4jsf.component.AjaxViewRoot.encodeAjax(AjaxViewRoot.java:673)\r\n\tat org.ajax4jsf.component.AjaxViewRoot.encodeChildren(AjaxViewRoot.java:544)\r\n\tat javax.faces.component.UIComponent.encodeAll(UIComponent.java:239)\r\n\tat com.sun.facelets.FaceletViewHandler.renderView(FaceletViewHandler.java:592)\r\n\tat org.ajax4jsf.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:108)\r\n\tat org.ajax4jsf.application.AjaxViewHandler.renderView(AjaxViewHandler.java:189)\r\n\tat org.springframework.faces.webflow.JsfView.render(JsfView.java:92)\r\n\tat org.springframework.webflow.engine.ViewState.render(ViewState.java:240)\r\n\tat org.springframework.webflow.engine.ViewState.resume(ViewState.java:199)\r\n\tat org.springframework.webflow.engine.Flow.resume(Flow.java:535)\r\n\tat org.springframework.webflow.engine.impl.FlowExecutionImpl.resume(FlowExecutionImpl.java:261)\r\n\tat org.springframework.webflow.executor.FlowExecutorImpl.resumeExecution(FlowExecutorImpl.java:153)\r\n\tat org.springframework.webflow.mvc.servlet.FlowHandlerAdapter.handle(FlowHandlerAdapter.java:173)\r\n\tat org.springframework.webflow.mvc.servlet.FlowController.handleRequest(FlowController.java:172)\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:875)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:809)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:571)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:511)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:710)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:803)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat com.metzler.ec.web.filter.RendererFilter.doFilter(RendererFilter.java:183)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:154)\r\n\tat org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:260)\r\n\tat org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:366)\r\n\tat org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:493)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:359)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.rememberme.RememberMeProcessingFilter.doFilterHttp(RememberMeProcessingFilter.java:116)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:268)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:268)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:87)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:61)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:229)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:174)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:286)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\r\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\r\n\tat java.lang.Thread.run(Thread.java:595)\r\nCaused by: javax.faces.convert.ConverterException: java.lang.ClassCastException: org.apache.myfaces.shared_impl.renderkit.RendererUtils$1\r\n\tat javax.faces.convert.IntegerConverter.getAsString(IntegerConverter.java:85)\r\n\tat org.apache.myfaces.shared_impl.renderkit.RendererUtils.getConvertedStringValue(RendererUtils.java:628)\r\n\tat org.apache.myfaces.shared_impl.renderkit.html.HtmlRadioRendererBase.encodeEnd(HtmlRadioRendererBase.java:91)\r\n\tat javax.faces.component.UIComponentBase.encodeEnd(UIComponentBase.java:607)\r\n\t... 87 more\r\nCaused by: java.lang.ClassCastException: org.apache.myfaces.shared_impl.renderkit.RendererUtils$1\r\n\tat javax.faces.convert.IntegerConverter.getAsString(IntegerConverter.java:81)\r\n\t... 90 more"
    ],
    [
        "MYFACES-2175",
        "MYFACES-1097",
        "autogenerated client id is generating duplicat ids. Client-id : <<autogenerated id>> is duplicated in the faces tree. Loading a page initially is working fine, but if loading the same page from either by clicking on a link on the page or returning back from another page. will give the following error.\r\ncom.sun.facelets.FaceletViewHandler handleRenderException\r\nSEVERE: Error Rendering View[<<pagepath>>]\r\n\r\njava.lang.IllegalStateException: Client-id: <<autogenerated id>>.",
        "Duplicated id generation for jsf_tree, jsf_state and jsf_viewid The forms included in the resulting HTML page contains the same value for the id attributes.\n\nF.ex:\n\n <input type=\"hidden\" name=\"jsf_tree_64\" id=\"jsf_tree_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_state_64\" id=\"jsf_state_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_viewid\" id=\"jsf_viewid\" value=\"...\"/>\n\nare used for all forms on the page.\n\nThis make the page fail W3C/HTMLvalidation.\n\n Line 239 column 2703: ID \"jsf_state_64\" already defined.\n Line 165 column 2703: ID \"jsf_state_64\" first defined here.\n"
    ],
    [
        "MYFACES-2175",
        "MYFACES-1834",
        "autogenerated client id is generating duplicat ids. Client-id : <<autogenerated id>> is duplicated in the faces tree. Loading a page initially is working fine, but if loading the same page from either by clicking on a link on the page or returning back from another page. will give the following error.\r\ncom.sun.facelets.FaceletViewHandler handleRenderException\r\nSEVERE: Error Rendering View[<<pagepath>>]\r\n\r\njava.lang.IllegalStateException: Client-id: <<autogenerated id>>.",
        "suffix added to component id when including files In core 1.2 to 1.2.2, any use of jsp:include causes the ids of components in the included file to have a random string appended to them.\n\nThis results in some ugly ids. However more significantly, the id of a component is not predictable even when an id attribute is explicitly assigned.\n\nIn addition, this breaks the tomahawk forceId feature, because although the namespace prefix is omitted the rest of the id changes making \"forceId\" useless.\n\nThe cause is class UIComponentClassicTagBase, where checkIfItIsInAnIterator() returns true if the current component is in an included or forwarded page. Later, the createUniqueId method adds a suffix to the user-specified if member isInAnIterator is true.\n\nUnfortunately, documentation on why things are implemented as they are is lacking.\n\nChecking for iteration is needed to support\n  <c:forEach ..>\n   <h:inputText id=\"name\"/>\n  </c:forEach>\n\nChecking for includedOrForwarded might be to allow:\n    <jsp:include page=\"subPage.jsp\" />\n    <jsp:include page=\"subPage.jsp\" />\n\nHowever this is a very rare usage; support for this should not hurt everyone.\n\nAnd Sun Mojarra does *not* mess with the ids like this...testing shows\nthat the ids of components are the same regardless of whether they are\ninline or in an included file.\n\nMaybe the \"isInIterator\" check could look to see whether the *same file* is being included twice, eg by keeping a list of the files included so far, and returning true only if the same string is encountered twice? That would allow multiple inclusions, but not mess with ids for a single inclusion."
    ],
    [
        "MYFACES-2175",
        "MYFACES-1905",
        "autogenerated client id is generating duplicat ids. Client-id : <<autogenerated id>> is duplicated in the faces tree. Loading a page initially is working fine, but if loading the same page from either by clicking on a link on the page or returning back from another page. will give the following error.\r\ncom.sun.facelets.FaceletViewHandler handleRenderException\r\nSEVERE: Error Rendering View[<<pagepath>>]\r\n\r\njava.lang.IllegalStateException: Client-id: <<autogenerated id>>.",
        "Component ID changes after submit if encoding='multipart/form-data' and part of page has been included. My test page:\n<h:form enctype=\"multipart/form-data\" id=\"_form\">\n\t\t<jsp:include page=\"menu.jsp\" />\n\t\t<t:inputFileUpload ></t:inputFileUpload>\n\t\t<h:commandButton value=\"Upload\"></h:commandButton>\n\t</h:form>\n\nmenu.jsp :\n\n<h:panelGrid columns=\"1\" id=\"grid\">\n\t<h:selectOneMenu value=\"#{bean.select}\" id=\"select\">\n\t\t<f:selectItem itemValue=\"none\" itemLabel=\"none\"/>\n\t\t<f:selectItem itemValue=\"www\" itemLabel=\"www\"/>\n\t</h:selectOneMenu>\n</h:panelGrid>\n\n\nFirstly SelectOneMenu has '_form:select' id. After upload and page refreshed ID changed to '_form:selectj_id_1'.\n\n\n"
    ],
    [
        "MYFACES-2175",
        "MYFACES-2127",
        "autogenerated client id is generating duplicat ids. Client-id : <<autogenerated id>> is duplicated in the faces tree. Loading a page initially is working fine, but if loading the same page from either by clicking on a link on the page or returning back from another page. will give the following error.\r\ncom.sun.facelets.FaceletViewHandler handleRenderException\r\nSEVERE: Error Rendering View[<<pagepath>>]\r\n\r\njava.lang.IllegalStateException: Client-id: <<autogenerated id>>.",
        "duplicated component id with any jsp:include (or other inclusion) of jsf pages Any type of page inclusion seems to lead to duplicated component id and thus fails with MyFaces 1.2.  E.g. something like this (with appropriate taglibs):\n\nouter.jsp:\n<f:view>\n  <jsp:include page=\"inner.jsp\"/>\n</f:view>\n\ninner.jsp:\n<h:inputText value=\"foo\"/>\n\ngives me error:\njava.lang.IllegalStateException - Client-id : j_id_id0 is duplicated in the faces tree. Component\n\nBoth the outer view and the inner inputText are assigned the same \"id0\" as jspId.  However, documentation on setJspId on page http://java.sun.com/javaee/5/docs/api/javax/faces/webapp/UIComponentClassicTagBase.html#setJspId(java.lang.String), to which MyFaces sources refer, notes that:\n\nIMPLEMENTATION NOTE: This method will detect where we are in an include and assign a unique ID for each include in a particular 'logical page'. This allows us to avoid possible duplicate ID situations for included pages that have components without explicit IDs.\n\nThis is not true for MyFaces, which renders code reusal (which jsp inclusion facilitates) impossible for this case.  Or at least I don't see how to include pages without causing errors.\n"
    ],
    [
        "MYFACES-2186",
        "MYFACES-1097",
        "After using <jsp:include>, component ids are appended with j_id_1 In migration from Myfaces 1.1.5 to Myfaces 1.2.6.\r\n\r\nOn one of my jsp i am using <jsp:include> and after running the application i was getting component ids appended with \"pc\" then i have modified \"UIComponentClassicTagBase.java\" class by commenting some code as shown below -\r\n\r\nprivate String createNextId(String componentId)\r\n    {\r\n        Integer currentCounter = (Integer) getFacesContext().getExternalContext().getRequestMap().get(componentId);\r\n        int iCurrentCounter = 1;\r\n        if (currentCounter != null)\r\n        {\r\n            iCurrentCounter = currentCounter.intValue();\r\n            iCurrentCounter++;\r\n        }\r\n        getFacesContext().getExternalContext().getRequestMap().put(componentId, new Integer(iCurrentCounter));\r\n        // if (isIncludedOrForwarded())  // Commented these lines\r\n        // {\r\n           // componentId = componentId + \"pc\" + iCurrentCounter;\r\n        // }\r\n        // else\r\n        // {\r\n            componentId = componentId + UNIQUE_ID_PREFIX + iCurrentCounter;            \r\n        // }\r\n        return componentId;\r\n    }\r\n\r\nBut now ids are getting appended with j_id_1. Is there any fix available for this issue because its kind of show stopper in my work.",
        "Duplicated id generation for jsf_tree, jsf_state and jsf_viewid The forms included in the resulting HTML page contains the same value for the id attributes.\n\nF.ex:\n\n <input type=\"hidden\" name=\"jsf_tree_64\" id=\"jsf_tree_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_state_64\" id=\"jsf_state_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_viewid\" id=\"jsf_viewid\" value=\"...\"/>\n\nare used for all forms on the page.\n\nThis make the page fail W3C/HTMLvalidation.\n\n Line 239 column 2703: ID \"jsf_state_64\" already defined.\n Line 165 column 2703: ID \"jsf_state_64\" first defined here.\n"
    ],
    [
        "MYFACES-2186",
        "MYFACES-1834",
        "After using <jsp:include>, component ids are appended with j_id_1 In migration from Myfaces 1.1.5 to Myfaces 1.2.6.\r\n\r\nOn one of my jsp i am using <jsp:include> and after running the application i was getting component ids appended with \"pc\" then i have modified \"UIComponentClassicTagBase.java\" class by commenting some code as shown below -\r\n\r\nprivate String createNextId(String componentId)\r\n    {\r\n        Integer currentCounter = (Integer) getFacesContext().getExternalContext().getRequestMap().get(componentId);\r\n        int iCurrentCounter = 1;\r\n        if (currentCounter != null)\r\n        {\r\n            iCurrentCounter = currentCounter.intValue();\r\n            iCurrentCounter++;\r\n        }\r\n        getFacesContext().getExternalContext().getRequestMap().put(componentId, new Integer(iCurrentCounter));\r\n        // if (isIncludedOrForwarded())  // Commented these lines\r\n        // {\r\n           // componentId = componentId + \"pc\" + iCurrentCounter;\r\n        // }\r\n        // else\r\n        // {\r\n            componentId = componentId + UNIQUE_ID_PREFIX + iCurrentCounter;            \r\n        // }\r\n        return componentId;\r\n    }\r\n\r\nBut now ids are getting appended with j_id_1. Is there any fix available for this issue because its kind of show stopper in my work.",
        "suffix added to component id when including files In core 1.2 to 1.2.2, any use of jsp:include causes the ids of components in the included file to have a random string appended to them.\n\nThis results in some ugly ids. However more significantly, the id of a component is not predictable even when an id attribute is explicitly assigned.\n\nIn addition, this breaks the tomahawk forceId feature, because although the namespace prefix is omitted the rest of the id changes making \"forceId\" useless.\n\nThe cause is class UIComponentClassicTagBase, where checkIfItIsInAnIterator() returns true if the current component is in an included or forwarded page. Later, the createUniqueId method adds a suffix to the user-specified if member isInAnIterator is true.\n\nUnfortunately, documentation on why things are implemented as they are is lacking.\n\nChecking for iteration is needed to support\n  <c:forEach ..>\n   <h:inputText id=\"name\"/>\n  </c:forEach>\n\nChecking for includedOrForwarded might be to allow:\n    <jsp:include page=\"subPage.jsp\" />\n    <jsp:include page=\"subPage.jsp\" />\n\nHowever this is a very rare usage; support for this should not hurt everyone.\n\nAnd Sun Mojarra does *not* mess with the ids like this...testing shows\nthat the ids of components are the same regardless of whether they are\ninline or in an included file.\n\nMaybe the \"isInIterator\" check could look to see whether the *same file* is being included twice, eg by keeping a list of the files included so far, and returning true only if the same string is encountered twice? That would allow multiple inclusions, but not mess with ids for a single inclusion."
    ],
    [
        "MYFACES-2186",
        "MYFACES-1905",
        "After using <jsp:include>, component ids are appended with j_id_1 In migration from Myfaces 1.1.5 to Myfaces 1.2.6.\r\n\r\nOn one of my jsp i am using <jsp:include> and after running the application i was getting component ids appended with \"pc\" then i have modified \"UIComponentClassicTagBase.java\" class by commenting some code as shown below -\r\n\r\nprivate String createNextId(String componentId)\r\n    {\r\n        Integer currentCounter = (Integer) getFacesContext().getExternalContext().getRequestMap().get(componentId);\r\n        int iCurrentCounter = 1;\r\n        if (currentCounter != null)\r\n        {\r\n            iCurrentCounter = currentCounter.intValue();\r\n            iCurrentCounter++;\r\n        }\r\n        getFacesContext().getExternalContext().getRequestMap().put(componentId, new Integer(iCurrentCounter));\r\n        // if (isIncludedOrForwarded())  // Commented these lines\r\n        // {\r\n           // componentId = componentId + \"pc\" + iCurrentCounter;\r\n        // }\r\n        // else\r\n        // {\r\n            componentId = componentId + UNIQUE_ID_PREFIX + iCurrentCounter;            \r\n        // }\r\n        return componentId;\r\n    }\r\n\r\nBut now ids are getting appended with j_id_1. Is there any fix available for this issue because its kind of show stopper in my work.",
        "Component ID changes after submit if encoding='multipart/form-data' and part of page has been included. My test page:\n<h:form enctype=\"multipart/form-data\" id=\"_form\">\n\t\t<jsp:include page=\"menu.jsp\" />\n\t\t<t:inputFileUpload ></t:inputFileUpload>\n\t\t<h:commandButton value=\"Upload\"></h:commandButton>\n\t</h:form>\n\nmenu.jsp :\n\n<h:panelGrid columns=\"1\" id=\"grid\">\n\t<h:selectOneMenu value=\"#{bean.select}\" id=\"select\">\n\t\t<f:selectItem itemValue=\"none\" itemLabel=\"none\"/>\n\t\t<f:selectItem itemValue=\"www\" itemLabel=\"www\"/>\n\t</h:selectOneMenu>\n</h:panelGrid>\n\n\nFirstly SelectOneMenu has '_form:select' id. After upload and page refreshed ID changed to '_form:selectj_id_1'.\n\n\n"
    ],
    [
        "MYFACES-2186",
        "MYFACES-2127",
        "After using <jsp:include>, component ids are appended with j_id_1 In migration from Myfaces 1.1.5 to Myfaces 1.2.6.\r\n\r\nOn one of my jsp i am using <jsp:include> and after running the application i was getting component ids appended with \"pc\" then i have modified \"UIComponentClassicTagBase.java\" class by commenting some code as shown below -\r\n\r\nprivate String createNextId(String componentId)\r\n    {\r\n        Integer currentCounter = (Integer) getFacesContext().getExternalContext().getRequestMap().get(componentId);\r\n        int iCurrentCounter = 1;\r\n        if (currentCounter != null)\r\n        {\r\n            iCurrentCounter = currentCounter.intValue();\r\n            iCurrentCounter++;\r\n        }\r\n        getFacesContext().getExternalContext().getRequestMap().put(componentId, new Integer(iCurrentCounter));\r\n        // if (isIncludedOrForwarded())  // Commented these lines\r\n        // {\r\n           // componentId = componentId + \"pc\" + iCurrentCounter;\r\n        // }\r\n        // else\r\n        // {\r\n            componentId = componentId + UNIQUE_ID_PREFIX + iCurrentCounter;            \r\n        // }\r\n        return componentId;\r\n    }\r\n\r\nBut now ids are getting appended with j_id_1. Is there any fix available for this issue because its kind of show stopper in my work.",
        "duplicated component id with any jsp:include (or other inclusion) of jsf pages Any type of page inclusion seems to lead to duplicated component id and thus fails with MyFaces 1.2.  E.g. something like this (with appropriate taglibs):\n\nouter.jsp:\n<f:view>\n  <jsp:include page=\"inner.jsp\"/>\n</f:view>\n\ninner.jsp:\n<h:inputText value=\"foo\"/>\n\ngives me error:\njava.lang.IllegalStateException - Client-id : j_id_id0 is duplicated in the faces tree. Component\n\nBoth the outer view and the inner inputText are assigned the same \"id0\" as jspId.  However, documentation on setJspId on page http://java.sun.com/javaee/5/docs/api/javax/faces/webapp/UIComponentClassicTagBase.html#setJspId(java.lang.String), to which MyFaces sources refer, notes that:\n\nIMPLEMENTATION NOTE: This method will detect where we are in an include and assign a unique ID for each include in a particular 'logical page'. This allows us to avoid possible duplicate ID situations for included pages that have components without explicit IDs.\n\nThis is not true for MyFaces, which renders code reusal (which jsp inclusion facilitates) impossible for this case.  Or at least I don't see how to include pages without causing errors.\n"
    ],
    [
        "MYFACES-2186",
        "MYFACES-2175",
        "After using <jsp:include>, component ids are appended with j_id_1 In migration from Myfaces 1.1.5 to Myfaces 1.2.6.\r\n\r\nOn one of my jsp i am using <jsp:include> and after running the application i was getting component ids appended with \"pc\" then i have modified \"UIComponentClassicTagBase.java\" class by commenting some code as shown below -\r\n\r\nprivate String createNextId(String componentId)\r\n    {\r\n        Integer currentCounter = (Integer) getFacesContext().getExternalContext().getRequestMap().get(componentId);\r\n        int iCurrentCounter = 1;\r\n        if (currentCounter != null)\r\n        {\r\n            iCurrentCounter = currentCounter.intValue();\r\n            iCurrentCounter++;\r\n        }\r\n        getFacesContext().getExternalContext().getRequestMap().put(componentId, new Integer(iCurrentCounter));\r\n        // if (isIncludedOrForwarded())  // Commented these lines\r\n        // {\r\n           // componentId = componentId + \"pc\" + iCurrentCounter;\r\n        // }\r\n        // else\r\n        // {\r\n            componentId = componentId + UNIQUE_ID_PREFIX + iCurrentCounter;            \r\n        // }\r\n        return componentId;\r\n    }\r\n\r\nBut now ids are getting appended with j_id_1. Is there any fix available for this issue because its kind of show stopper in my work.",
        "autogenerated client id is generating duplicat ids. Client-id : <<autogenerated id>> is duplicated in the faces tree. Loading a page initially is working fine, but if loading the same page from either by clicking on a link on the page or returning back from another page. will give the following error.\r\ncom.sun.facelets.FaceletViewHandler handleRenderException\r\nSEVERE: Error Rendering View[<<pagepath>>]\r\n\r\njava.lang.IllegalStateException: Client-id: <<autogenerated id>>."
    ],
    [
        "MYFACES-2252",
        "MYFACES-1097",
        "Automatic ID generation in nested subview tags I have a problem how myfaces-1.2.6 generates ids for components. I have migrated from myfaces-1.1.5 to myfaces-1.2.6. I have a following scenario:\r\nI need to include few jsp fragments on main page:\r\nmain page main.jsp:\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n\t\r\n\t<f:subview id=\"subview2\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n</f:view>\r\n\r\nincluded page include.jsp :\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:subview id=\"subview_inner\">\r\n\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n</f:subview>\r\n\r\nmy generated html code :\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj_id_1\">some text</span>\r\n\r\nin myfaces -1.1.5 it generates:\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj\">some text</span>\r\n\r\nso id text   has been changed by framework to textj_id_1 - this is serious problem to me\r\n\r\nalso when i don't use jsp:include and have only on page like this:\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n\r\n\t<f:subview id=\"subview2\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n</f:view>\r\n\r\ngenerated output is ok\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:text\">some text</span>\r\n\r\nplease can you explain if this is a bug and why myfaces decide that all components ids in my second  fragment must be changed?\r\n\r\n",
        "Duplicated id generation for jsf_tree, jsf_state and jsf_viewid The forms included in the resulting HTML page contains the same value for the id attributes.\n\nF.ex:\n\n <input type=\"hidden\" name=\"jsf_tree_64\" id=\"jsf_tree_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_state_64\" id=\"jsf_state_64\" value=\"H4....\"/>\n <input type=\"hidden\" name=\"jsf_viewid\" id=\"jsf_viewid\" value=\"...\"/>\n\nare used for all forms on the page.\n\nThis make the page fail W3C/HTMLvalidation.\n\n Line 239 column 2703: ID \"jsf_state_64\" already defined.\n Line 165 column 2703: ID \"jsf_state_64\" first defined here.\n"
    ],
    [
        "MYFACES-2252",
        "MYFACES-1834",
        "Automatic ID generation in nested subview tags I have a problem how myfaces-1.2.6 generates ids for components. I have migrated from myfaces-1.1.5 to myfaces-1.2.6. I have a following scenario:\r\nI need to include few jsp fragments on main page:\r\nmain page main.jsp:\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n\t\r\n\t<f:subview id=\"subview2\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n</f:view>\r\n\r\nincluded page include.jsp :\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:subview id=\"subview_inner\">\r\n\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n</f:subview>\r\n\r\nmy generated html code :\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj_id_1\">some text</span>\r\n\r\nin myfaces -1.1.5 it generates:\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj\">some text</span>\r\n\r\nso id text   has been changed by framework to textj_id_1 - this is serious problem to me\r\n\r\nalso when i don't use jsp:include and have only on page like this:\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n\r\n\t<f:subview id=\"subview2\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n</f:view>\r\n\r\ngenerated output is ok\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:text\">some text</span>\r\n\r\nplease can you explain if this is a bug and why myfaces decide that all components ids in my second  fragment must be changed?\r\n\r\n",
        "suffix added to component id when including files In core 1.2 to 1.2.2, any use of jsp:include causes the ids of components in the included file to have a random string appended to them.\n\nThis results in some ugly ids. However more significantly, the id of a component is not predictable even when an id attribute is explicitly assigned.\n\nIn addition, this breaks the tomahawk forceId feature, because although the namespace prefix is omitted the rest of the id changes making \"forceId\" useless.\n\nThe cause is class UIComponentClassicTagBase, where checkIfItIsInAnIterator() returns true if the current component is in an included or forwarded page. Later, the createUniqueId method adds a suffix to the user-specified if member isInAnIterator is true.\n\nUnfortunately, documentation on why things are implemented as they are is lacking.\n\nChecking for iteration is needed to support\n  <c:forEach ..>\n   <h:inputText id=\"name\"/>\n  </c:forEach>\n\nChecking for includedOrForwarded might be to allow:\n    <jsp:include page=\"subPage.jsp\" />\n    <jsp:include page=\"subPage.jsp\" />\n\nHowever this is a very rare usage; support for this should not hurt everyone.\n\nAnd Sun Mojarra does *not* mess with the ids like this...testing shows\nthat the ids of components are the same regardless of whether they are\ninline or in an included file.\n\nMaybe the \"isInIterator\" check could look to see whether the *same file* is being included twice, eg by keeping a list of the files included so far, and returning true only if the same string is encountered twice? That would allow multiple inclusions, but not mess with ids for a single inclusion."
    ],
    [
        "MYFACES-2252",
        "MYFACES-1905",
        "Automatic ID generation in nested subview tags I have a problem how myfaces-1.2.6 generates ids for components. I have migrated from myfaces-1.1.5 to myfaces-1.2.6. I have a following scenario:\r\nI need to include few jsp fragments on main page:\r\nmain page main.jsp:\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n\t\r\n\t<f:subview id=\"subview2\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n</f:view>\r\n\r\nincluded page include.jsp :\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:subview id=\"subview_inner\">\r\n\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n</f:subview>\r\n\r\nmy generated html code :\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj_id_1\">some text</span>\r\n\r\nin myfaces -1.1.5 it generates:\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj\">some text</span>\r\n\r\nso id text   has been changed by framework to textj_id_1 - this is serious problem to me\r\n\r\nalso when i don't use jsp:include and have only on page like this:\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n\r\n\t<f:subview id=\"subview2\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n</f:view>\r\n\r\ngenerated output is ok\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:text\">some text</span>\r\n\r\nplease can you explain if this is a bug and why myfaces decide that all components ids in my second  fragment must be changed?\r\n\r\n",
        "Component ID changes after submit if encoding='multipart/form-data' and part of page has been included. My test page:\n<h:form enctype=\"multipart/form-data\" id=\"_form\">\n\t\t<jsp:include page=\"menu.jsp\" />\n\t\t<t:inputFileUpload ></t:inputFileUpload>\n\t\t<h:commandButton value=\"Upload\"></h:commandButton>\n\t</h:form>\n\nmenu.jsp :\n\n<h:panelGrid columns=\"1\" id=\"grid\">\n\t<h:selectOneMenu value=\"#{bean.select}\" id=\"select\">\n\t\t<f:selectItem itemValue=\"none\" itemLabel=\"none\"/>\n\t\t<f:selectItem itemValue=\"www\" itemLabel=\"www\"/>\n\t</h:selectOneMenu>\n</h:panelGrid>\n\n\nFirstly SelectOneMenu has '_form:select' id. After upload and page refreshed ID changed to '_form:selectj_id_1'.\n\n\n"
    ],
    [
        "MYFACES-2252",
        "MYFACES-2127",
        "Automatic ID generation in nested subview tags I have a problem how myfaces-1.2.6 generates ids for components. I have migrated from myfaces-1.1.5 to myfaces-1.2.6. I have a following scenario:\r\nI need to include few jsp fragments on main page:\r\nmain page main.jsp:\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n\t\r\n\t<f:subview id=\"subview2\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n</f:view>\r\n\r\nincluded page include.jsp :\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:subview id=\"subview_inner\">\r\n\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n</f:subview>\r\n\r\nmy generated html code :\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj_id_1\">some text</span>\r\n\r\nin myfaces -1.1.5 it generates:\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj\">some text</span>\r\n\r\nso id text   has been changed by framework to textj_id_1 - this is serious problem to me\r\n\r\nalso when i don't use jsp:include and have only on page like this:\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n\r\n\t<f:subview id=\"subview2\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n</f:view>\r\n\r\ngenerated output is ok\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:text\">some text</span>\r\n\r\nplease can you explain if this is a bug and why myfaces decide that all components ids in my second  fragment must be changed?\r\n\r\n",
        "duplicated component id with any jsp:include (or other inclusion) of jsf pages Any type of page inclusion seems to lead to duplicated component id and thus fails with MyFaces 1.2.  E.g. something like this (with appropriate taglibs):\n\nouter.jsp:\n<f:view>\n  <jsp:include page=\"inner.jsp\"/>\n</f:view>\n\ninner.jsp:\n<h:inputText value=\"foo\"/>\n\ngives me error:\njava.lang.IllegalStateException - Client-id : j_id_id0 is duplicated in the faces tree. Component\n\nBoth the outer view and the inner inputText are assigned the same \"id0\" as jspId.  However, documentation on setJspId on page http://java.sun.com/javaee/5/docs/api/javax/faces/webapp/UIComponentClassicTagBase.html#setJspId(java.lang.String), to which MyFaces sources refer, notes that:\n\nIMPLEMENTATION NOTE: This method will detect where we are in an include and assign a unique ID for each include in a particular 'logical page'. This allows us to avoid possible duplicate ID situations for included pages that have components without explicit IDs.\n\nThis is not true for MyFaces, which renders code reusal (which jsp inclusion facilitates) impossible for this case.  Or at least I don't see how to include pages without causing errors.\n"
    ],
    [
        "MYFACES-2252",
        "MYFACES-2175",
        "Automatic ID generation in nested subview tags I have a problem how myfaces-1.2.6 generates ids for components. I have migrated from myfaces-1.1.5 to myfaces-1.2.6. I have a following scenario:\r\nI need to include few jsp fragments on main page:\r\nmain page main.jsp:\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n\t\r\n\t<f:subview id=\"subview2\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n</f:view>\r\n\r\nincluded page include.jsp :\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:subview id=\"subview_inner\">\r\n\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n</f:subview>\r\n\r\nmy generated html code :\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj_id_1\">some text</span>\r\n\r\nin myfaces -1.1.5 it generates:\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj\">some text</span>\r\n\r\nso id text   has been changed by framework to textj_id_1 - this is serious problem to me\r\n\r\nalso when i don't use jsp:include and have only on page like this:\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n\r\n\t<f:subview id=\"subview2\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n</f:view>\r\n\r\ngenerated output is ok\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:text\">some text</span>\r\n\r\nplease can you explain if this is a bug and why myfaces decide that all components ids in my second  fragment must be changed?\r\n\r\n",
        "autogenerated client id is generating duplicat ids. Client-id : <<autogenerated id>> is duplicated in the faces tree. Loading a page initially is working fine, but if loading the same page from either by clicking on a link on the page or returning back from another page. will give the following error.\r\ncom.sun.facelets.FaceletViewHandler handleRenderException\r\nSEVERE: Error Rendering View[<<pagepath>>]\r\n\r\njava.lang.IllegalStateException: Client-id: <<autogenerated id>>."
    ],
    [
        "MYFACES-2252",
        "MYFACES-2186",
        "Automatic ID generation in nested subview tags I have a problem how myfaces-1.2.6 generates ids for components. I have migrated from myfaces-1.1.5 to myfaces-1.2.6. I have a following scenario:\r\nI need to include few jsp fragments on main page:\r\nmain page main.jsp:\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n\t\r\n\t<f:subview id=\"subview2\">\r\n\t\t<jsp:include page=\"include.jsp\"/>\r\n\t</f:subview>\r\n</f:view>\r\n\r\nincluded page include.jsp :\r\n<%@ taglib uri=\"http://java.sun.com/jsf/html\" prefix=\"h\"%>\r\n<%@ taglib uri=\"http://java.sun.com/jsf/core\" prefix=\"f\"%>\r\n\r\n<f:subview id=\"subview_inner\">\r\n\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n</f:subview>\r\n\r\nmy generated html code :\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj_id_1\">some text</span>\r\n\r\nin myfaces -1.1.5 it generates:\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:textj\">some text</span>\r\n\r\nso id text   has been changed by framework to textj_id_1 - this is serious problem to me\r\n\r\nalso when i don't use jsp:include and have only on page like this:\r\n<f:view>\r\n\t<f:subview id=\"subview1\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n\r\n\t<f:subview id=\"subview2\">\r\n\t\t<f:subview id=\"subview_inner\">\r\n\t\t\t<h:outputText id=\"text\" value=\"some text\"></h:outputText>\r\n\t\t</f:subview>\r\n\t</f:subview>\r\n</f:view>\r\n\r\ngenerated output is ok\r\n<span id=\"subview1:subview_inner:text\">some text</span><span id=\"subview2:subview_inner:text\">some text</span>\r\n\r\nplease can you explain if this is a bug and why myfaces decide that all components ids in my second  fragment must be changed?\r\n\r\n",
        "After using <jsp:include>, component ids are appended with j_id_1 In migration from Myfaces 1.1.5 to Myfaces 1.2.6.\r\n\r\nOn one of my jsp i am using <jsp:include> and after running the application i was getting component ids appended with \"pc\" then i have modified \"UIComponentClassicTagBase.java\" class by commenting some code as shown below -\r\n\r\nprivate String createNextId(String componentId)\r\n    {\r\n        Integer currentCounter = (Integer) getFacesContext().getExternalContext().getRequestMap().get(componentId);\r\n        int iCurrentCounter = 1;\r\n        if (currentCounter != null)\r\n        {\r\n            iCurrentCounter = currentCounter.intValue();\r\n            iCurrentCounter++;\r\n        }\r\n        getFacesContext().getExternalContext().getRequestMap().put(componentId, new Integer(iCurrentCounter));\r\n        // if (isIncludedOrForwarded())  // Commented these lines\r\n        // {\r\n           // componentId = componentId + \"pc\" + iCurrentCounter;\r\n        // }\r\n        // else\r\n        // {\r\n            componentId = componentId + UNIQUE_ID_PREFIX + iCurrentCounter;            \r\n        // }\r\n        return componentId;\r\n    }\r\n\r\nBut now ids are getting appended with j_id_1. Is there any fix available for this issue because its kind of show stopper in my work."
    ],
    [
        "MYFACES-2478",
        "MYFACES-1838",
        "BadPaddingException: Given final block not properly padded Hi running Myfaces Revision 897280 sometimes swallows the following exception\r\n\r\nplease note that I'm running with facelets-1.1.15B1 on jetty-6.1.22 and have server side state saving turned on.\r\n\r\njavax.faces.FacesException: javax.crypto.BadPaddingException: Given final block not properly padded\r\n\tat org.apache.myfaces.context.ExceptionHandlerImpl.wrap(ExceptionHandlerImpl.java:241)\r\n\tat org.apache.myfaces.context.ExceptionHandlerImpl.handle(ExceptionHandlerImpl.java:156)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:157)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:88)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:189)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat org.ajax4jsf.webapp.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:178)\r\n\tat org.ajax4jsf.webapp.BaseFilter.handleRequest(BaseFilter.java:290)\r\n\tat org.ajax4jsf.webapp.BaseFilter.processUploadsAndHandleRequest(BaseFilter.java:388)\r\n\tat org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:515)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:938)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:755)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded\r\n\tat com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\r\n\tat com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\r\n\tat com.sun.crypto.provider.DESCipher.engineDoFinal(DashoA13*..)\r\n\tat javax.crypto.Cipher.doFinal(DashoA13*..)\r\n\tat org.apache.myfaces.shared_impl.util.StateUtils.symmetric(StateUtils.java:471)\r\n\tat org.apache.myfaces.shared_impl.util.StateUtils.symmetric(StateUtils.java:513)\r\n\tat org.apache.myfaces.shared_impl.util.StateUtils.decrypt(StateUtils.java:313)\r\n\tat org.apache.myfaces.shared_impl.util.StateUtils.reconstruct(StateUtils.java:262)\r\n\tat org.apache.myfaces.renderkit.html.HtmlResponseStateManager.getSavedState(HtmlResponseStateManager.java:213)\r\n\tat org.apache.myfaces.renderkit.html.HtmlResponseStateManager.getState(HtmlResponseStateManager.java:160)\r\n\tat org.apache.myfaces.application.jsp.JspStateManagerImpl.restoreView(JspStateManagerImpl.java:406)\r\n\tat javax.faces.application.StateManagerWrapper.restoreView(StateManagerWrapper.java:86)\r\n\tat org.apache.myfaces.shared_impl.view.ViewDeclarationLanguageBase.restoreView(ViewDeclarationLanguageBase.java:106)\r\n\tat org.apache.myfaces.application.ViewHandlerImpl.restoreView(ViewHandlerImpl.java:234)\r\n\tat javax.faces.application.ViewHandlerWrapper.restoreView(ViewHandlerWrapper.java:83)\r\n\tat com.sun.facelets.FaceletViewHandler.restoreView(FaceletViewHandler.java:316)\r\n\tat org.ajax4jsf.application.ViewHandlerWrapper.restoreView(ViewHandlerWrapper.java:107)\r\n\tat org.apache.myfaces.lifecycle.RestoreViewExecutor.execute(RestoreViewExecutor.java:109)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:138)\r\n",
        "javax.crypto.BadPaddingException: Given final block not properly padded I keep getting this exception from time to time when moving between pages:\n\njavax.faces.FacesException: javax.crypto.BadPaddingException: Given final block not properly padded\n\tat org.apache.myfaces.shared_impl.util.StateUtils.symmetric(StateUtils.java:373)\n\tat org.apache.myfaces.shared_impl.util.StateUtils.symmetric(StateUtils.java:411)\n\tat org.apache.myfaces.shared_impl.util.StateUtils.decrypt(StateUtils.java:291)\n\tat org.apache.myfaces.shared_impl.util.StateUtils.reconstruct(StateUtils.java:240)\n\tat org.apache.myfaces.renderkit.html.HtmlResponseStateManager.getSavedState(HtmlResponseStateManager.java:184)\n\tat org.apache.myfaces.renderkit.html.HtmlResponseStateManager.getState(HtmlResponseStateManager.java:136)\n\tat org.apache.myfaces.application.jsp.JspStateManagerImpl.restoreView(JspStateManagerImpl.java:289)\n\tat org.apache.myfaces.application.jsp.JspViewHandlerImpl.restoreView(JspViewHandlerImpl.java:505)\n\tat org.apache.myfaces.lifecycle.RestoreViewExecutor.execute(RestoreViewExecutor.java:85)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:103)\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:76)\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:148)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat com.vdo.admin.model.persistence.OpenSessionInViewFilterIC.doFilterInternal(OpenSessionInViewFilterIC.java:155)\n\tat com.vdo.admin.model.persistence.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:61)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.myfaces.webapp.filter.ExtensionsFilter.doFilter(ExtensionsFilter.java:147)\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263)\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844)\n\tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584)\n\tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447)\n\tat java.lang.Thread.run(Thread.java:619)\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded\n\tat com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\n\tat com.sun.crypto.provider.SunJCE_f.b(DashoA13*..)\n\tat com.sun.crypto.provider.DESCipher.engineDoFinal(DashoA13*..)\n\tat javax.crypto.Cipher.doFinal(DashoA13*..)\n\tat org.apache.myfaces.shared_impl.util.StateUtils.symmetric(StateUtils.java:369)\n\t... 30 more\n"
    ],
    [
        "MYFACES-2539",
        "MYFACES-2521",
        "setPropertyActionListener cannot be nested within facelets tag nesting setPropertyActionListener like this:\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:test=\"http://j4fry.org/test\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\">   \r\n\t<body>\r\n\t\t<h:form>\r\n\t\t\t<test:button value=\"test\">\r\n\t\t\t\t<f:setPropertyActionListener value=\"test\" target=\"#{myBean.test}\" />\r\n\t\t\t</test:button>\r\n\t\t\t#{myBean.test}\r\n\t\t</h:form>\r\n\t</body>\r\n</html>\r\n\r\nproduces this error:\r\n\r\n<f:setPropertyActionListener> Parent is not composite component or of type ActionSource, type is: javax.faces.component.html.HtmlForm@366ef7ba\r\n\r\nWhen using this taglib.xml and tag from doc-root/META-INF:\r\n\r\n<!DOCTYPE facelet-taglib PUBLIC\r\n  \"-//Sun Microsystems, Inc.//DTD Facelet Taglib 1.0//EN\"\r\n  \"http://java.sun.com/dtd/facelet-taglib_1_0.dtd\">\r\n<facelet-taglib>\r\n\t<namespace>http://j4fry.org/test</namespace>\r\n\t<tag>\r\n\t\t<tag-name>button</tag-name>\r\n\t\t<source>button.xhtml</source>\r\n\t</tag>\r\n</facelet-taglib>\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\">\r\n      <ui:composition>   \r\n\t\t<h:commandButton value=\"test\">\r\n\t\t\t<ui:insert />\r\n\t\t</h:commandButton>\r\n      </ui:composition> \r\n</html>",
        "Parent not composite component or an instance of ClientBehaviorHolder: javax.faces.component.UIViewRoot@19f5e3f running the Trinidad demo (clientBehavior demo), I see this exception:\r\n\r\njavax.faces.view.facelets.TagException: /demos/clientBehaviorHolder.xhtmlat line 59 and column 82 <trd:invokeFunctionBehavior> Parent not composite component or an instance of ClientBehaviorHolder: javax.faces.component.UIViewRoot@19f5e3f\r\n\tat org.apache.myfaces.view.facelets.tag.jsf.BehaviorTagHandlerDelegate.apply(BehaviorTagHandlerDelegate.java:85)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:54)\r\n\tat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:51)\r\n\tat org.apache.myfaces.view.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:150)\r\n\tat org.apache.myfaces.view.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:57)\r\n\tat org.apache.myfaces.view.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:45)\r\n\tat org.apache.myfaces.view.facelets.impl.DefaultFacelet.apply(DefaultFacelet.java:103)\r\n\tat org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.buildView(FaceletViewDeclarationLanguage.java:271)\r\n\tat org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:88)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:201)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:191)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl._doFilterImpl(TrinidadFilterImpl.java:247)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl.doFilter(TrinidadFilterImpl.java:157)\r\n\tat org.apache.myfaces.trinidad.webapp.TrinidadFilter.doFilter(TrinidadFilter.java:92)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:536)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:915)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:405)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\n\r\n"
    ],
    [
        "MYFACES-2543",
        "MYFACES-2521",
        "Facelets Taglib jars are not recognized Facelets taglibs defined according to the spec 10.3.2 are not recognized.\r\n\r\nThis page uses a test taglib (see attachment):\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\r\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\"\r\n      xmlns:test=\"http://j4fry.org/test\">\r\n\t<body>\r\n\t\t<test:button />\r\n\t</body>\r\n</html>\r\n\r\nbut test:button is not resolved...",
        "Parent not composite component or an instance of ClientBehaviorHolder: javax.faces.component.UIViewRoot@19f5e3f running the Trinidad demo (clientBehavior demo), I see this exception:\r\n\r\njavax.faces.view.facelets.TagException: /demos/clientBehaviorHolder.xhtmlat line 59 and column 82 <trd:invokeFunctionBehavior> Parent not composite component or an instance of ClientBehaviorHolder: javax.faces.component.UIViewRoot@19f5e3f\r\n\tat org.apache.myfaces.view.facelets.tag.jsf.BehaviorTagHandlerDelegate.apply(BehaviorTagHandlerDelegate.java:85)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:54)\r\n\tat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:51)\r\n\tat org.apache.myfaces.view.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:150)\r\n\tat org.apache.myfaces.view.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:57)\r\n\tat org.apache.myfaces.view.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:45)\r\n\tat org.apache.myfaces.view.facelets.impl.DefaultFacelet.apply(DefaultFacelet.java:103)\r\n\tat org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.buildView(FaceletViewDeclarationLanguage.java:271)\r\n\tat org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:88)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:201)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:191)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl._doFilterImpl(TrinidadFilterImpl.java:247)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl.doFilter(TrinidadFilterImpl.java:157)\r\n\tat org.apache.myfaces.trinidad.webapp.TrinidadFilter.doFilter(TrinidadFilter.java:92)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:536)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:915)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:405)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\n\r\n"
    ],
    [
        "MYFACES-2543",
        "MYFACES-2539",
        "Facelets Taglib jars are not recognized Facelets taglibs defined according to the spec 10.3.2 are not recognized.\r\n\r\nThis page uses a test taglib (see attachment):\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\r\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\"\r\n      xmlns:test=\"http://j4fry.org/test\">\r\n\t<body>\r\n\t\t<test:button />\r\n\t</body>\r\n</html>\r\n\r\nbut test:button is not resolved...",
        "setPropertyActionListener cannot be nested within facelets tag nesting setPropertyActionListener like this:\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:test=\"http://j4fry.org/test\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\">   \r\n\t<body>\r\n\t\t<h:form>\r\n\t\t\t<test:button value=\"test\">\r\n\t\t\t\t<f:setPropertyActionListener value=\"test\" target=\"#{myBean.test}\" />\r\n\t\t\t</test:button>\r\n\t\t\t#{myBean.test}\r\n\t\t</h:form>\r\n\t</body>\r\n</html>\r\n\r\nproduces this error:\r\n\r\n<f:setPropertyActionListener> Parent is not composite component or of type ActionSource, type is: javax.faces.component.html.HtmlForm@366ef7ba\r\n\r\nWhen using this taglib.xml and tag from doc-root/META-INF:\r\n\r\n<!DOCTYPE facelet-taglib PUBLIC\r\n  \"-//Sun Microsystems, Inc.//DTD Facelet Taglib 1.0//EN\"\r\n  \"http://java.sun.com/dtd/facelet-taglib_1_0.dtd\">\r\n<facelet-taglib>\r\n\t<namespace>http://j4fry.org/test</namespace>\r\n\t<tag>\r\n\t\t<tag-name>button</tag-name>\r\n\t\t<source>button.xhtml</source>\r\n\t</tag>\r\n</facelet-taglib>\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\">\r\n      <ui:composition>   \r\n\t\t<h:commandButton value=\"test\">\r\n\t\t\t<ui:insert />\r\n\t\t</h:commandButton>\r\n      </ui:composition> \r\n</html>"
    ],
    [
        "MYFACES-2564",
        "MYFACES-2521",
        "facelets in an app with a 1.2 level faces-config do not work According to section 10.1.2 of the spec:\r\n\r\nThe sole determinant to backwards compatibility lies in the answer to the question, \"is there any Java\r\ncode in the application, or in libraries used by the application, that extends from or depends on any class in package\r\ncom.sun.facelets and/or its sub-packages?\"\r\n...\r\nIf the answer to this question is \"no\", Facelets in JSF 2.0 is backwards compatible with pre-JSF 2.0 Facelets and such\r\nan application must not continue to bundle the Facelets jar file along with the application, and must not continue to set\r\nthe Facelets configuration parameters.\r\n\r\nThis implies that simply removing the pre-2.0 facelets bundle should allow the app to run properly again in a 2.0 runtime.  \r\n\r\nThe problem is that right now we're doing a check against the version in the faces-config in addition to checking for the context param and the availability of the com/sun/facelets classes.  We should only be doing the latter, as the version in the faces-config should only be used for schema validation.",
        "Parent not composite component or an instance of ClientBehaviorHolder: javax.faces.component.UIViewRoot@19f5e3f running the Trinidad demo (clientBehavior demo), I see this exception:\r\n\r\njavax.faces.view.facelets.TagException: /demos/clientBehaviorHolder.xhtmlat line 59 and column 82 <trd:invokeFunctionBehavior> Parent not composite component or an instance of ClientBehaviorHolder: javax.faces.component.UIViewRoot@19f5e3f\r\n\tat org.apache.myfaces.view.facelets.tag.jsf.BehaviorTagHandlerDelegate.apply(BehaviorTagHandlerDelegate.java:85)\r\n\tat javax.faces.view.facelets.DelegatingMetaTagHandler.apply(DelegatingMetaTagHandler.java:54)\r\n\tat javax.faces.view.facelets.CompositeFaceletHandler.apply(CompositeFaceletHandler.java:51)\r\n\tat org.apache.myfaces.view.facelets.tag.ui.CompositionHandler.apply(CompositionHandler.java:150)\r\n\tat org.apache.myfaces.view.facelets.compiler.NamespaceHandler.apply(NamespaceHandler.java:57)\r\n\tat org.apache.myfaces.view.facelets.compiler.EncodingHandler.apply(EncodingHandler.java:45)\r\n\tat org.apache.myfaces.view.facelets.impl.DefaultFacelet.apply(DefaultFacelet.java:103)\r\n\tat org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.buildView(FaceletViewDeclarationLanguage.java:271)\r\n\tat org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:88)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:201)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:191)\r\n\tat org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1166)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl._doFilterImpl(TrinidadFilterImpl.java:247)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl.doFilter(TrinidadFilterImpl.java:157)\r\n\tat org.apache.myfaces.trinidad.webapp.TrinidadFilter.doFilter(TrinidadFilter.java:92)\r\n\tat org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)\r\n\tat org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:388)\r\n\tat org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)\r\n\tat org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\r\n\tat org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)\r\n\tat org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:418)\r\n\tat org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)\r\n\tat org.mortbay.jetty.handler.HandlerCollection.handle(HandlerCollection.java:114)\r\n\tat org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\r\n\tat org.mortbay.jetty.Server.handle(Server.java:326)\r\n\tat org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:536)\r\n\tat org.mortbay.jetty.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:915)\r\n\tat org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:539)\r\n\tat org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:212)\r\n\tat org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:405)\r\n\tat org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)\r\n\tat org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\r\n\r\n"
    ],
    [
        "MYFACES-2564",
        "MYFACES-2539",
        "facelets in an app with a 1.2 level faces-config do not work According to section 10.1.2 of the spec:\r\n\r\nThe sole determinant to backwards compatibility lies in the answer to the question, \"is there any Java\r\ncode in the application, or in libraries used by the application, that extends from or depends on any class in package\r\ncom.sun.facelets and/or its sub-packages?\"\r\n...\r\nIf the answer to this question is \"no\", Facelets in JSF 2.0 is backwards compatible with pre-JSF 2.0 Facelets and such\r\nan application must not continue to bundle the Facelets jar file along with the application, and must not continue to set\r\nthe Facelets configuration parameters.\r\n\r\nThis implies that simply removing the pre-2.0 facelets bundle should allow the app to run properly again in a 2.0 runtime.  \r\n\r\nThe problem is that right now we're doing a check against the version in the faces-config in addition to checking for the context param and the availability of the com/sun/facelets classes.  We should only be doing the latter, as the version in the faces-config should only be used for schema validation.",
        "setPropertyActionListener cannot be nested within facelets tag nesting setPropertyActionListener like this:\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:test=\"http://j4fry.org/test\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\">   \r\n\t<body>\r\n\t\t<h:form>\r\n\t\t\t<test:button value=\"test\">\r\n\t\t\t\t<f:setPropertyActionListener value=\"test\" target=\"#{myBean.test}\" />\r\n\t\t\t</test:button>\r\n\t\t\t#{myBean.test}\r\n\t\t</h:form>\r\n\t</body>\r\n</html>\r\n\r\nproduces this error:\r\n\r\n<f:setPropertyActionListener> Parent is not composite component or of type ActionSource, type is: javax.faces.component.html.HtmlForm@366ef7ba\r\n\r\nWhen using this taglib.xml and tag from doc-root/META-INF:\r\n\r\n<!DOCTYPE facelet-taglib PUBLIC\r\n  \"-//Sun Microsystems, Inc.//DTD Facelet Taglib 1.0//EN\"\r\n  \"http://java.sun.com/dtd/facelet-taglib_1_0.dtd\">\r\n<facelet-taglib>\r\n\t<namespace>http://j4fry.org/test</namespace>\r\n\t<tag>\r\n\t\t<tag-name>button</tag-name>\r\n\t\t<source>button.xhtml</source>\r\n\t</tag>\r\n</facelet-taglib>\r\n\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\">\r\n      <ui:composition>   \r\n\t\t<h:commandButton value=\"test\">\r\n\t\t\t<ui:insert />\r\n\t\t</h:commandButton>\r\n      </ui:composition> \r\n</html>"
    ],
    [
        "MYFACES-2564",
        "MYFACES-2543",
        "facelets in an app with a 1.2 level faces-config do not work According to section 10.1.2 of the spec:\r\n\r\nThe sole determinant to backwards compatibility lies in the answer to the question, \"is there any Java\r\ncode in the application, or in libraries used by the application, that extends from or depends on any class in package\r\ncom.sun.facelets and/or its sub-packages?\"\r\n...\r\nIf the answer to this question is \"no\", Facelets in JSF 2.0 is backwards compatible with pre-JSF 2.0 Facelets and such\r\nan application must not continue to bundle the Facelets jar file along with the application, and must not continue to set\r\nthe Facelets configuration parameters.\r\n\r\nThis implies that simply removing the pre-2.0 facelets bundle should allow the app to run properly again in a 2.0 runtime.  \r\n\r\nThe problem is that right now we're doing a check against the version in the faces-config in addition to checking for the context param and the availability of the com/sun/facelets classes.  We should only be doing the latter, as the version in the faces-config should only be used for schema validation.",
        "Facelets Taglib jars are not recognized Facelets taglibs defined according to the spec 10.3.2 are not recognized.\r\n\r\nThis page uses a test taglib (see attachment):\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\r\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\"\r\n      xmlns:test=\"http://j4fry.org/test\">\r\n\t<body>\r\n\t\t<test:button />\r\n\t</body>\r\n</html>\r\n\r\nbut test:button is not resolved..."
    ],
    [
        "MYFACES-2609",
        "MYFACES-2608",
        "f:event type throws ClassNotFoundException for type 'preRenderView' It appears that the PreRenderViewEvent event is not mapped in the NamedEventManager. Thanks to Leonardo for pointing that out!",
        "f:event type=\"preRenderView\" not resolved This shorcut is missing and it should be on NamedEventManager."
    ],
    [
        "MYFACES-2727",
        "MYFACES-2470",
        "h:outputScript / h:outputStylesheet bad relocation when pss is used and there is a refresh transient build When the current view needs to be refreshed and pss is used, h:outputScript / h:outputStylesheet instances are added twice:\r\n\r\n1.  When the view is built.\r\n2. When the view is refreshed.\r\n\r\nThe second pass, the relocation listener is triggered by a PostAddToViewEvent activated when the created duplicate component is attached to the tree. The effect is the component is relocated, but the parent of the component is not updated, because the first call that triggers the event has precedence. So, we have one component pointed from two different locations. The first time I thought make component resource containers transient solve the problem, but this case makes clear the need to fix it.\r\n\r\nThe solution for this one is help ComponentTagHandlerDelegate to find the component at the relocated position. To do that, the plan is introduce an interface called RelocatableResourceHandler with a method called findChildByTagId, so for these components we can check the viewRoot for instances of this class.",
        "Relocatable Resources (via outputStylesheet) cause IllegalStateException ( Client-id : xyz is duplicated in the faces tree.) When having a very simple page, like this:\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\r\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\">\r\n\r\n<h:head id=\"kopf\">\r\n<h:outputStylesheet id=\"cssDude\" name=\"matze.css\" />\r\n<h:outputScript id=\"jsDude\" name=\"jsf.js\" library=\"javax.faces\" />\r\n</h:head>\r\n<h:body id=\"body\">\r\n\r\n<h:form prependId=\"false\">\r\n\r\n  <h:inputText value=\"#{sessionScope['hackSimple']}\" id=\"tipper\">\r\n    <f:ajax event=\"keyup\" render=\"output1\" />\r\n  </h:inputText>\r\n       \r\n  <p><h:outputText id=\"output1\" value=\"#{sessionScope['hackSimple']}\" /></p>\r\n\r\n</h:form>\r\n</h:body>\r\n</html>\r\n\r\n\r\nYou are getting an IllegalStateException:\r\njava.lang.IllegalStateException: Client-id : cssDude is duplicated in the faces tree. Component : cssDude, path: {Component-Path : [Class: javax.faces.component.UIViewRoot,ViewId: /s_ajax.xhtml][Class: javax.faces.component.html.HtmlHead,Id: kopf][Class: javax.faces.component.UIOutput,Id: cssDude]}\r\n\tat org.apache.myfaces.application.jsp.JspStateManagerImpl.checkForDuplicateIds(JspStateManagerImpl.java:515)\r\n\tat org.apache.myfaces.application.jsp.JspStateManagerImpl.checkForDuplicateIds(JspStateManagerImpl.java:530)\r\n\tat org.apache.myfaces.application.jsp.JspStateManagerImpl.checkForDuplicateIds(JspStateManagerImpl.java:530)\r\n\tat org.apache.myfaces.application.jsp.JspStateManagerImpl.saveSerializedView(JspStateManagerImpl.java:468)\r\n\tat javax.faces.application.StateManager.saveView(StateManager.java:114)\r\n\tat org.apache.myfaces.application.jsp.JspStateManagerImpl.saveView(JspStateManagerImpl.java:460)\r\n\tat org.apache.myfaces.view.facelets.FaceletViewDeclarationLanguage.renderView(FaceletViewDeclarationLanguage.java:862)\r\n\tat org.apache.myfaces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:222)\r\n\tat javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59)\r\n\tat org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:73)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:201)\r\n"
    ],
    [
        "MYFACES-2801",
        "MYFACES-1963",
        "HtmlResponseWriterImpl needs to deal with <script> and <style> tags properly on both html and xhtml  I started to solve this issue on MYFACES-2779, but definitively it deserves to have a separate issue.\r\n\r\nHtmlResponseWriterImpl needs to deal with <script> and <style> tags properly on both html and xhtml. There is a very old issue (MYFACES-1353) that suggest a review now donated trinidad code for xhtml.\r\n\r\nAfter checking the ResponseWriter implementations of trinidad, and do some test on ri about, the following points should be taken into account before solve this issue:\r\n\r\n- When jsp is used, part of the page is rendered by it and the other part are renderer by jsf using the ResponseWriter implementation. That means if there is a <script> on a page, no xml comment wraps the content. But the things are different in facelets, because the jsf ResponseWriter implementation is used to render everything. So, if facelets founds a <script> or <style>, it call ResponseWriter.startElement and ResponseWriter.endElement and all related methods.\r\n\r\n- When facelets is used, we first parse .xhtml files with a SAX parser. That means invalid xml markup makes facelets fail. For example:\r\n\r\n<script type=\"text/javascript\">\r\n  alert(\"<EM>This won't work<\\/EM>\");\r\n</script>\r\n\r\n  Since <script> and <style> content is PCDATA on the dtd, the SAX parser does not make distinction and parse the code inside <script> as if the content was more xhtml.\r\n\r\n- The following notation is valid for text/html responses:\r\n\r\n<style type=\"text/css\">\r\n.x23 { background:red; }\r\n</style>\r\n\r\n<style type=\"text/css\">\r\n<![CDATA[\r\n.x24 { background:red; }\r\n]]>\r\n</style>\r\n\r\n<style type=\"text/css\">\r\n/* <![CDATA[ */\r\n.x25 { background:red; }\r\n/* ]]> */\r\n</style>\r\n\r\n<script type=\"text/javascript\">\r\n/* <![CDATA[ */\r\n  alert(\"<EM>This work 1</EM>\");\r\n/* ]]> */\r\n</script>\r\n\r\n<script type=\"text/javascript\">\r\n//<![CDATA[\r\n  alert(\"<EM>This work 2</EM>\");\r\n//]]>\r\n</script>\r\n\r\n<script type=\"text/javascript\">\r\n<!--\r\n  alert(\"<EM>This work 3</EM>\");\r\n//-->\r\n</script>\r\n\r\n<script type=\"text/javascript\">\r\n  alert(\"This work 4\");\r\n</script>\r\n\r\n - This syntax is not valid in xhtml:\r\n\r\n<script type=\"text/javascript\">\r\n<!--\r\n  alert(\"<EM>This won't work in xhtml</EM>\");\r\n//-->\r\n</script>\r\n\r\n   In this case, using //<![CDATA[ or /*<![CDATA[*/ is preferred\r\n\r\n - This syntax pass the SAX parser but fails later if text/html content type is used and IE.\r\n\r\n<script type=\"text/javascript\">\r\n<![CDATA[\r\n  /* Only valid if it is used Xhtml as XML */\r\n  alert(\"<EM>This work on firefox</EM>\");\r\n]]>\r\n</script>\r\n\r\n- \"<!--\" and \"//-->\" could be added as wrapper for <script> content when text/html is used.\r\n\r\n- \"//<![CDATA[\" and \"//]]>\" must be added as a wrapper for <script> and <style> (without \"//\") content and xhtml is used. The reason is in html, <script> and <style> content are considered cdata, but in xhtml it is pcdata by the dtd, but in fact, the intention is, content inside these tags should not be parsed by the web client. Mojarra append this blocks automatically, and I think it is fine to do this too.\r\n\r\n- The set used to prevent include content inside tags that should be empty should only be used in text/html reponses. In xhtml this is not required.\r\n\r\n- Trinidad HtmlResponseWriter has a fast solution to check for empty html elements. We should include it on myfaces.\r\n",
        "<script src=\"\"> generates extra html comments When inserting a javascript source file, extra comments are added. For instance :\n\n<script type=\"text/javascript\" src=\"test.js\"><!-- --> </script>\n\nA way to remove these comments would be to generate comments inside write and writeText methods in org.apache.myfaces.shared.renderkit.html.HtmlResponseWriterImpl, and not in writeElement method. In this case, if no write or writeElement is issued, the unnecessary comments are not written to the output."
    ],
    [
        "MYFACES-2931",
        "MYFACES-2925",
        "Regression: Template areas get lost when using <ui:include>  Template areas specified with <ui:define> are not visible in files that the template includes with <ui:include>.\r\n\r\nSee the following example.\r\n\r\nThe template:\r\nhttp://github.com/chkal/myfaces-tests/blob/vdl-insert-bug/src/main/webapp/template.xhtml\r\n\r\nThe file included by the template:\r\nhttp://github.com/chkal/myfaces-tests/blob/vdl-insert-bug/src/main/webapp/header.xhtml\r\n\r\nThe page using the template:\r\nhttp://github.com/chkal/myfaces-tests/blob/vdl-insert-bug/src/main/webapp/page.xhtml\r\n\r\nMyFaces 2.0.2 will show \"Wrong Title\" in the title div, which is the default value of the <ui:insert>. MyFaces 2.0.1 and Mojarra will instead display \"Correct Title\", which is the value definied in page.xhtml via <ui:define>.  \r\n\r\nYou can download an example application demonstrating this issue here:\r\n\r\nhttp://github.com/chkal/myfaces-tests/archives/vdl-insert-bug\r\n\r\nStart the app with:\r\n\r\nmvn jetty:run\r\n\r\nThe page is then available here:\r\n\r\nhttp://localhost:9090/\r\n",
        "Facelets: Fail to insert from page included in template When trying to insert from page included in template, insertion fail.\r\nWorks well in Mojarra 2.0.2.\r\nAttached sample war.\r\n\r\n[index.xhtml]\r\n\r\n<ui:composition template=\"template.xhtml\">\r\n        <ui:define name=\"insertion\">Inserted OK</ui:define>\r\n</ui:composition>\r\n\r\n[template.xhtml]\r\n\r\n<h:body>\r\n        <ui:include src=\"insertion.xhtml\" />\r\n</h:body>\r\n\r\n[insertion.xhtml]\r\n\r\n<ui:composition>\r\n        <ui:insert name=\"insertion\">Insertion Failed</ui:insert>\r\n</ui:composition>\r\n"
    ],
    [
        "MYFACES-2970",
        "MYFACES-641",
        "f:convertNumber conversion is not symmetric when currencyCode and currencySymbol are used Checking some code on myfaces commons, I notice f:convertNumber conversion is not symmetric when currencyCode and currencySymbol are used.\r\n\r\nThe problem can be seen when an application has one locale, but you require the field read a different currency for the default one. The solution is call formatCurrency too from getAsObject method.\r\n\r\nIt seems MyFaces implements the javadoc description for NumberConverter without think carefully if that description was complete or not. On getAsString it says:\r\n\r\n\"...If the type is set to currency, it is also possible to configure the currency symbol to be used, using either the currencyCode or currencySymbol properties. If both are set, the value for currencyCode takes precedence on a JDK 1.4 (or later) JVM; otherwise, the value for currencySymbol takes precedence....\"\r\n\r\nBut if that so, and getAsObject receive the string formatted with the previous rule, it should take into account the configured currencyCode/currencySymbol.\r\n\r\n",
        "<f:convertNumber type=\"currency\"/> not working properly. <h:outputText value=#{object.dollarAmount}\">\n     <f:convertNumber type=\"currency\"/>\n</h:outputText>\n\nWhen using the sun implementation of JSF it outputs the following: $1,200.55\nWhen using the MyFaces implemenation if output the following: \u00a41,200.55\n\nThe pattern being used is correct. But the currency symbol isn't automatically determined based on my locale the same way the SUN implementation is done. \n\nHaving this automatically determined based on the systems locale makes this better for applications aiming to support multiple languages (I18N).\n"
    ],
    [
        "MYFACES-2970",
        "MYFACES-1901",
        "f:convertNumber conversion is not symmetric when currencyCode and currencySymbol are used Checking some code on myfaces commons, I notice f:convertNumber conversion is not symmetric when currencyCode and currencySymbol are used.\r\n\r\nThe problem can be seen when an application has one locale, but you require the field read a different currency for the default one. The solution is call formatCurrency too from getAsObject method.\r\n\r\nIt seems MyFaces implements the javadoc description for NumberConverter without think carefully if that description was complete or not. On getAsString it says:\r\n\r\n\"...If the type is set to currency, it is also possible to configure the currency symbol to be used, using either the currencyCode or currencySymbol properties. If both are set, the value for currencyCode takes precedence on a JDK 1.4 (or later) JVM; otherwise, the value for currencySymbol takes precedence....\"\r\n\r\nBut if that so, and getAsObject receive the string formatted with the previous rule, it should take into account the configured currencyCode/currencySymbol.\r\n\r\n",
        "NumberConverter sample pattern starts with $ The detail message of the NumberConverter provides a sample pattern which starts with a $ sign ($####,###).\nThe $ sign should be removed and the sample pattern message should be internationalized (load from resource bundle)."
    ],
    [
        "MYFACES-3112",
        "MYFACES-2946",
        "Cannot convert org.apache.webbeans.el.WrappedValueExpression@168ae94f of type class org.apache.myfaces.view.facelets.el.TagValueExpressionUEL to class javax.el.MethodExpression In my \"newEmployee.xhtml\" I am using a custom facelets component, like:\r\n\r\n\r\n<kickstart:inputPassword id=\"password\" value=\"#{createEmployee.employee.password}\" valueChangeListener=\"#{createEmployee.checkPassword}\" />\r\n\r\nThe inputPassword.xhtml looks like:\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n      xmlns:f=\"http://java.sun.com/jsf/core\"\r\n      xmlns:h=\"http://java.sun.com/jsf/html\"\r\n      xmlns:ui=\"http://java.sun.com/jsf/facelets\"\r\n      xmlns:composite=\"http://java.sun.com/jsf/composite\">\r\n  <head/>\r\n  <body>\r\n\r\n    <composite:interface>\r\n      <composite:attribute name=\"id\" required=\"true\" />\r\n      <composite:attribute name=\"value\" required=\"true\" />\r\n      <composite:attribute name=\"valueChangeListener\" required=\"true\" method-signature=\"void f(javax.faces.event.ValueChangeEvent)\" targets=\"inputField\" />\r\n      <composite:editableValueHolder name=\"inputField\" />\r\n    </composite:interface>\r\n\r\n    <composite:implementation>\r\n    \r\n    <div id=\"#{cc.attrs.id}\">\r\n\r\n          <h:inputSecret id=\"inputField\" required=\"true\" value=\"#{cc.attrs.value}\" valueChangeListener=\"#{cc.attrs.valueChangeListener}\">\r\n             <f:ajax event=\"valueChange\" execute=\"@this\" render=\"passwordHint pageForm:globalMessages\" />\r\n          </h:inputSecret>\r\n          <h:outputText id=\"passwordHint\" />\r\n    </div>\r\n\r\n\r\n    </composite:implementation>\r\n  </body>\r\n</html>\r\n\r\n\r\n\r\nWhen I type in a value, and move the focus away (to trigger the valueChange event), I am getting the below stack-trace in the console:\r\n\r\n\r\n\r\nSEVERE: java.lang.IllegalArgumentException: Cannot convert /newEmployee.xhtml at line 39 and column 160 valueChangeListener=\"#{createEmployee.checkPassword}\": org.apache.webbeans.el.WrappedValueExpression@168ae94f of type class org.apache.myfaces.view.facelets.el.TagValueExpressionUEL to class javax.el.MethodExpression\r\njavax.faces.event.AbortProcessingException: java.lang.IllegalArgumentException: Cannot convert /newEmployee.xhtml at line 39 and column 160 valueChangeListener=\"#{createEmployee.checkPassword}\": org.apache.webbeans.el.WrappedValueExpression@168ae94f of type class org.apache.myfaces.view.facelets.el.TagValueExpressionUEL to class javax.el.MethodExpression\r\n\tat javax.faces.event.MethodExpressionValueChangeListener.processValueChange(MethodExpressionValueChangeListener.java:100)\r\n\tat javax.faces.event.ValueChangeEvent.processListener(ValueChangeEvent.java:66)\r\n\tat javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:344)\r\n\tat javax.faces.component.UIInput.broadcast(UIInput.java:333)\r\n\tat javax.faces.component.UIViewRoot._broadcastAll(UIViewRoot.java:972)\r\n\tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:273)\r\n\tat javax.faces.component.UIViewRoot._process(UIViewRoot.java:1284)\r\n\tat javax.faces.component.UIViewRoot.processValidators(UIViewRoot.java:757)\r\n\tat org.apache.myfaces.lifecycle.ProcessValidationsExecutor.execute(ProcessValidationsExecutor.java:34)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:171)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\r\n\tat org.apache.myfaces.extensions.cdi.jsf2.impl.listener.phase.CodiLifecycleWrapper.execute(CodiLifecycleWrapper.java:93)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:189)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:546)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1283)\r\n\tat com.ocpsoft.pretty.PrettyFilter.doFilter(PrettyFilter.java:115)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1254)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:481)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:516)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:230)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:956)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:411)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:188)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:891)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)\r\n\tat org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:268)\r\n\tat org.eclipse.jetty.server.Dispatcher.forward(Dispatcher.java:99)\r\n\tat com.ocpsoft.pretty.PrettyFilter.doFilter(PrettyFilter.java:107)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1254)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:481)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:516)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:230)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:956)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:411)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:188)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:891)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)\r\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:247)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:151)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:114)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:353)\r\n\tat org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:598)\r\n\tat org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:1076)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:805)\r\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:218)\r\n\tat org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:427)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:510)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.access$000(SelectChannelEndPoint.java:34)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:450)\r\n\tat java.lang.Thread.run(Thread.java:680)\r\nCaused by: java.lang.IllegalArgumentException: Cannot convert /newEmployee.xhtml at line 39 and column 160 valueChangeListener=\"#{createEmployee.checkPassword}\": org.apache.webbeans.el.WrappedValueExpression@168ae94f of type class org.apache.myfaces.view.facelets.el.TagValueExpressionUEL to class javax.el.MethodExpression\r\n\tat com.sun.el.lang.ELSupport.coerceToType(ELSupport.java:397)\r\n\tat com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:222)\r\n\tat org.apache.webbeans.el.WrappedValueExpression.getValue(WrappedValueExpression.java:68)\r\n\tat org.apache.myfaces.view.facelets.el.TagValueExpression.getValue(TagValueExpression.java:85)\r\n\tat org.apache.myfaces.view.facelets.el.LocationValueExpression.getValue(LocationValueExpression.java:90)\r\n\tat org.apache.myfaces.view.facelets.el.ValueExpressionMethodExpression.getMethodExpression(ValueExpressionMethodExpression.java:92)\r\n\tat org.apache.myfaces.view.facelets.el.ValueExpressionMethodExpression.invoke(ValueExpressionMethodExpression.java:58)\r\n\tat org.apache.myfaces.view.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:83)\r\n\tat javax.faces.event.MethodExpressionValueChangeListener.processValueChange(MethodExpressionValueChangeListener.java:78)\r\n",
        "composite:attribute \"targets\" property does not match with ViewDeclarationLanguage.retargetMethodExpressions Some days ago, it was mentioned on myfaces dev list that \"targets\"\r\nattribute does not seem to work as expected. After review the available\r\ndocumentation and doing some test, my conclusion was the spec is good,\r\nbut this part needs a little bit more documentation (and fix some \r\nbugs), because there are use cases that are causing problems to users.\r\nSome of these problems has been already mentioned (spec issue 755) but\r\nmy intention here is do a full and detailed analysis. \r\n\r\nThe property \"targets\" is used for these tags:\r\n\r\ncomposite:actionSource\r\ncomposite:editableValueHolder\r\ncomposite:valueHolder\r\ncomposite:clientBehavior\r\ncomposite:attribute\r\n\r\nFor the first four cases, this property is used by :\r\n\r\nViewDeclarationLanguage.retargetAttachedObjects(FacesContext context,\r\n                                    UIComponent topLevelComponent,\r\n                                    List<AttachedObjectHandler> handlers)\r\n\r\nIn JSF 2.0 rev A it was made explicit the need to handle nested\r\ncomposite component with this lines:\r\n\r\n\"... The implementation must support retargeting attached objects from \r\nthe top level compsite component to targets that are composite and \r\nnon-composite components ....\"\r\n\r\nThis is ok ;-).\r\n\r\nThe problem is the description about how composite:attribute \"targets\" \r\nproperty works does not match with the algorithm for:\r\n\r\nViewDeclarationLanguage.retargetMethodExpressions(FacesContext context, \r\n                                    UIComponent topLevelComponent)\r\n\r\nHere is the documentation about composite:attribute \"targets\":\r\n\r\n\"... If this element has a method-signature attribute, \r\n\r\nthe value of the targets attribute must be interpreted as a space \r\n(not tab) separated list of client ids (relative to the top level \r\ncomponent) of components within the <composite:implementation>  section. \r\n\r\nSpace is used as the delimiter for compatibility with the IDREFS and \r\nNMTOKENS data types from the XML Schema. \r\n\r\nEach entry in the list must be interpreted as the id of an inner \r\ncomponent to which the MethodExpression  from the composite component \r\ntag in the using page must be applied. \r\n\r\nIf this element has a method-signature attribute, but no targets \r\nattribute, the value of the name  attribute is used as the single entry \r\nin the list. \r\n\r\nIf the value of the name  attribute is not one of the special values \r\nlisted in the description of the name attribute, targets  (or its \r\nderived value) need not correspond to the id of an inner component ...\".\r\n\r\nAt this point everything seems to be ok. But look this documentation\r\n(I'll put the important points):\r\n\r\n\".....\r\n # Get the value of the targets attribute. If the value is a ValueExpression \r\n   evaluate it. If there is no targets attribute, let the name of the \r\n   metadata element be the evaluated value of the targets attribute.\r\n # Interpret targets as a space (not tab) separated list of ids. For each entry \r\n   in the list:\r\n     ......\r\n    # If name is equal to the string \"action\" without the quotes, call \r\n      ActionSource2.setActionExpression(javax.el.MethodExpression) on target, \r\n      passing attributeMethodExpression.\r\n    # If name is equal to the string \"actionListener\" without the quotes, call \r\n      ActionSource.addActionListener(javax.faces.event.ActionListener) on target, \r\n      passing attributeMethodExpression wrapped in a MethodExpressionActionListener.\r\n    # If name is equal to the string \"validator\" without the quotes, call \r\n      EditableValueHolder.addValidator(javax.faces.validator.Validator) on target, \r\n      passing attributeMethodExpression wrapped in a MethodExpressionValidator.\r\n    # If name is equal to the string \"valueChangeListener\" without the quotes, call \r\n      EditableValueHolder.addValueChangeListener(javax.faces.event.ValueChangeListener) \r\n      on target, passing attributeMethodExpression wrapped in a \r\n      MethodExpressionValueChangeListener.\r\n    # Otherwise, assume that the MethodExpression should be placed in the \r\n      components attribute set. The runtme must create the MethodExpression \r\n      instance based on the value of the \"method-signature\" attribute.\r\n.....\"\r\n\r\nMy first interpretation of this javadoc was that \"targets\" only has sense for \"action\",\r\n\"actionListener\", \"validator\" and \"valueChangeListener\". But note if that's true,\r\nsomeone could expect something like the description on retargetAttachedObjects, right?\r\n\r\nThe current behavior (Mojarra 2.0.3 and Myfaces 2.0.2) is the same, if we have two\r\nnested composite components, that will throw a ClassCastException. There is a issue already\r\nopen for this one:\r\n\r\nhttps://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=755\r\n\r\nThere are two possible alternatives here:\r\n\r\n 1. Implement the algorithm proposed for retargetMethodExpressions and ignore \r\n    composite:attribute \"targets\" property says. \r\n 2. Implement the expected behavior of composite:attribute \"targets\" property and make\r\n    some changes to retargetMethodExpressions algorithm.\r\n\r\nThe intention is take option 2 and include it for JSF 2.0, because in theory should be \r\nhandled as an implementation detail of the algorithm (anyway it could be good to update \r\nthe documentation with the same advice used for retargetAttachedObjects).\r\n\r\nFor \"action\", \"actionListener\", \"validator\" and \"valueChangeListener\" it is clear that\r\nthe action to take is something like this: \r\n\r\n - If target is a composite component and that one \"retarget\" to other components and \r\n   additionally does not implements [ActionSource2/EditableValueHolder], call:\r\n   \r\n   targetComponent.getAttributes().put(attributeName, attributeNameValueExpression);\r\n   \r\n   and call retargetMethodExpressions recursively. Take care of apply the method twice\r\n   and if the property pointed by \"attributeName\" was already set, revert its effects. \r\n   \r\nThe tricky part is how to handle generic method expression properties. The javadoc says:\r\n\r\n\"....\r\n    # Otherwise, assume that the MethodExpression should be placed in the \r\n      components attribute set. The runtme must create the MethodExpression \r\n      instance based on the value of the \"method-signature\" attribute.\r\n.....\"\r\n\r\nBut I have identified three valid cases:\r\n\r\n 1. testSimpleAttributeMethodExpressionEmpty.xhtml (Using an EL #{cc} reference)\r\n\r\n    <testComposite:simpleAttributeMethodExpressionEmpty id=\"cc1\" \r\n    customMethod=\"#{methodExpressionBean.doSomethingFunny}\">\r\n    </testComposite:simpleAttributeMethodExpressionEmpty>\r\n\r\n    simpleAttributeMethodExpressionEmpty.xhtml\r\n\r\n    <composite:interface>\r\n        <composite:attribute \r\n        name=\"customMethod\" \r\n        method-signature=\"String doSomething(String)\"/>\r\n    </composite:interface>\r\n    <composite:implementation>\r\n        <tc:testComponent id=\"testComponent\" customMethod=\"#{cc.attrs.customMethod}\"/>\r\n    </composite:implementation>\r\n\r\n 2. testSimpleAttributeMethodExpressionTarget.xhtml (Using \"targets\" to call \r\n    a property setter directly)\r\n\r\n    <testComposite:simpleAttributeMethodExpressionTarget id=\"cc1\"\r\n     customMethod=\"#{methodExpressionBean.doSomethingFunny}\">\r\n    </testComposite:simpleAttributeMethodExpressionTarget>\r\n    \r\n   simpleAttributeMethodExpressionTarget.xhtml\r\n   \r\n   <composite:interface>\r\n        <composite:attribute \r\n        name=\"customMethod\" \r\n        method-signature=\"String doSomething(String)\" \r\n        targets=\"testComponent\"/>\r\n   </composite:interface>\r\n    <composite:implementation>\r\n        <tc:testComponent id=\"testComponent\"/>\r\n    </composite:implementation>\r\n    \r\n 3. testCompositeAttributeMethodExpressionTarget.xhtml (Using \"targets\", \r\n    but the target component is a composite one)\r\n\r\n    <testComposite:compositeAttributeMethodExpressionTarget id=\"cc1\" \r\n    customMethod=\"#{methodExpressionBean.doSomethingFunny}\">\r\n    </testComposite:compositeAttributeMethodExpressionTarget>\r\n\r\n    compositeAttributeMethodExpressionTarget.xhtml\r\n\r\n    <composite:interface>\r\n        <composite:attribute \r\n        name=\"customMethod\" \r\n        method-signature=\"String doSomething(String)\" \r\n        targets=\"simpleAttributeMethodExpressionTarget\"/>\r\n    </composite:interface>\r\n    <composite:implementation>\r\n        <testComposite:simpleAttributeMethodExpressionTarget id=\"simpleAttributeMethodExpressionTarget\"/>\r\n    </composite:implementation>\r\n    \r\n    simpleAttributeMethodExpressionTarget.xhtml (could be like in 1 or 2)\r\n\r\nThe case (1) actually works but the case (2) and (3) does not work on both \r\nMyFaces 2.0.2 and Mojarra 2.0.3 . "
    ],
    [
        "MYFACES-3117",
        "MYFACES-1791",
        "Current server state saving implementation prevents multi-window usage Problem:\r\n\r\nopen two tabs (or windows) in browser with view:\r\n\r\n<h:body>\r\n        <h:form id=\"formId\">\r\n            <h:commandButton value=\"Click me 20x!\" />\r\n        </h:form>\r\n </h:body>\r\n\r\nthen click the button on the first tab 20x or more -> then click the button on the second tab -> you will get the most beloved ViewExpiredException.\r\n\r\n\r\nReason:\r\noam.SerializedViewCollection drops the saved state for 2. tab from map. \r\n\r\n\r\nSuggestion:\r\nremove the successfully restored view state from map. This can be done, because each SerializedViewKey is unique over *all requests* for one HttpSession -  see DefaultFaceletsStateManagementHelper.nextViewSequence(FacesContext). Because each request has unique sequence number, we can the \"just restored\" one remove from the map, because it can never come from  client again.\r\n\r\nOpen question: the previous statement is true except the double submit problem: \tJAVASERVERFACES_SPEC_PUBLIC-559. In this case, server can process same request (with the same sequence number) twice.",
        " state management and multiple frames There is a problem in JSF when more than one window are opened in an application. There are only a maximum number of NUMBER_OF_VIEWS_IN_SESSION  view states saved at one moment (when server side state saving is enabled).\nIf 2 windows are opened and you navigate on one of them for NUMBER_OF_VIEWS_IN_SESSION times, you will lose the other window's state. \n\n"
    ],
    [
        "MYFACES-3117",
        "MYFACES-1847",
        "Current server state saving implementation prevents multi-window usage Problem:\r\n\r\nopen two tabs (or windows) in browser with view:\r\n\r\n<h:body>\r\n        <h:form id=\"formId\">\r\n            <h:commandButton value=\"Click me 20x!\" />\r\n        </h:form>\r\n </h:body>\r\n\r\nthen click the button on the first tab 20x or more -> then click the button on the second tab -> you will get the most beloved ViewExpiredException.\r\n\r\n\r\nReason:\r\noam.SerializedViewCollection drops the saved state for 2. tab from map. \r\n\r\n\r\nSuggestion:\r\nremove the successfully restored view state from map. This can be done, because each SerializedViewKey is unique over *all requests* for one HttpSession -  see DefaultFaceletsStateManagementHelper.nextViewSequence(FacesContext). Because each request has unique sequence number, we can the \"just restored\" one remove from the map, because it can never come from  client again.\r\n\r\nOpen question: the previous statement is true except the double submit problem: \tJAVASERVERFACES_SPEC_PUBLIC-559. In this case, server can process same request (with the same sequence number) twice.",
        "View to be restored was removed and cannot be retrieved from the map (JspStatemanagerImpl) Affected version: myfaces-impl-1.1.6-SNAPSHOT.jar\n\n\nWe have an web application which used myfaces,tomahawk and freemarker. The manin page of the application is been divided into 3 parts (Top Menu links), Tree menu (Left frame) and selected page to be displayed on the right side frame.\n\nDuring the module test, we observed that myfaces is creating two serialized views. One for the left side tree2 menu jsf and the other for right side content jsf corresponding to the report item selected. Since the default number of views in the session is 20, myfaces will remove the weak referenced view if the number of views in the session exceeds the threshold. So we have done some regression on the tree menu items which had created more than 20 views. But the wierd thing is, it has removed the serialized view of the tree2 jsf in the mid of regression which was created in the initial stage and supposed to be made available in the map and to be restored when the other report menu items are selected. Due to this bug, our application is displaying the tree2 menu in the right side frame as well. We have to refresh/reload the page to get out of this issue.\n\nWhen the other report items are selected, the application is trying to get the view from the serialized map but due to the bug in the code it's unable to find the view which was removed earlier and prints the message \n\nExiting restoreTreeStructure - No serialized view found in server session!\n\nBelow is the suspected code snippet from JspStatemanagerImpl$SerializedViewCollection class\n\n\twhile (_keys.remove(key)) ;\n\t_keys.add(key);\n\n\tint views = getNumberOfViewsInSession(context);\n\t\n\twhile (_keys.size() > views) {\n\tkey = _keys.remove(0);//View will be removed here\n\n\n\tObject oldView = _serializedViews.remove(key);\n\t\n\t\tif (oldView != null) {\n\t\t    getOldSerializedViewsMap().put(key, oldView);\n\t\t}\n\t\n\n\n\t}\n\nDid anyone ever faced the same issue and managed to fix?\n\n\nI hope someone out there might be able to help me out of this issue. I understand that there were some out of memory and perfomance issues in JspStatemanagerImpl of release myfaces-impl-1.1.6-SNAPSHOT which was fixed in myfaces-impl-1.2.X. But to use myfaces-impl-1.2.X, we should run the application in a server which supports JSP 2.1. We are using weblogic 9.2 which has JSP 2.0 container.\n\nI am currently working on this issue to avoid removing the view which is to be restored later for release myfaces-impl-1.1.6-SNAPSHOT.\n\nLet me know if further details required.\nWould greatly appreciate if anyone help me out on this.\n"
    ],
    [
        "MYFACES-3165",
        "MYFACES-3133",
        "UIData.broadcast does not push composite component on EL stack This issue is exactly same as MYFACES-2713, but in this case is for UIData instead UIRepeat.\r\n\r\nThe effect is #{cc} like expressions does not resolve properly the composite parent, because it is not on the EL component stack",
        "\"cc\" attribute cannot be resolved when composite component is used inside a datatable When a composite component is used inside a datatable, the resolving of the general \"cc\"-attribute does not work consistently. For value bindings (with e.g. inputText) everything seems to be fine, but when used inside an \"actionListener\"-attribute or an \"action\"-attribute (with e.g. commandButton) the resolvement of \"cc\" fails. I've isolated the problem to the method \"CompositeComponentELUtils.getCompositeComponentBasedOnLocation(..)\" which checks if the parent component in the component stack is a \"composite component\". The \"HtmlDataTable\" element is not recognized as such."
    ],
    [
        "MYFACES-3181",
        "MYFACES-2497",
        "wrong behaviour in combination with javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL constellation:\r\njavax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL\r\n+ a property annotated with @NotNull\r\nif an input component has a value and it gets removed by the user, a validation error occurs as expected but the old value of the model gets displayed instead of the wrong value (which is the empty string)",
        "INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL on required fields Similar issue as seen in 1.1.6 and 1.2.6.\r\n\r\n1.) set property javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL = true.\r\n\r\n2.) Have an input field with required=\"true\".\r\n\r\n3.) User enters empty string.\r\n\r\n4.) After submitted the form, the input field shows its previous value (is not empty, as entered before and expected)."
    ],
    [
        "MYFACES-3183",
        "MYFACES-3034",
        "UIRepeat offset and size problem I have found a problem with parameters offset and size of ui:repeat tag.\r\noffset sets the first index of the list to iterate over.\r\nsize is the number of element to iterate.\r\n\r\nIf you set a offset value greater than size you get an Exception:\r\njavax.faces.FacesException: iteration offset cannot be greater than collection size\r\n\r\nBut it should be possible to iterate over last two elements of a 102 elements list starting from index 100, for example (offset=100,size=1).",
        "ui:repeat offset and size performs incorrect validation The following ui:repeat tag with those values of size and offset throw a FacesException with the message: \"iteration offset cannot be greater than collection size.\"\r\n\r\n<ui:repeat var=\"listing\" value=\"#{myListings.listings}\" size=\"19\" offset=\"20\">\r\n\r\nIt appears that the method _validateAttributes() in the UIRepeat class performs the validation incorrectly.  It seems to assume that the value of size is the size of the collection, rather than the desired iteration size.  Here is the relevant code from _validateAttributes():\r\n\r\n        if ((size > -1) && (begin > size)) {\r\n            throw new FacesException (\"iteration offset cannot be greater \" +\r\n                \"than collection size\");\r\n        }\r\n\r\nThe exception is thrown in the above case because begin > size, where begin = offset = 20.\r\n"
    ],
    [
        "MYFACES-3239",
        "MYFACES-3146",
        "ui:fragment ignores rendered attribute if nested in h:dataTable or h:panelGroup When nested inside h:dataTable or h:panelGroup, ui:fragment is always rendered even if rendered=\"false\"\r\n\r\nIn the following example, 'This text should not appear' appears in the output.  And it shouldn't.\r\n\r\n<h:dataTable id=\"dtTable\" value=\"#{myBean.someList}\" var=\"row\">\r\n<h:column>\r\n\t<ui:fragment rendered=\"false\">\r\n\t\t<h:outputText value=\"This text should not appear\"/>\r\n\t</ui:fragment>\r\n</h:column>\r\n</h:dataTable>\r\n\r\nThis example with h:panelGroup is similar\r\n<h:panelGroup id=\"somePanel\">\r\n\t<ui:fragment rendered=\"false\">\r\n\t\t<h:outputText value=\"This text should not appear either\"/>\r\n\t</ui:fragment>\r\n</h:panelGroup>\r\n",
        "ui:fragment (ComponentRef) is responsible for rendering its child components JSF 2.0 rev A spec says that ui:fragment has rendered property: If this attribute's value is \"false\" or the value is an EL expression that evaluates to \"false\", the fragment is not rendered in the page.\r\n\r\nBecause ui:fragment is component-only (no renderer) it should returns from getRendersChildren() true to satisfy specified behaviour. \r\n\r\nhttp://java.net/jira/browse/JAVASERVERFACES_SPEC_PUBLIC-661"
    ],
    [
        "MYFACES-3244",
        "MYFACES-3174",
        "ContentTypeList does not contain a supported content type: text/css I have switched from 2.0.6 to 2.0.7 and I get the following exception when I clicked action button,\r\n\r\nJul 27, 2011 12:30:10 PM org.apache.catalina.core.StandardWrapperValve invoke\r\njava.lang.IllegalArgumentException: ContentTypeList does not contain a supported content type: text/css\r\n\tat org.apache.myfaces.shared_impl.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:1928)\r\n\tat org.apache.myfaces.renderkit.html.HtmlRenderKitImpl.createResponseWriter(HtmlRenderKitImpl.java:223)\r\n\tat org.ajax4jsf.resource.TemplateCSSRenderer.send(TemplateCSSRenderer.java:85)\r\n\tat org.ajax4jsf.resource.InternetResourceBase.send(InternetResourceBase.java:374)\r\n\tat org.ajax4jsf.resource.ResourceLifecycle.sendResource(ResourceLifecycle.java:221)\r\n\tat org.ajax4jsf.resource.ResourceLifecycle.send(ResourceLifecycle.java:148)\r\n\tat org.ajax4jsf.resource.InternetResourceService.load(InternetResourceService.java:335)\r\n\tat org.ajax4jsf.cache.LRUMapCache.load(LRUMapCache.java:116)\r\n\tat org.ajax4jsf.cache.LRUMapCache.get(LRUMapCache.java:87)\r\n\tat org.ajax4jsf.resource.InternetResourceService.serviceResource(InternetResourceService.java:195)\r\n\tat org.ajax4jsf.resource.InternetResourceService.serviceResource(InternetResourceService.java:141)\r\n\tat org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:508)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\r\n\tat siwpas.mechsoft.com.tr.integration.EJBSecurityValve.invoke(EJBSecurityValve.java:75)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:851)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\r\n\tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:278)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n\r\nThis problem has not seen in MyFaces 2.0.6",
        "IE9 css loading leads to java.lang.IllegalArgumentException: ContentTypeList does not contain a supported content type: text/css When requesting css resources IE9 sends a header accept \"text/css\" while IE8 or other browsers send \"text/css,*/*\".\r\nWhen loading a css resource with Richfaces 3.3.3 by using <a4j:loadStyle> HtmlRendererUtils.selectContentType throws an IllegalArgumentException because \"text/css\" is not a supported content type:\r\n\r\n{code}\r\njava.lang.IllegalArgumentException: ContentTypeList does not contain a supported content type: text/css\r\n\tat org.apache.myfaces.shared_impl.renderkit.html.HtmlRendererUtils.selectContentType(HtmlRendererUtils.java:1676)\r\n\tat org.apache.myfaces.renderkit.html.HtmlRenderKitImpl.createResponseWriter(HtmlRenderKitImpl.java:152)\r\n\tat org.ajax4jsf.resource.TemplateCSSRenderer.send(TemplateCSSRenderer.java:85)\r\n\tat org.ajax4jsf.resource.InternetResourceBase.send(InternetResourceBase.java:374)\r\n\tat org.ajax4jsf.resource.ResourceLifecycle.sendResource(ResourceLifecycle.java:221)\r\n\tat org.ajax4jsf.resource.ResourceLifecycle.send(ResourceLifecycle.java:148)\r\n\tat org.ajax4jsf.resource.InternetResourceService.load(InternetResourceService.java:335)\r\n\tat org.ajax4jsf.cache.LRUMapCache.load(LRUMapCache.java:116)\r\n\tat org.ajax4jsf.cache.LRUMapCache.get(LRUMapCache.java:87)\r\n\tat org.ajax4jsf.resource.InternetResourceService.serviceResource(InternetResourceService.java:195)\r\n\tat org.ajax4jsf.resource.InternetResourceService.serviceResource(InternetResourceService.java:141)\r\n\tat org.ajax4jsf.webapp.BaseFilter.doFilter(BaseFilter.java:508)\r\n{code}\r\n\r\nIt does not happen when switching back to IE8 Mode or in other browsers like Firefox 3.6, 4.0, Chrome, Safari."
    ],
    [
        "MYFACES-3293",
        "MYFACES-3146",
        "REGRESSION: 2.0.5->2.0.6: RendererUtils.renderChild no longer checks isRendered Hi guys,\r\n\r\nThanks for all the work you do on MyFaces. It is such a robust JSF implementation.\r\n\r\nThere appears to have been a regression between 2.0.5 and 2.0.6/2.0.7? Specifically, RendererUtils.renderChild no longer does an 'upfront' check of whether a UIComponent is rendered or not. This logic appears flawed if the UIComponent does *not* render its own children (the default in Renderer.getRendersChildren)?\r\n\r\nFirst, encodeBegin/encodeEnd for the UIComponent will skip (the default in UIComponentBase.encodeBegin). But encodeChildren for the UIComponent will not get called (because getRendersChildren is false), so the UIComponent has no opportunity to prevent rendering of its children. Instead RendererUtils will invoke encodeBegin/encodeEnd on each child directly. So if a rendered component is nested inside a non-rendered component, it will still appear.\r\n\r\nSurely there is an implication that even if I elect not to render my own children (i.e. I let JSF handle it), they should not get rendered if I myself am not rendered?\r\n\r\nI enclose a small project that demonstrates the issue. Hopefully it is sufficient to debug. If not I can try and untangle it from Metawidget.",
        "ui:fragment (ComponentRef) is responsible for rendering its child components JSF 2.0 rev A spec says that ui:fragment has rendered property: If this attribute's value is \"false\" or the value is an EL expression that evaluates to \"false\", the fragment is not rendered in the page.\r\n\r\nBecause ui:fragment is component-only (no renderer) it should returns from getRendersChildren() true to satisfy specified behaviour. \r\n\r\nhttp://java.net/jira/browse/JAVASERVERFACES_SPEC_PUBLIC-661"
    ],
    [
        "MYFACES-3293",
        "MYFACES-3239",
        "REGRESSION: 2.0.5->2.0.6: RendererUtils.renderChild no longer checks isRendered Hi guys,\r\n\r\nThanks for all the work you do on MyFaces. It is such a robust JSF implementation.\r\n\r\nThere appears to have been a regression between 2.0.5 and 2.0.6/2.0.7? Specifically, RendererUtils.renderChild no longer does an 'upfront' check of whether a UIComponent is rendered or not. This logic appears flawed if the UIComponent does *not* render its own children (the default in Renderer.getRendersChildren)?\r\n\r\nFirst, encodeBegin/encodeEnd for the UIComponent will skip (the default in UIComponentBase.encodeBegin). But encodeChildren for the UIComponent will not get called (because getRendersChildren is false), so the UIComponent has no opportunity to prevent rendering of its children. Instead RendererUtils will invoke encodeBegin/encodeEnd on each child directly. So if a rendered component is nested inside a non-rendered component, it will still appear.\r\n\r\nSurely there is an implication that even if I elect not to render my own children (i.e. I let JSF handle it), they should not get rendered if I myself am not rendered?\r\n\r\nI enclose a small project that demonstrates the issue. Hopefully it is sufficient to debug. If not I can try and untangle it from Metawidget.",
        "ui:fragment ignores rendered attribute if nested in h:dataTable or h:panelGroup When nested inside h:dataTable or h:panelGroup, ui:fragment is always rendered even if rendered=\"false\"\r\n\r\nIn the following example, 'This text should not appear' appears in the output.  And it shouldn't.\r\n\r\n<h:dataTable id=\"dtTable\" value=\"#{myBean.someList}\" var=\"row\">\r\n<h:column>\r\n\t<ui:fragment rendered=\"false\">\r\n\t\t<h:outputText value=\"This text should not appear\"/>\r\n\t</ui:fragment>\r\n</h:column>\r\n</h:dataTable>\r\n\r\nThis example with h:panelGroup is similar\r\n<h:panelGroup id=\"somePanel\">\r\n\t<ui:fragment rendered=\"false\">\r\n\t\t<h:outputText value=\"This text should not appear either\"/>\r\n\t</ui:fragment>\r\n</h:panelGroup>\r\n"
    ],
    [
        "MYFACES-3302",
        "MYFACES-2979",
        "View with viewParameter remove backing-beans from the context in Restore-View-Phase when setting PROJECT_STAGE to Development I use the ViewAccessScope from CODI. \r\nIf I create a bean with viewAccessScope and link from a view (where the bean is called) to another view (where the bean is accessed too) and then go back to the original view, I expect, that the same instance of the bean is used. But at the time I go back to the original view in the Restore-View-Phase the instance of the bean is destroyed and a new one is created.\r\n\r\nThis behaviour only happen if I use the PROJECT_STAGE=Development AND implement a viewParameter to the view. So I think, that in Development-Stage the <metadata>-Tag or the <viewParameter>-Tag do something that brings the BeanManager to handle the beans in abnormal way.\r\n\r\nThere is a sample project at https://bitbucket.org/os890/myfaces-mailing-list/src/56d0ef922d12\r\n",
        "Session invalidation in Development Stage causes error in OpenWebBeans I have a logout method, shown below:\r\n\r\n    public String logout() {\r\n        final FacesContext fc = FacesContext.getCurrentInstance();\r\n        final ExternalContext externalContext = fc.getExternalContext();\r\n        try {\r\n            externalContext.invalidateSession();\r\n            externalContext.redirect(\"http://www.google.nl\");\r\n        } catch (IOException e) {\r\n            log.error(\"Error redirecting after logout\", e);\r\n        } finally {\r\n            fc.responseComplete();\r\n        }\r\n        return null;\r\n    }\r\n\r\nWhen I invoke this method, I get the following Exception from OpenWebBeans:\r\n\r\njavax.enterprise.context.ContextNotActiveException: WebBeans context with scope type annotation @SessionScoped does not exist within current thread\r\n\tat org.apache.webbeans.container.BeanManagerImpl.getContext(BeanManagerImpl.java:309)\r\n\tat org.apache.webbeans.intercept.NormalScopedBeanInterceptorHandler.getContextualInstance(NormalScopedBeanInterceptorHandler.java:124)\r\n\tat org.apache.webbeans.intercept.NormalScopedBeanInterceptorHandler.invoke(NormalScopedBeanInterceptorHandler.java:95)\r\n\tat org.apache.myfaces.examples.ebanking.web.bean.SessionBean_$$_javassist_2.getCustomer(SessionBean_$$_javassist_2.java)\r\n\tat sun.reflect.GeneratedMethodAccessor37.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n\tat java.lang.reflect.Method.invoke(Method.java:597)\r\n\tat javax.el.BeanELResolver.getValue(BeanELResolver.java:302)\r\n\tat javax.el.CompositeELResolver.getValue(CompositeELResolver.java:175)\r\n\tat org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.getValue(FacesCompositeELResolver.java:142)\r\n\tat org.apache.el.parser.AstValue.getValue(AstValue.java:123)\r\n\tat org.apache.el.parser.AstEmpty.getValue(AstEmpty.java:45)\r\n\tat org.apache.el.parser.AstNot.getValue(AstNot.java:42)\r\n\tat org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:186)\r\n\tat org.apache.webbeans.el.WrappedValueExpression.getValue(WrappedValueExpression.java:68)\r\n\tat org.apache.myfaces.view.facelets.el.TagValueExpression.getValue(TagValueExpression.java:85)\r\n\tat javax.faces.component._DeltaStateHelper.eval(_DeltaStateHelper.java:260)\r\n\tat javax.faces.component.UIComponentBase.isRendered(UIComponentBase.java:1007)\r\n\tat javax.faces.component.UIComponent.isVisitable(UIComponent.java:289)\r\n\tat javax.faces.component.UIComponent.visitTree(UIComponent.java:752)\r\n\tat javax.faces.component.UIComponentBase.visitTree(UIComponentBase.java:991)\r\n\tat javax.faces.component.UIComponent.visitTree(UIComponent.java:778)\r\n\tat javax.faces.component.UIComponentBase.visitTree(UIComponentBase.java:991)\r\n\tat org.apache.myfaces.view.facelets.tag.ui.DebugPhaseListener._doTreeVisit(DebugPhaseListener.java:310)\r\n\tat org.apache.myfaces.view.facelets.tag.ui.DebugPhaseListener.afterPhase(DebugPhaseListener.java:286)\r\n\tat org.apache.myfaces.lifecycle.PhaseListenerManager.informPhaseListenersAfter(PhaseListenerManager.java:111)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:185)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:118)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:189)\r\n\r\nThis happens because the DebugPhaseListener starts visiting the tree and, in the process, needs to resolve a value expression, which points to an OWB session bean.\r\n\r\nIt only happens when the DebugPhaseListener is installed. In production mode everything is fine."
    ],
    [
        "MYFACES-3302",
        "MYFACES-3187",
        "View with viewParameter remove backing-beans from the context in Restore-View-Phase when setting PROJECT_STAGE to Development I use the ViewAccessScope from CODI. \r\nIf I create a bean with viewAccessScope and link from a view (where the bean is called) to another view (where the bean is accessed too) and then go back to the original view, I expect, that the same instance of the bean is used. But at the time I go back to the original view in the Restore-View-Phase the instance of the bean is destroyed and a new one is created.\r\n\r\nThis behaviour only happen if I use the PROJECT_STAGE=Development AND implement a viewParameter to the view. So I think, that in Development-Stage the <metadata>-Tag or the <viewParameter>-Tag do something that brings the BeanManager to handle the beans in abnormal way.\r\n\r\nThere is a sample project at https://bitbucket.org/os890/myfaces-mailing-list/src/56d0ef922d12\r\n",
        "DebugPhaseListener shouldn't be active by default this phase-listener leads to a different behaviour in project-stage development -> it shouldn't be active by default"
    ],
    [
        "MYFACES-3311",
        "MYFACES-2552",
        "Can't resolve converter for cc attributes I have some serious problems with composite component attributes. I have a composite component with the attribute value. This attribute (#{cc.attrs.value}) is mapped to the value attribute of an internal h:inputText. When I pass a VE to the composite component, the value is not converted in the h:inputText.\r\n\r\nThe problem is caused in _SharedRendererUtils.findUIOutputConverter(). In this method the converter is resolved based on the type returned by a call to getType() on the VE. Unfortunately, for the VE in the composite component (#{cc.attrs.value}) this resolves to java.lang.Object (and not to java.lang.Long in my case).\r\n\r\nI quickly tried to replace the call to VE.getType() with a call to getValue().getClass(). This works, but I guess this introduces additional constraints I'm currently not aware of. Any ideas? Wasn't something like this already discussed in the past?",
        "TagValueExpression.getType() returns null if the property in the managed bean is null and the expression points to a facelets composite component attribute if you have a facelets composite component with an attribute \"test\" that points to a property in a managed bean (e.g. #{myBean.property}) which is currently null and you refer to that attribute in the implementation via #{cc.attrs.test} you can get the current value (null) or set a new value but you cannot get the type of the property (e.g. String[]). However if the property in the managed bean is non-null you can get the type.\r\n\r\nFor example:\r\n\r\n<cc:interface name=\"mycomponent\">\r\n    <cc:attribute name=\"test\" required=\"true\"/>\r\n</cc:interface>\r\n<cc:implementation>\r\n    <h:selectManyListbox value=\"#{cc.attrs.test}\">\r\n        <f:selectItems value=\"#{some select items}\"/>\r\n    </h:selectManyListbox>\r\n</cc:implementation>\r\n\r\n--> calling #{cc.attrs.test}.getType() will fail if #{cc.attrs.test} resolves to null, but will work if #{cc.attrs.test} resolves to some valid value.\r\n\r\nThis currently results in a NullPointerException in _SharedRendererUtils.getConvertedUISelectManyValue()."
    ],
    [
        "MYFACES-3316",
        "MYFACES-2552",
        "Problem concerning MyFaces-1890: does not work when dealing with a composite component I've run into an issue where the fix in MyFaces-1890 does not work.\r\nWhen dealing with a composite component:\r\n\r\n\t\t \t\t  valueBinding.getType(facesContext.getElContext());\r\n\r\nreturns java.lang.Object since the MapELResolver.getType returns\r\nObject.class in accordance with the EL Spec, the JavaDoc can be found here:\r\n\r\nhttp://java.sun.com/javaee/5/docs/api/javax/el/MapELResolver.html\r\n\r\nThe fix was made in the following JIRA issue for the TomCat EL:\r\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=51177\r\n\r\nSo in the case of a composite components the MyFaces Implementation still\r\nhas an issue.\r\n\r\nCould a context parameter be added to set df.setParseBigDecimal(true); so\r\nthat we can avoid the problem faced here? I think the only reason this was\r\nnot made the default behavior was to keep some samples from failing or\r\nexisting applications that depend on the behavior from failing.\r\n\r\nI'm willing to create,test and contribute the fix. Please let me know what\r\nyour thoughts are on this issue and I'll to a solution to contribute.\r\n\r\n",
        "TagValueExpression.getType() returns null if the property in the managed bean is null and the expression points to a facelets composite component attribute if you have a facelets composite component with an attribute \"test\" that points to a property in a managed bean (e.g. #{myBean.property}) which is currently null and you refer to that attribute in the implementation via #{cc.attrs.test} you can get the current value (null) or set a new value but you cannot get the type of the property (e.g. String[]). However if the property in the managed bean is non-null you can get the type.\r\n\r\nFor example:\r\n\r\n<cc:interface name=\"mycomponent\">\r\n    <cc:attribute name=\"test\" required=\"true\"/>\r\n</cc:interface>\r\n<cc:implementation>\r\n    <h:selectManyListbox value=\"#{cc.attrs.test}\">\r\n        <f:selectItems value=\"#{some select items}\"/>\r\n    </h:selectManyListbox>\r\n</cc:implementation>\r\n\r\n--> calling #{cc.attrs.test}.getType() will fail if #{cc.attrs.test} resolves to null, but will work if #{cc.attrs.test} resolves to some valid value.\r\n\r\nThis currently results in a NullPointerException in _SharedRendererUtils.getConvertedUISelectManyValue()."
    ],
    [
        "MYFACES-3316",
        "MYFACES-3311",
        "Problem concerning MyFaces-1890: does not work when dealing with a composite component I've run into an issue where the fix in MyFaces-1890 does not work.\r\nWhen dealing with a composite component:\r\n\r\n\t\t \t\t  valueBinding.getType(facesContext.getElContext());\r\n\r\nreturns java.lang.Object since the MapELResolver.getType returns\r\nObject.class in accordance with the EL Spec, the JavaDoc can be found here:\r\n\r\nhttp://java.sun.com/javaee/5/docs/api/javax/el/MapELResolver.html\r\n\r\nThe fix was made in the following JIRA issue for the TomCat EL:\r\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=51177\r\n\r\nSo in the case of a composite components the MyFaces Implementation still\r\nhas an issue.\r\n\r\nCould a context parameter be added to set df.setParseBigDecimal(true); so\r\nthat we can avoid the problem faced here? I think the only reason this was\r\nnot made the default behavior was to keep some samples from failing or\r\nexisting applications that depend on the behavior from failing.\r\n\r\nI'm willing to create,test and contribute the fix. Please let me know what\r\nyour thoughts are on this issue and I'll to a solution to contribute.\r\n\r\n",
        "Can't resolve converter for cc attributes I have some serious problems with composite component attributes. I have a composite component with the attribute value. This attribute (#{cc.attrs.value}) is mapped to the value attribute of an internal h:inputText. When I pass a VE to the composite component, the value is not converted in the h:inputText.\r\n\r\nThe problem is caused in _SharedRendererUtils.findUIOutputConverter(). In this method the converter is resolved based on the type returned by a call to getType() on the VE. Unfortunately, for the VE in the composite component (#{cc.attrs.value}) this resolves to java.lang.Object (and not to java.lang.Long in my case).\r\n\r\nI quickly tried to replace the call to VE.getType() with a call to getValue().getClass(). This works, but I guess this introduces additional constraints I'm currently not aware of. Any ideas? Wasn't something like this already discussed in the past?"
    ],
    [
        "MYFACES-3518",
        "MYFACES-1528",
        "Datatable (h:dataTable) is not populated with data despite getAll() method returns ResultSet with table rows ( Using Tomcat 7 + MySQL 5.5 + mysql-connector-java-5.1.18 ) Hello, when I use the following BeanClass and xhtml page, Datatable is not populated with data, despite the method getAll() returns ResultSet that contains customer names.\r\nCode line System.out.println(crs.getString(\"Name\")) iterates through the ResultSet and prints customer names from customer table before the ResultSet is being returned to h:dataTable component. This is what I get in Tomcat log:\r\n\r\n..........\r\n\r\n*******************************************************************\r\n*** WARNING: Apache MyFaces-2 is running in DEVELOPMENT mode.   ***\r\n***                                         ^^^^^^^^^^^         ***\r\n*** Do NOT deploy to your live server(s) without changing this. ***\r\n*** See Application#getProjectStage() for more information.     ***\r\n*******************************************************************\r\n\r\n29/03/2012 22:19:57 org.apache.coyote.AbstractProtocol start\r\nINFO: Starting ProtocolHandler [\"http-bio-8080\"]\r\n29/03/2012 22:19:57 org.apache.coyote.AbstractProtocol start\r\nINFO: Starting ProtocolHandler [\"ajp-bio-8009\"]\r\n29/03/2012 22:19:57 org.apache.catalina.startup.Catalina start\r\nINFO: Server startup in 4706 ms\r\n29/03/2012 22:19:58 org.apache.myfaces.util.ExternalSpecifications isUnifiedELAvailable\r\nINFO: MyFaces Unified EL support enabled\r\n\r\nStart of Debug\r\n\r\nWilliam Dupont\r\nWilliam Dupont\r\n\r\nEnd of Debug\r\n\r\nThis is the ManagedBean:\r\n\r\npackage com.corejsf;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport javax.annotation.Resource;\r\nimport javax.faces.bean.*; \r\nimport javax.sql.DataSource;\r\nimport javax.sql.rowset.CachedRowSet;\r\n\r\n\r\n@ManagedBean\r\n@RequestScoped\r\n\r\npublic class CustomerBean {\r\n\t\r\n\t@Resource(name=\"jdbc/Sufa\") private DataSource ds;\r\n\t  \r\n    public ResultSet getAll() throws SQLException {\r\n      \r\n      Connection conn = ds.getConnection();\r\n\t  try { \r\n        \r\n        Statement stmt = conn.createStatement();        \r\n        ResultSet result = stmt.executeQuery(\"SELECT * FROM customers\");         \r\n        CachedRowSet crs = new com.sun.rowset.CachedRowSetImpl();         \r\n        crs.populate(result);\r\n        \r\n        System.out.println(\"Start of Debug\");\r\n        \r\n        while(crs.next()) {\r\n          System.out.println(crs.getString(\"Name\"));\r\n\t    }\r\n        \r\n        System.out.println(\"End of Debug\");\r\n\t       \r\n        return crs;\r\n        \r\n      } finally {\r\n\t    conn.close();\r\n      }\r\n    }\r\n}\r\n\r\n\r\nThis is xhtml page:\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"  \r\n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"\r\n\txmlns:f=\"http://java.sun.com/jsf/core\"\r\n\txmlns:h=\"http://java.sun.com/jsf/html\"\r\n\txmlns:ui=\"http://java.sun.com/jsf/facelets\">\r\n<h:body>\r\n<h:form>\r\n\r\n<h:dataTable value=\"#{customerBean.all}\" var=\"customer\">\r\n  <h:column>\r\n    <f:facet name=\"header\">#{msgs.nameHeader}</f:facet>\r\n      #{customer.Name}\r\n  </h:column>\r\n</h:dataTable>\r\n\r\n</h:form>\r\n</h:body>\r\n</html>\r\n\r\nIt's important to mention that the same code works perfect when I change JSF implementation to mojarra-2.1.7.\r\nIt's seems like a bug.\r\n\r\nThanks a lot\r\n\r\nSagi\r\n\r\n",
        "Regression: <h:DataTable> empty with CachedRowSet Hi,\n\nI have a working application (myfaces-1.1.3.jar) that fills a CachedRowSet\nand displays in a <h:dataTable>. \n\nWhen replacing with myfaces-1.1.4 or myfaces-1.1.5-SNAPSHOT\n(I tried with SNAPSHOT January1st, February 1st) the dataTable is empty, \nno rows are rendered and no exceptions are thrown.\n\n(Actually I have two applications in three different environments \n which reproducible fail to render the table)\n\nI am unsure whether this relates to TOMAHAWK-89, \nbut that refers to <t:dataTable>\n\nYours,\nSteffen\n\nBean:\n\tpublic CachedRowSet getRsdates(){\n\t\tResultSet d = null;\n\t\tCachedRowSet crs = null;\n\t\ttry {\n\t\t\tcon = getDBConnection();\n\t\t\t\n\t\t\tpstm = con.prepareStatement(\"select date, count(date) as count from userdates group by date order by date;\");\n\t\t\td = pstm.executeQuery();\n\t\t\tcrs = new CachedRowSetImpl();\n\t\t\tcrs.populate(d);\n\t\t\tcon.close();\n\t\t\t\n\t\t} catch (SQLException e) {\n\t\t\t// TODO Auto-generated catch block\n\t\t\te.printStackTrace();\n\t\t}\t\t\n\t\treturn crs;\n\t}\n\n\n*.jsp:\n\t<h:dataTable value=\"#{tisch.rsdates}\" var=\"tupel\" >\n\t\t\t\t\t\t<h:column>\n\t\t\t\t\t\t\t<h:outputText value=\"#{tupel.date}\" />\n\t\t\t\t\t\t</h:column>\n\t\t\t\t\t</h:dataTable>\n"
    ],
    [
        "MYFACES-3525",
        "MYFACES-2497",
        "javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL value affects display behavior for required fields Inconsistent behavior for required field validation when javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is set to true versus false\r\n\r\nTo observe behavior:\r\n1. Set javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL to true in web.xml\r\n\r\n2. Create JSF Page:\r\n\r\n<h:form>\r\n<h:messages showSummary=\"true\"/>\r\n<h:inputText value=\"#{page1Controller.firstName}\"\r\nrequired=\"true\"\r\nrequiredMessage=\"You must enter a first name\"/>\r\n<h:commandButton value=\"Submit\"/>\r\n</h:form>\r\n\r\n3. Create Managed Bean:\r\n\r\n@ManagedBean\r\npublic class Page1Controller\r\n{\r\n\r\npublic String getFirstName()\r\n{ return \"Default Value\"; }\r\n\r\npublic void setFirstName(String value)\r\n{ // no-op (for example purposes only) }\r\n\r\n4. Load JSF page, blank out value in the input field and click Submit\r\n\r\n5. Error message is displayed, however the value in the input field (which you formerly blanked out) is now reset back to its original value.\r\n\r\n6. Change the javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL setting to false and re-run the test.\r\n\r\n7. Note that the value in the input field remains blank.\r\n\r\nBehavior is inconsistent and should be fixed (javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL setting of true or false should not result in inconsistent behavior with required fields)\r\n\r\n----\r\n\r\nTo state in a different way:\r\n\r\nWhen INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is TRUE, and you blank out a value for a required field that had previously been populated by the model, submit the form, you will see the OLD data from the model in the field. However, if that field had had a format validation applied to it and the user submits the form with a format validation error, the OLD data is NOT shown in the field (instead, the submitted/invalid data is shown). The same should happen for required field validation errors. The field should show the \"blank\" data and not the original model data. In order to get the correct behavior, the developer has to currently set INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL to false. But they should not have to do this... whether INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is true or false, the behavior of showing the blank field that the user submitted should be the same.\r\n",
        "INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL on required fields Similar issue as seen in 1.1.6 and 1.2.6.\r\n\r\n1.) set property javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL = true.\r\n\r\n2.) Have an input field with required=\"true\".\r\n\r\n3.) User enters empty string.\r\n\r\n4.) After submitted the form, the input field shows its previous value (is not empty, as entered before and expected)."
    ],
    [
        "MYFACES-3525",
        "MYFACES-3181",
        "javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL value affects display behavior for required fields Inconsistent behavior for required field validation when javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is set to true versus false\r\n\r\nTo observe behavior:\r\n1. Set javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL to true in web.xml\r\n\r\n2. Create JSF Page:\r\n\r\n<h:form>\r\n<h:messages showSummary=\"true\"/>\r\n<h:inputText value=\"#{page1Controller.firstName}\"\r\nrequired=\"true\"\r\nrequiredMessage=\"You must enter a first name\"/>\r\n<h:commandButton value=\"Submit\"/>\r\n</h:form>\r\n\r\n3. Create Managed Bean:\r\n\r\n@ManagedBean\r\npublic class Page1Controller\r\n{\r\n\r\npublic String getFirstName()\r\n{ return \"Default Value\"; }\r\n\r\npublic void setFirstName(String value)\r\n{ // no-op (for example purposes only) }\r\n\r\n4. Load JSF page, blank out value in the input field and click Submit\r\n\r\n5. Error message is displayed, however the value in the input field (which you formerly blanked out) is now reset back to its original value.\r\n\r\n6. Change the javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL setting to false and re-run the test.\r\n\r\n7. Note that the value in the input field remains blank.\r\n\r\nBehavior is inconsistent and should be fixed (javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL setting of true or false should not result in inconsistent behavior with required fields)\r\n\r\n----\r\n\r\nTo state in a different way:\r\n\r\nWhen INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is TRUE, and you blank out a value for a required field that had previously been populated by the model, submit the form, you will see the OLD data from the model in the field. However, if that field had had a format validation applied to it and the user submits the form with a format validation error, the OLD data is NOT shown in the field (instead, the submitted/invalid data is shown). The same should happen for required field validation errors. The field should show the \"blank\" data and not the original model data. In order to get the correct behavior, the developer has to currently set INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL to false. But they should not have to do this... whether INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is true or false, the behavior of showing the blank field that the user submitted should be the same.\r\n",
        "wrong behaviour in combination with javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL constellation:\r\njavax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL\r\n+ a property annotated with @NotNull\r\nif an input component has a value and it gets removed by the user, a validation error occurs as expected but the old value of the model gets displayed instead of the wrong value (which is the empty string)"
    ],
    [
        "MYFACES-3529",
        "MYFACES-3454",
        "version 2.1.5 worked with path in resources library, version 2.1.7 doest not (only a name work) same for Composite Components in default location  In version 2.1.5 library resources could have bin located in cascaded sub-folders like e.g. resources/group/mylibrary and referenced in a page with: <h:graphicImage library=\"group/mylibrary\" name=\"image.png\">.\r\nThis does not work in version 2.1.7 any more. There you need to put the image file in a direct sub-folder of resources.\r\nSo the attribute 'library' is not a path but only a name.\r\n\r\nSame situation with location of composite components. They need to be in a direct sub-folder of resources in version 2.1.7 while in version 2.1.5 it worked with cascaded sub-folders too. ",
        "composite component is not rendered anymore with 2.1.6-SNAPSHOT If you use myfaces 2.1.6-SNAPSHOT, a composite component is not rendered correctly anymore. With myfaces-2.1.5 everything is ok.\r\nA testcase to reproduce this issue is attached.\r\n\r\nhttp://localhost:8080/jsftest/componenttest.jsf"
    ],
    [
        "MYFACES-3615",
        "MYFACES-3585",
        "Memory Leak related to ThreadLocal with org.apache.myfaces.context.servlet.ServletExternalContextImpl I get following error in Tomcat log after stopping my web app:\r\n\r\n24.09.2012 15:56:11 org.apache.catalina.loader.WebappClassLoader clearThreadLocalMap\r\nSCHWERWIEGEND: The web application [/foo] created a ThreadLocal with key of type [java.lang.ThreadLocal] (value [java.lang.ThreadLocal@694c68ff]) and a value of type [org.apache.myfaces.context.servlet.ServletExternalContextImpl] (value [org.apache.myfaces.context.servlet.ServletExternalContextImpl@46a53092]) but failed to remove it when the web application was stopped. This is very likely to create a memory leak.",
        "FacesContextFactoryImpl is not released in FacesContextImpl.release() There is a bug in release method of FacesContextImpl class:\r\n\r\n\r\n    @Override\r\n    public final void release()\r\n    {\r\n        assertNotReleased();\r\n\r\n        _messages = null;\r\n        _orderedMessages = null;\r\n        _currentPhaseId = null;\r\n        _responseStream = null;\r\n        _responseWriter = null;\r\n        _maximumSeverity = null;\r\n        _partialViewContext = null;\r\n        _facesContextFactory = null;\r\n        _renderKitFactory = null;\r\n        _partialViewContextFactory = null;\r\n\r\n        if (_facesContextFactory != null)\r\n        {\r\n            _facesContextFactory.release();\r\n            _facesContextFactory = null;\r\n        }\r\n\r\n_facesContextFactory is set to null and then tested for null. _facesContextFactory is neved released then."
    ],
    [
        "MYFACES-3667",
        "MYFACES-2497",
        "UIInput renders the old value after required validation error if field is empty We have set the parameter 'javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL' to tr.\r\n\r\nScenario:\r\nI have a required input field. I type in a value and submit it. Then I remove the value and try to submit. As expected the validation fails. But now the old value is rendered again.\r\n\r\nThe reason is that other parts rendering the input test whether submittedValue is null and if so render the value.\r\n\r\nIf the named parameter is true UIInput set the submittedValue to null if is empty, not only internally during validation method working.\r\n\r\nThere is a comment in UIInput saying that 'setSubmittedValue(null)' is wrong. Maybe it is wrong and the line should be removed? If I remove it, the behavior is as expected and the empty value is rendered.\r\n\r\n----\r\n// Begin new JSF 2.0 requirement (INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL)\r\nif (shouldInterpretEmptyStringSubmittedValuesAsNull(context) && isEmptyString(submittedValue))\r\n{   \r\n    // -= matzew = setSubmittedValue(null) is wrong, see:\r\n    // https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=671\r\n    setSubmittedValue(null);\r\n    submittedValue = null;\r\n}\r\n// End new JSF 2.0 requirement (INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL)",
        "INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL on required fields Similar issue as seen in 1.1.6 and 1.2.6.\r\n\r\n1.) set property javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL = true.\r\n\r\n2.) Have an input field with required=\"true\".\r\n\r\n3.) User enters empty string.\r\n\r\n4.) After submitted the form, the input field shows its previous value (is not empty, as entered before and expected)."
    ],
    [
        "MYFACES-3667",
        "MYFACES-3181",
        "UIInput renders the old value after required validation error if field is empty We have set the parameter 'javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL' to tr.\r\n\r\nScenario:\r\nI have a required input field. I type in a value and submit it. Then I remove the value and try to submit. As expected the validation fails. But now the old value is rendered again.\r\n\r\nThe reason is that other parts rendering the input test whether submittedValue is null and if so render the value.\r\n\r\nIf the named parameter is true UIInput set the submittedValue to null if is empty, not only internally during validation method working.\r\n\r\nThere is a comment in UIInput saying that 'setSubmittedValue(null)' is wrong. Maybe it is wrong and the line should be removed? If I remove it, the behavior is as expected and the empty value is rendered.\r\n\r\n----\r\n// Begin new JSF 2.0 requirement (INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL)\r\nif (shouldInterpretEmptyStringSubmittedValuesAsNull(context) && isEmptyString(submittedValue))\r\n{   \r\n    // -= matzew = setSubmittedValue(null) is wrong, see:\r\n    // https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=671\r\n    setSubmittedValue(null);\r\n    submittedValue = null;\r\n}\r\n// End new JSF 2.0 requirement (INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL)",
        "wrong behaviour in combination with javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL constellation:\r\njavax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL\r\n+ a property annotated with @NotNull\r\nif an input component has a value and it gets removed by the user, a validation error occurs as expected but the old value of the model gets displayed instead of the wrong value (which is the empty string)"
    ],
    [
        "MYFACES-3667",
        "MYFACES-3525",
        "UIInput renders the old value after required validation error if field is empty We have set the parameter 'javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL' to tr.\r\n\r\nScenario:\r\nI have a required input field. I type in a value and submit it. Then I remove the value and try to submit. As expected the validation fails. But now the old value is rendered again.\r\n\r\nThe reason is that other parts rendering the input test whether submittedValue is null and if so render the value.\r\n\r\nIf the named parameter is true UIInput set the submittedValue to null if is empty, not only internally during validation method working.\r\n\r\nThere is a comment in UIInput saying that 'setSubmittedValue(null)' is wrong. Maybe it is wrong and the line should be removed? If I remove it, the behavior is as expected and the empty value is rendered.\r\n\r\n----\r\n// Begin new JSF 2.0 requirement (INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL)\r\nif (shouldInterpretEmptyStringSubmittedValuesAsNull(context) && isEmptyString(submittedValue))\r\n{   \r\n    // -= matzew = setSubmittedValue(null) is wrong, see:\r\n    // https://javaserverfaces-spec-public.dev.java.net/issues/show_bug.cgi?id=671\r\n    setSubmittedValue(null);\r\n    submittedValue = null;\r\n}\r\n// End new JSF 2.0 requirement (INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL)",
        "javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL value affects display behavior for required fields Inconsistent behavior for required field validation when javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is set to true versus false\r\n\r\nTo observe behavior:\r\n1. Set javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL to true in web.xml\r\n\r\n2. Create JSF Page:\r\n\r\n<h:form>\r\n<h:messages showSummary=\"true\"/>\r\n<h:inputText value=\"#{page1Controller.firstName}\"\r\nrequired=\"true\"\r\nrequiredMessage=\"You must enter a first name\"/>\r\n<h:commandButton value=\"Submit\"/>\r\n</h:form>\r\n\r\n3. Create Managed Bean:\r\n\r\n@ManagedBean\r\npublic class Page1Controller\r\n{\r\n\r\npublic String getFirstName()\r\n{ return \"Default Value\"; }\r\n\r\npublic void setFirstName(String value)\r\n{ // no-op (for example purposes only) }\r\n\r\n4. Load JSF page, blank out value in the input field and click Submit\r\n\r\n5. Error message is displayed, however the value in the input field (which you formerly blanked out) is now reset back to its original value.\r\n\r\n6. Change the javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL setting to false and re-run the test.\r\n\r\n7. Note that the value in the input field remains blank.\r\n\r\nBehavior is inconsistent and should be fixed (javax.faces.INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL setting of true or false should not result in inconsistent behavior with required fields)\r\n\r\n----\r\n\r\nTo state in a different way:\r\n\r\nWhen INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is TRUE, and you blank out a value for a required field that had previously been populated by the model, submit the form, you will see the OLD data from the model in the field. However, if that field had had a format validation applied to it and the user submits the form with a format validation error, the OLD data is NOT shown in the field (instead, the submitted/invalid data is shown). The same should happen for required field validation errors. The field should show the \"blank\" data and not the original model data. In order to get the correct behavior, the developer has to currently set INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL to false. But they should not have to do this... whether INTERPRET_EMPTY_STRING_SUBMITTED_VALUES_AS_NULL is true or false, the behavior of showing the blank field that the user submitted should be the same.\r\n"
    ],
    [
        "MYFACES-3669",
        "MYFACES-3638",
        "NPE in ServerSideStateCacheImpl This is duplicate of MYFACES-3638 still occuring in 2.1.10\r\n\r\nStacktrace:\r\n\r\njava.lang.NullPointerException\r\n\torg.apache.myfaces.renderkit.ServerSideStateCacheImpl$CounterSessionViewStorageFactory.createSerializedViewKey(ServerSideStateCacheImpl.java:1413)\r\n\torg.apache.myfaces.renderkit.ServerSideStateCacheImpl$CounterSessionViewStorageFactory.createSerializedViewKey(ServerSideStateCacheImpl.java:1392)\r\n\torg.apache.myfaces.renderkit.ServerSideStateCacheImpl.saveSerializedViewInServletSession(ServerSideStateCacheImpl.java:318)\r\n\torg.apache.myfaces.renderkit.ServerSideStateCacheImpl.saveSerializedView(ServerSideStateCacheImpl.java:1036)\r\n\torg.apache.myfaces.renderkit.html.HtmlResponseStateManager.saveState(HtmlResponseStateManager.java:149)\r\n\torg.apache.myfaces.application.StateManagerImpl.saveView(StateManagerImpl.java:253)\r\n\torg.apache.myfaces.shared.view.JspViewDeclarationLanguageBase.renderView(JspViewDeclarationLanguageBase.java:221)\r\n\torg.apache.myfaces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:285)\r\n\tjavax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59)\r\n\tjavax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59)\r\n\torg.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:116)\r\n\torg.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:241)\r\n\torg.apache.myfaces.extensions.cdi.jsf2.impl.listener.phase.CodiLifecycleWrapper.render(CodiLifecycleWrapper.java:126)\r\n\torg.apache.myfaces.extensions.validator.core.startup.ExtValLifecycleWrapper.render(ExtValLifecycleWrapper.java:79)\r\n\tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:199)\r\n\torg.apache.myfaces.webapp.MyFacesServlet.service(MyFacesServlet.java:112)\r\n\tde.orbitx.retena.web.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:48)\r\n\torg.primefaces.webapp.filter.FileUploadFilter.doFilter(FileUploadFilter.java:79)\r\n\torg.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)\r\n\torg.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)\r\n\torg.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)\r\n\torg.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)\r\n\torg.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383)\r\n\torg.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362)\r\n\torg.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)",
        "NPE in ServerSideStateCacheImpl I'm getting the following NPE when having a request which leads to a 404:\r\n{code}\r\nNov  9 09:00:45 j02 java.lang.NullPointerException\r\nNov  9 09:00:45 j02      at org.apache.myfaces.renderkit.ServerSideStateCacheImpl$CounterSessionViewStorageFactory.createSerializedViewKey(ServerSideStateCacheImpl.java:1413)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.renderkit.ServerSideStateCacheImpl$CounterSessionViewStorageFactory.createSerializedViewKey(ServerSideStateCacheImpl.java:1392)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.renderkit.ServerSideStateCacheImpl.saveSerializedViewInServletSession(ServerSideStateCacheImpl.java:318)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.renderkit.ServerSideStateCacheImpl.saveSerializedView(ServerSideStateCacheImpl.java:1036)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.renderkit.html.HtmlResponseStateManager.saveState(HtmlResponseStateManager.java:149)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.application.StateManagerImpl.saveView(StateManagerImpl.java:253)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.shared.view.JspViewDeclarationLanguageBase.renderView(JspViewDeclarationLanguageBase.java:221)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.application.ViewHandlerImpl.renderView(ViewHandlerImpl.java:285)\r\nNov  9 09:00:45 j02      at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59)\r\nNov  9 09:00:45 j02      at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59)\r\nNov  9 09:00:45 j02      at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.tomahawk.application.ResourceViewHandlerWrapper.renderView(ResourceViewHandlerWrapper.java:93)\r\nNov  9 09:00:45 j02      at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:59)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.lifecycle.RenderResponseExecutor.execute(RenderResponseExecutor.java:116)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:241)\r\nNov  9 09:00:45 j02      at org.apache.myfaces.extensions.cdi.jsf2.impl.listener.phase.CodiLifecycleWrapper.render(CodiLifecycleWrapper.java:126)\r\nNov  9 09:00:45 j02      at javax.faces.webapp.FacesServlet.service(FacesServlet.java:199)\r\n{code}"
    ],
    [
        "MYFACES-3752",
        "MYFACES-3606",
        "Flash.setKeepMessages(true) does not work with immediate-Commandbutton If you set Flash.setKeepMessages(true) in an action of an immediate-true-button, the messages do not survive the Request-Redirect-Post cycle. If the button is set to immediate=\"false\", setKeepMessages works as advertised.\r\n\r\nI will attach a simple test case that shows this problem.",
        "Flash scope looses values on redirect when immediate=true I have the following button:\r\n\r\n<h:commandButton immediate=\"true\" value=\"immediate_true\" action=\"#{testBean.actionTest}\"></h:commandButton>\r\n\r\nAs part of the testBean.actionTest, I am adding a message to Flash Scope.\r\n\r\n    public String actionTest() {\r\n\t\tFacesContext.getCurrentInstance().getExternalContext().getFlash().put(\"infoMessage\",\"TEST IMMEDIATE\");\r\n\t\treturn \"page2?faces-redirect=true\";\r\n\r\n}\r\n\r\nI do not see the flash message displayed on the next screen when I press the command button. I will\r\nsee the message if immediate is set to false.\r\n\r\nThis works fine with Mojarra 2.1.12"
    ],
    [
        "MYFACES-3927",
        "MYFACES-3923",
        "Myfaces 2.2.4 not compatible with Google App Engine Google App Engine (GAE) for Java uses Servlet 2.5 (Jetty). Myfaces 2.2.4 starts to use Servlet 3.0 calls for http cookies, as described in the issue MYFACES-3923. It is incompatible with GAE (until GAE updated to servlet 3.0 that, for some reasons, is not happening). Can the issue be solved by introducing a context parameter to configure Myfaces 2.2.* to use servlet 2.5 or servlet 3.0?",
        "MyFaces uses Servlet 3.0 only method cookie.setHttpOnly(true) "
    ],
    [
        "MYFACES-3950",
        "MYFACES-3948",
        "Copy&Paste bug in checking last modified dates of taglibs.xml in org.apache.myfaces.config.FacesConfigurator:397\r\n\r\ninstead of:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = configFilesList.get(i);\r\n\r\nit should be:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = faceletFilesList[i];\r\n\r\nThis bug causes IndexOutOfBounds Exceptions!",
        "Wrong check of facelets libraries last modification time in FacesConfigurator This bug was introduced by MYFACES-3929. The last modified check for .taglib.xml is accessing the wrong list. This results in a IndexOutOfBoundsException."
    ],
    [
        "MYFACES-3952",
        "MYFACES-3948",
        "java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 in FacesConfigurator Currently in org.apache.myfaces.config.FacesConfigurator, line 397:\r\n\r\n{code:java}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\n\r\nBut it obviously should be :\r\n{code:java}\r\nString systemId = faceletFilesList[i];\r\n{code}",
        "Wrong check of facelets libraries last modification time in FacesConfigurator This bug was introduced by MYFACES-3929. The last modified check for .taglib.xml is accessing the wrong list. This results in a IndexOutOfBoundsException."
    ],
    [
        "MYFACES-3952",
        "MYFACES-3950",
        "java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 in FacesConfigurator Currently in org.apache.myfaces.config.FacesConfigurator, line 397:\r\n\r\n{code:java}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\n\r\nBut it obviously should be :\r\n{code:java}\r\nString systemId = faceletFilesList[i];\r\n{code}",
        "Copy&Paste bug in checking last modified dates of taglibs.xml in org.apache.myfaces.config.FacesConfigurator:397\r\n\r\ninstead of:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = configFilesList.get(i);\r\n\r\nit should be:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = faceletFilesList[i];\r\n\r\nThis bug causes IndexOutOfBounds Exceptions!"
    ],
    [
        "MYFACES-3953",
        "MYFACES-3948",
        "IndexOutOfBoundException in FacesConfigurator Looks like a copy / paste error in method getLastModifiedTime() which causes only in project stage development:\r\n\r\nfor (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n{\r\n    String systemId = configFilesList.get(i);\r\n\r\nIteration over faceletFilesList and access on configFileList.",
        "Wrong check of facelets libraries last modification time in FacesConfigurator This bug was introduced by MYFACES-3929. The last modified check for .taglib.xml is accessing the wrong list. This results in a IndexOutOfBoundsException."
    ],
    [
        "MYFACES-3953",
        "MYFACES-3950",
        "IndexOutOfBoundException in FacesConfigurator Looks like a copy / paste error in method getLastModifiedTime() which causes only in project stage development:\r\n\r\nfor (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n{\r\n    String systemId = configFilesList.get(i);\r\n\r\nIteration over faceletFilesList and access on configFileList.",
        "Copy&Paste bug in checking last modified dates of taglibs.xml in org.apache.myfaces.config.FacesConfigurator:397\r\n\r\ninstead of:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = configFilesList.get(i);\r\n\r\nit should be:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = faceletFilesList[i];\r\n\r\nThis bug causes IndexOutOfBounds Exceptions!"
    ],
    [
        "MYFACES-3953",
        "MYFACES-3952",
        "IndexOutOfBoundException in FacesConfigurator Looks like a copy / paste error in method getLastModifiedTime() which causes only in project stage development:\r\n\r\nfor (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n{\r\n    String systemId = configFilesList.get(i);\r\n\r\nIteration over faceletFilesList and access on configFileList.",
        "java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 in FacesConfigurator Currently in org.apache.myfaces.config.FacesConfigurator, line 397:\r\n\r\n{code:java}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\n\r\nBut it obviously should be :\r\n{code:java}\r\nString systemId = faceletFilesList[i];\r\n{code}"
    ],
    [
        "MYFACES-3958",
        "MYFACES-3948",
        "FacesConfigurator  last modified from .taglib.xml causes IndexOutOfBoundsException Hello,\r\n\r\nthis is about refresh when in development mode it seems. This has changed in 2.2.7 and it seems broken for me. \r\n\r\nSteps to reproduce:\r\n\r\n1. Have no extra faces-config, just the std one in web-inf\r\n2. Do have extra taglib.xml file!\r\n3. It blows up on first request\r\n\r\n\r\nThe flow is like this, in FacesConfigurator#getLastModifiedTime you get a list back that is empty if no extra faces-configs. Happens on line 378.\r\n\r\nThen a major bad thing happens. The comment on line 389 seems aware that the call call to #getStringInitParameter with key javax.faces.FACELETS_LIBRARIES is actually about taglibs. However the result from that call is treated like faces-configs.\r\n\r\nSince the list of faces-configs was empty since before it blows up on row 397. \r\n\r\nI don't understand the code here fully - but this is my conclusion thus far.\r\n\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tjava.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tjava.util.ArrayList.get(ArrayList.java:429)\r\n\torg.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\torg.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\torg.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\torg.apache.deltaspike.jsf.impl.listener.request.DeltaSpikeLifecycleWrapper.execute(DeltaSpikeLifecycleWrapper.java:89)\r\n\tjavax.faces.lifecycle.LifecycleWrapper.execute(LifecycleWrapper.java:46)\r\n\tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\torg.omnifaces.facesviews.FacesViewsForwardingFilter.doFilter(FacesViewsForwardingFilter.java:111)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.apache.deltaspike.servlet.impl.event.EventBridgeFilter.doFilter(EventBridgeFilter.java:59)\r\n\torg.apache.deltaspike.servlet.impl.produce.RequestResponseHolderFilter.doFilter(RequestResponseHolderFilter.java:63)\r\n\torg.omnifaces.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:122)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.sirona.web.servlet.SironaFilter$Invocation.proceed(SironaFilter.java:140)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:100)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:36)\r\n\torg.apache.sirona.aop.AbstractPerformanceInterceptor.doInvoke(AbstractPerformanceInterceptor.java:84)",
        "Wrong check of facelets libraries last modification time in FacesConfigurator This bug was introduced by MYFACES-3929. The last modified check for .taglib.xml is accessing the wrong list. This results in a IndexOutOfBoundsException."
    ],
    [
        "MYFACES-3958",
        "MYFACES-3950",
        "FacesConfigurator  last modified from .taglib.xml causes IndexOutOfBoundsException Hello,\r\n\r\nthis is about refresh when in development mode it seems. This has changed in 2.2.7 and it seems broken for me. \r\n\r\nSteps to reproduce:\r\n\r\n1. Have no extra faces-config, just the std one in web-inf\r\n2. Do have extra taglib.xml file!\r\n3. It blows up on first request\r\n\r\n\r\nThe flow is like this, in FacesConfigurator#getLastModifiedTime you get a list back that is empty if no extra faces-configs. Happens on line 378.\r\n\r\nThen a major bad thing happens. The comment on line 389 seems aware that the call call to #getStringInitParameter with key javax.faces.FACELETS_LIBRARIES is actually about taglibs. However the result from that call is treated like faces-configs.\r\n\r\nSince the list of faces-configs was empty since before it blows up on row 397. \r\n\r\nI don't understand the code here fully - but this is my conclusion thus far.\r\n\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tjava.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tjava.util.ArrayList.get(ArrayList.java:429)\r\n\torg.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\torg.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\torg.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\torg.apache.deltaspike.jsf.impl.listener.request.DeltaSpikeLifecycleWrapper.execute(DeltaSpikeLifecycleWrapper.java:89)\r\n\tjavax.faces.lifecycle.LifecycleWrapper.execute(LifecycleWrapper.java:46)\r\n\tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\torg.omnifaces.facesviews.FacesViewsForwardingFilter.doFilter(FacesViewsForwardingFilter.java:111)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.apache.deltaspike.servlet.impl.event.EventBridgeFilter.doFilter(EventBridgeFilter.java:59)\r\n\torg.apache.deltaspike.servlet.impl.produce.RequestResponseHolderFilter.doFilter(RequestResponseHolderFilter.java:63)\r\n\torg.omnifaces.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:122)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.sirona.web.servlet.SironaFilter$Invocation.proceed(SironaFilter.java:140)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:100)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:36)\r\n\torg.apache.sirona.aop.AbstractPerformanceInterceptor.doInvoke(AbstractPerformanceInterceptor.java:84)",
        "Copy&Paste bug in checking last modified dates of taglibs.xml in org.apache.myfaces.config.FacesConfigurator:397\r\n\r\ninstead of:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = configFilesList.get(i);\r\n\r\nit should be:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = faceletFilesList[i];\r\n\r\nThis bug causes IndexOutOfBounds Exceptions!"
    ],
    [
        "MYFACES-3958",
        "MYFACES-3952",
        "FacesConfigurator  last modified from .taglib.xml causes IndexOutOfBoundsException Hello,\r\n\r\nthis is about refresh when in development mode it seems. This has changed in 2.2.7 and it seems broken for me. \r\n\r\nSteps to reproduce:\r\n\r\n1. Have no extra faces-config, just the std one in web-inf\r\n2. Do have extra taglib.xml file!\r\n3. It blows up on first request\r\n\r\n\r\nThe flow is like this, in FacesConfigurator#getLastModifiedTime you get a list back that is empty if no extra faces-configs. Happens on line 378.\r\n\r\nThen a major bad thing happens. The comment on line 389 seems aware that the call call to #getStringInitParameter with key javax.faces.FACELETS_LIBRARIES is actually about taglibs. However the result from that call is treated like faces-configs.\r\n\r\nSince the list of faces-configs was empty since before it blows up on row 397. \r\n\r\nI don't understand the code here fully - but this is my conclusion thus far.\r\n\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tjava.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tjava.util.ArrayList.get(ArrayList.java:429)\r\n\torg.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\torg.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\torg.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\torg.apache.deltaspike.jsf.impl.listener.request.DeltaSpikeLifecycleWrapper.execute(DeltaSpikeLifecycleWrapper.java:89)\r\n\tjavax.faces.lifecycle.LifecycleWrapper.execute(LifecycleWrapper.java:46)\r\n\tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\torg.omnifaces.facesviews.FacesViewsForwardingFilter.doFilter(FacesViewsForwardingFilter.java:111)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.apache.deltaspike.servlet.impl.event.EventBridgeFilter.doFilter(EventBridgeFilter.java:59)\r\n\torg.apache.deltaspike.servlet.impl.produce.RequestResponseHolderFilter.doFilter(RequestResponseHolderFilter.java:63)\r\n\torg.omnifaces.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:122)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.sirona.web.servlet.SironaFilter$Invocation.proceed(SironaFilter.java:140)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:100)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:36)\r\n\torg.apache.sirona.aop.AbstractPerformanceInterceptor.doInvoke(AbstractPerformanceInterceptor.java:84)",
        "java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 in FacesConfigurator Currently in org.apache.myfaces.config.FacesConfigurator, line 397:\r\n\r\n{code:java}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\n\r\nBut it obviously should be :\r\n{code:java}\r\nString systemId = faceletFilesList[i];\r\n{code}"
    ],
    [
        "MYFACES-3958",
        "MYFACES-3953",
        "FacesConfigurator  last modified from .taglib.xml causes IndexOutOfBoundsException Hello,\r\n\r\nthis is about refresh when in development mode it seems. This has changed in 2.2.7 and it seems broken for me. \r\n\r\nSteps to reproduce:\r\n\r\n1. Have no extra faces-config, just the std one in web-inf\r\n2. Do have extra taglib.xml file!\r\n3. It blows up on first request\r\n\r\n\r\nThe flow is like this, in FacesConfigurator#getLastModifiedTime you get a list back that is empty if no extra faces-configs. Happens on line 378.\r\n\r\nThen a major bad thing happens. The comment on line 389 seems aware that the call call to #getStringInitParameter with key javax.faces.FACELETS_LIBRARIES is actually about taglibs. However the result from that call is treated like faces-configs.\r\n\r\nSince the list of faces-configs was empty since before it blows up on row 397. \r\n\r\nI don't understand the code here fully - but this is my conclusion thus far.\r\n\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tjava.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tjava.util.ArrayList.get(ArrayList.java:429)\r\n\torg.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\torg.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\torg.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\torg.apache.deltaspike.jsf.impl.listener.request.DeltaSpikeLifecycleWrapper.execute(DeltaSpikeLifecycleWrapper.java:89)\r\n\tjavax.faces.lifecycle.LifecycleWrapper.execute(LifecycleWrapper.java:46)\r\n\tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\torg.omnifaces.facesviews.FacesViewsForwardingFilter.doFilter(FacesViewsForwardingFilter.java:111)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.apache.deltaspike.servlet.impl.event.EventBridgeFilter.doFilter(EventBridgeFilter.java:59)\r\n\torg.apache.deltaspike.servlet.impl.produce.RequestResponseHolderFilter.doFilter(RequestResponseHolderFilter.java:63)\r\n\torg.omnifaces.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:122)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.sirona.web.servlet.SironaFilter$Invocation.proceed(SironaFilter.java:140)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:100)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:36)\r\n\torg.apache.sirona.aop.AbstractPerformanceInterceptor.doInvoke(AbstractPerformanceInterceptor.java:84)",
        "IndexOutOfBoundException in FacesConfigurator Looks like a copy / paste error in method getLastModifiedTime() which causes only in project stage development:\r\n\r\nfor (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n{\r\n    String systemId = configFilesList.get(i);\r\n\r\nIteration over faceletFilesList and access on configFileList."
    ],
    [
        "MYFACES-3968",
        "MYFACES-3948",
        "org.apache.myfaces.config.FacesConfigurator throws  java.lang.IndexOutOfBoundsException The following is defined in web.xml:\r\n\r\n{code}\r\n    <context-param>\r\n        <param-name>javax.faces.FACELETS_LIBRARIES</param-name>\r\n        <param-value>/WEB-INF/jsflive.taglib.xml</param-value>\r\n    </context-param>\r\n{code}\r\n\r\nLine 397 in  is:\r\n{code}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\nwhile it should be:\r\n{code}\r\nString systemId = faceletFilesList[i];\r\n{code}\r\n\r\n{code}\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tat java.util.ArrayList.get(ArrayList.java:429)\r\n\tat org.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\tat org.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:457)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)\r\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\r\n\tat org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{code}",
        "Wrong check of facelets libraries last modification time in FacesConfigurator This bug was introduced by MYFACES-3929. The last modified check for .taglib.xml is accessing the wrong list. This results in a IndexOutOfBoundsException."
    ],
    [
        "MYFACES-3968",
        "MYFACES-3950",
        "org.apache.myfaces.config.FacesConfigurator throws  java.lang.IndexOutOfBoundsException The following is defined in web.xml:\r\n\r\n{code}\r\n    <context-param>\r\n        <param-name>javax.faces.FACELETS_LIBRARIES</param-name>\r\n        <param-value>/WEB-INF/jsflive.taglib.xml</param-value>\r\n    </context-param>\r\n{code}\r\n\r\nLine 397 in  is:\r\n{code}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\nwhile it should be:\r\n{code}\r\nString systemId = faceletFilesList[i];\r\n{code}\r\n\r\n{code}\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tat java.util.ArrayList.get(ArrayList.java:429)\r\n\tat org.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\tat org.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:457)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)\r\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\r\n\tat org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{code}",
        "Copy&Paste bug in checking last modified dates of taglibs.xml in org.apache.myfaces.config.FacesConfigurator:397\r\n\r\ninstead of:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = configFilesList.get(i);\r\n\r\nit should be:\r\n\r\n            for (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n            {\r\n                String systemId = faceletFilesList[i];\r\n\r\nThis bug causes IndexOutOfBounds Exceptions!"
    ],
    [
        "MYFACES-3968",
        "MYFACES-3952",
        "org.apache.myfaces.config.FacesConfigurator throws  java.lang.IndexOutOfBoundsException The following is defined in web.xml:\r\n\r\n{code}\r\n    <context-param>\r\n        <param-name>javax.faces.FACELETS_LIBRARIES</param-name>\r\n        <param-value>/WEB-INF/jsflive.taglib.xml</param-value>\r\n    </context-param>\r\n{code}\r\n\r\nLine 397 in  is:\r\n{code}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\nwhile it should be:\r\n{code}\r\nString systemId = faceletFilesList[i];\r\n{code}\r\n\r\n{code}\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tat java.util.ArrayList.get(ArrayList.java:429)\r\n\tat org.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\tat org.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:457)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)\r\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\r\n\tat org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{code}",
        "java.lang.IndexOutOfBoundsException: Index: 0, Size: 0 in FacesConfigurator Currently in org.apache.myfaces.config.FacesConfigurator, line 397:\r\n\r\n{code:java}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\n\r\nBut it obviously should be :\r\n{code:java}\r\nString systemId = faceletFilesList[i];\r\n{code}"
    ],
    [
        "MYFACES-3968",
        "MYFACES-3953",
        "org.apache.myfaces.config.FacesConfigurator throws  java.lang.IndexOutOfBoundsException The following is defined in web.xml:\r\n\r\n{code}\r\n    <context-param>\r\n        <param-name>javax.faces.FACELETS_LIBRARIES</param-name>\r\n        <param-value>/WEB-INF/jsflive.taglib.xml</param-value>\r\n    </context-param>\r\n{code}\r\n\r\nLine 397 in  is:\r\n{code}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\nwhile it should be:\r\n{code}\r\nString systemId = faceletFilesList[i];\r\n{code}\r\n\r\n{code}\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tat java.util.ArrayList.get(ArrayList.java:429)\r\n\tat org.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\tat org.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:457)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)\r\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\r\n\tat org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{code}",
        "IndexOutOfBoundException in FacesConfigurator Looks like a copy / paste error in method getLastModifiedTime() which causes only in project stage development:\r\n\r\nfor (int i = 0, size = faceletFilesList.length; i < size; i++)\r\n{\r\n    String systemId = configFilesList.get(i);\r\n\r\nIteration over faceletFilesList and access on configFileList."
    ],
    [
        "MYFACES-3968",
        "MYFACES-3958",
        "org.apache.myfaces.config.FacesConfigurator throws  java.lang.IndexOutOfBoundsException The following is defined in web.xml:\r\n\r\n{code}\r\n    <context-param>\r\n        <param-name>javax.faces.FACELETS_LIBRARIES</param-name>\r\n        <param-value>/WEB-INF/jsflive.taglib.xml</param-value>\r\n    </context-param>\r\n{code}\r\n\r\nLine 397 in  is:\r\n{code}\r\nString systemId = configFilesList.get(i);\r\n{code}\r\nwhile it should be:\r\n{code}\r\nString systemId = faceletFilesList[i];\r\n{code}\r\n\r\n{code}\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tat java.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tat java.util.ArrayList.get(ArrayList.java:429)\r\n\tat org.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\tat org.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\tat org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:669)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:457)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\r\n\tat org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\r\n\tat org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:368)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\r\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\r\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:640)\r\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\r\n\tat org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:628)\r\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n{code}",
        "FacesConfigurator  last modified from .taglib.xml causes IndexOutOfBoundsException Hello,\r\n\r\nthis is about refresh when in development mode it seems. This has changed in 2.2.7 and it seems broken for me. \r\n\r\nSteps to reproduce:\r\n\r\n1. Have no extra faces-config, just the std one in web-inf\r\n2. Do have extra taglib.xml file!\r\n3. It blows up on first request\r\n\r\n\r\nThe flow is like this, in FacesConfigurator#getLastModifiedTime you get a list back that is empty if no extra faces-configs. Happens on line 378.\r\n\r\nThen a major bad thing happens. The comment on line 389 seems aware that the call call to #getStringInitParameter with key javax.faces.FACELETS_LIBRARIES is actually about taglibs. However the result from that call is treated like faces-configs.\r\n\r\nSince the list of faces-configs was empty since before it blows up on row 397. \r\n\r\nI don't understand the code here fully - but this is my conclusion thus far.\r\n\r\n\r\njava.lang.IndexOutOfBoundsException: Index: 0, Size: 0\r\n\tjava.util.ArrayList.rangeCheck(ArrayList.java:653)\r\n\tjava.util.ArrayList.get(ArrayList.java:429)\r\n\torg.apache.myfaces.config.FacesConfigurator.getLastModifiedTime(FacesConfigurator.java:397)\r\n\torg.apache.myfaces.config.FacesConfigurator.update(FacesConfigurator.java:469)\r\n\torg.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:137)\r\n\torg.apache.deltaspike.jsf.impl.listener.request.DeltaSpikeLifecycleWrapper.execute(DeltaSpikeLifecycleWrapper.java:89)\r\n\tjavax.faces.lifecycle.LifecycleWrapper.execute(LifecycleWrapper.java:46)\r\n\tjavax.faces.webapp.FacesServlet.service(FacesServlet.java:198)\r\n\torg.omnifaces.facesviews.FacesViewsForwardingFilter.doFilter(FacesViewsForwardingFilter.java:111)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\torg.apache.deltaspike.servlet.impl.event.EventBridgeFilter.doFilter(EventBridgeFilter.java:59)\r\n\torg.apache.deltaspike.servlet.impl.produce.RequestResponseHolderFilter.doFilter(RequestResponseHolderFilter.java:63)\r\n\torg.omnifaces.filter.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:122)\r\n\torg.omnifaces.filter.HttpFilter.doFilter(HttpFilter.java:108)\r\n\torg.apache.sirona.web.servlet.SironaFilter$Invocation.proceed(SironaFilter.java:140)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:100)\r\n\torg.apache.sirona.web.servlet.SironaFilter.proceed(SironaFilter.java:36)\r\n\torg.apache.sirona.aop.AbstractPerformanceInterceptor.doInvoke(AbstractPerformanceInterceptor.java:84)"
    ],
    [
        "MYFACES-3972",
        "MYFACES-3233",
        "SPEC_PUBLIC-1026 is not supported MyFaces doesn't yet support \r\nhttps://java.net/jira/browse/JAVASERVERFACES_SPEC_PUBLIC-1026\r\n\r\nwhich is to support, \r\nf:ajax event=#{bean.method}\r\n\r\nLooks like there is already a Jira with the patch open in MyFaces for this, https://issues.apache.org/jira/browse/MYFACES-3233\r\n\r\nIs there any plan to support this?\r\n",
        "f:ajax event - type=\"javax.el.ValueExpression (must evaluate to java.lang.String)\" not supported myfaces don't support ValueExpression in f:ajax event=#{bean.method}, although it is specified in Facelets tag documentation"
    ],
    [
        "MYFACES-3993",
        "MYFACES-3992",
        "javax.faces.ViewState is not appended back on ajax update of stateless view On ajax update of a stateless view, the javax.faces.ViewState hidden input is not added back to the form that is updated (works on Mojarra 2.2.11).\r\nsee [http://stackoverflow.com/questions/30530686/myfaces-doesnt-append-javax-faces-viewstate-back-on-ajax-update-of-stateless-vi] for a SSCCE",
        "f:ajax doesn't append javax.faces.ViewState back on re-render of form in stateless view http://stackoverflow.com/q/30530686/157882\r\n\r\njavax.faces.ViewState hidden input field get lost when f:ajax updates a form in a stateless view."
    ],
    [
        "MYFACES-4019",
        "MYFACES-3980",
        "Updating a bound value not possible if input component is within c:forEach Updating a value is not possible if the respective input component is within a c:forEach tag.\r\n\r\nThe server shows a {{javax.el.PropertyNotFoundException}}.\r\n\r\n*Example:*\r\n\r\n{code:title=View}\r\n<h:form>\r\n\t<c:forEach items=\"#{controller.containers}\" var=\"container\" varStatus=\"status\">\r\n\t\t<div>\r\n\t\t\t<h:selectBooleanCheckbox id=\"checked_#{status.index}\" value=\"#{container.checked}\" />\r\n\t\t\t\t\t\t\t\r\n\t\t\t<h:panelGroup id=\"infotext_#{status.index}\">\r\n\t\t\t\tcontainer.checked = #{container.checked}\r\n\t\t\t</h:panelGroup>\r\n\t\t</div>\r\n\t</c:forEach>\r\n\t<h:commandButton value=\"Apply\" />\r\n</h:form>\r\n{code}\r\n\r\n{code:title=Controller.java}\r\npublic class Controller {\r\n\tpublic static final class Container implements Serializable {\r\n\t\tprivate boolean checked = false;\r\n\t\t\r\n\t\tpublic final boolean isChecked() { return checked; }\r\n\t\tpublic final void setChecked(boolean checked) { this.checked = checked; }\r\n\t}\r\n\t\r\n\tprivate final List<Container> containers = Arrays.asList(new Container());\r\n\t\r\n\tpublic List<BooleanValueContainer> getContainers() { return containers; }\r\n}\r\n{code}\r\n\r\nA complete example can be found here: [https://github.com/jgrimmwsb/faces-repeater-test].\r\n\r\nSteps to reproduce the error:\r\n\r\n# Ensure the selected {{myfaces.version}} in the {{pom.xml}} is *2.2.8*.\r\n# Start the application and open the respective website.\r\n# Select _c:forEach (non-ajax)_.\r\n# Activate the checkbox.\r\n# Click _Apply_.\r\n\r\nWith _MyFaces 2.2.7_ the error did not occur.\r\n\r\nThe project contains further examples:\r\n\r\n* An c:forEach example including an ajaxified version (working with _MyFaces 2.2.7_)\r\n* An ui:repeat (ajaxified) example (working with _MyFaces 2.2.8_)",
        "c:forEach varStatus is assigned with the wrong base Doing some debugging for MYFACES-3964, it was discovered that c:forEach tag has a typo error when varStatus is set. This cause a malfunction, because the same base for var is used for varStatus. The perceived effect is a PropertyNotFoundException or an ELException.\r\n\r\nThe problem is not present when facelets compatibility mode is enabled."
    ]
]